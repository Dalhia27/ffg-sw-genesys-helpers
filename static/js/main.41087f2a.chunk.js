(window["webpackJsonpffg-sw-genesys-helpers"]=window["webpackJsonpffg-sw-genesys-helpers"]||[]).push([[0],{122:function(e,t){},140:function(e,t){},141:function(e,t){},142:function(e,t){},157:function(e,t){},171:function(e,t,a){},172:function(e,t,a){},173:function(e,t,a){},174:function(e,t,a){},192:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),l=a(21),i=a.n(l);a(95),a(96),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=a(3),r=a(4),o=a(7),m=a(6),u=a(5),p=a(8),d=a(15),h=a(22),b=(a(97),a(48)),g=a.n(b),f=a(84),v=a(99),E=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={},a}return Object(p.a)(t,e),Object(r.a)(t,[{key:"componentWillMount",value:function(){var e=Object(f.a)(g.a.mark(function e(){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.props.raw?s.createElement("span",{dangerouslySetInnerHTML:{__html:this.props.html}}):s.createElement("span",{dangerouslySetInnerHTML:{__html:v(this.props.html,{allowedTags:["h1","h2","h3","h4","svg","div","span","p","ol","ul","li","img","sup","strong","em","br","hr"],allowedAttributes:{div:["class","id"],span:["class","id"],p:["class","id"],img:["src","class","id","style"],ul:["class","id"]}})}})}}]),t}(s.Component),y=a(10),k=a(11),N=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={updated:!1},a}return Object(p.a)(t,e),Object(r.a)(t,[{key:"dismissAlert",value:function(e){this.props.appGlobals.siteAlerts.dismissAlert(e)&&this.setState({updated:!1})}},{key:"render",value:function(){var e=this;return s.createElement("ul",{className:"styleless"},this.props.appGlobals.siteAlerts.activeAlerts.map(function(t,a){return s.createElement("div",{key:a,id:"alert-index-"+a,className:t.autoDismissSeconds>0?"position-relative alert-fade alert alert-"+t.level+" "+t.extraclass:"position-relative alert alert-"+t.level+" "+t.extraclass,style:{display:"block",height:"auto"}},t.autoDismissSeconds>0?s.createElement(s.Fragment,null,s.createElement("div",{className:"alert-countdown"},s.createElement("div",{id:"alert-bar-index-"+a,className:"alert-countdown-bar dismiss-time-"+t.autoDismissSeconds})),s.createElement("span",{onClick:function(){e.dismissAlert(a)},className:"pull-right cursor-pointer",style:{fontSize:"1.5rem"},title:"Click here to dismiss this alert, but it'll auto-dismiss in "+t.autoDismissSeconds+" seconds"},s.createElement(k.a,{icon:y.f,spin:!0}))):s.createElement(s.Fragment,null,t.dismissable?s.createElement("span",{onClick:function(){e.dismissAlert(a)},className:"pull-right cursor-pointer",style:{fontSize:"1.5rem"},title:"Click here to dismiss this alert"},s.createElement(k.a,{icon:y.f})):s.createElement(s.Fragment,null)),t.title?s.createElement("h4",null,t.title):s.createElement(s.Fragment,null),t.message?s.createElement("div",{className:t.messageclass},s.createElement(E,{html:t.message})):s.createElement(s.Fragment,null),t.externalURL?s.createElement("div",{className:"text-right"},s.createElement("a",{className:"btn btn-primary btn-sm",href:t.externalURL},"Go")):s.createElement(s.Fragment,null),t.link?s.createElement("div",{className:"text-right"},s.createElement(d.b,{className:"btn btn-primary btn-sm",to:t.link},"Go")):s.createElement(s.Fragment,null))}))}}]),t}(s.Component),D=(a(171),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={updated:!1},a.toggleMobile=a.toggleMobile.bind(Object(u.a)(a)),a.closeMobile=a.closeMobile.bind(Object(u.a)(a)),a}return Object(p.a)(t,e),Object(r.a)(t,[{key:"toggleMobile",value:function(){this.props.appGlobals.toggleMobile()}},{key:"closeMobile",value:function(){this.props.appGlobals.closeMobile()}},{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("header",{className:"topmenu"},n.a.createElement("ul",null,n.a.createElement("li",{onClick:this.toggleMobile,className:"mobile-menu-button d-inline d-md-none"},n.a.createElement(k.a,{icon:y.c})),n.a.createElement("li",{className:"d-none d-md-inline"},n.a.createElement(d.b,{className:"home"===this.props.current?"current":"",to:"".concat("/ffg-sw-genesys-helpers","/")},"Home")),n.a.createElement("li",{className:"d-none d-md-inline"},n.a.createElement(d.b,{className:"initiative"===this.props.current?"current":"",to:"".concat("/ffg-sw-genesys-helpers","/initiative")},"Initiative")),n.a.createElement("li",{className:"d-none d-md-inline"},n.a.createElement(d.b,{className:"dice"===this.props.current?"current":"",to:"".concat("/ffg-sw-genesys-helpers","/dice")},"Dice")),n.a.createElement("li",{className:"d-none d-md-inline"},n.a.createElement(d.b,{className:"about"===this.props.current?"current":"",to:"".concat("/ffg-sw-genesys-helpers","/about")},"About")),n.a.createElement("li",{className:"d-none d-md-inline"},n.a.createElement(d.b,{className:"settings"===this.props.current?"current":"",to:"".concat("/ffg-sw-genesys-helpers","/settings")},"Settings")))),n.a.createElement("div",{className:"mobile-menu"},n.a.createElement("ul",{className:"styleless"},n.a.createElement("li",null,n.a.createElement(d.b,{onClick:this.closeMobile,className:"home"===this.props.current?"current":"",to:"".concat("/ffg-sw-genesys-helpers","/")},"Home")),n.a.createElement("li",null,n.a.createElement(d.b,{onClick:this.closeMobile,className:"initiative"===this.props.current?"current":"",to:"".concat("/ffg-sw-genesys-helpers","/initiative")},"Initiative")),n.a.createElement("li",null,n.a.createElement(d.b,{onClick:this.closeMobile,className:"dice"===this.props.current?"current":"",to:"".concat("/ffg-sw-genesys-helpers","/dice")},"Dice")),n.a.createElement("li",null,n.a.createElement(d.b,{onClick:this.closeMobile,className:"about"===this.props.current?"current":"",to:"".concat("/ffg-sw-genesys-helpers","/about")},"About")),n.a.createElement("li",null,n.a.createElement(d.b,{onClick:this.closeMobile,className:"settings"===this.props.current?"current":"",to:"".concat("/ffg-sw-genesys-helpers","/settings")},"Settings")))))}}]),t}(n.a.Component)),S=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:this.props.appGlobals.showMobile?"ui-page show-mobile":"ui-page"},n.a.createElement(D,{current:this.props.current,sub:this.props.sub,appGlobals:this.props.appGlobals}),n.a.createElement("div",{className:"content"},n.a.createElement(N,{appGlobals:this.props.appGlobals}),this.props.children))}}]),t}(n.a.Component),C=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={updated:!1},a}return Object(p.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.props.appGlobals.makeDocumentTitle("Home")}},{key:"render",value:function(){return n.a.createElement(S,{current:"home",appGlobals:this.props.appGlobals},"This will be a collection of quick utilities to help Star Wars and Genesys games.")}}]),t}(n.a.Component),w=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={updated:!1},a}return Object(p.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.props.appGlobals.makeDocumentTitle("404 - Page not Found")}},{key:"render",value:function(){return n.a.createElement(S,{appGlobals:this.props.appGlobals},"404 - Not Found")}}]),t}(n.a.Component),O=(a(172),a(195)),G=function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).numPCs=4,a.numNPCs=2,a.currentInitiative=-1,a.initMap=[],a.state={updated:!1};var s=localStorage.getItem("numPCs"),n=localStorage.getItem("initMap"),l=localStorage.getItem("currentInitiative");if(l&&(a.currentInitiative=+l,Number.isNaN(a.currentInitiative)&&(a.currentInitiative=-1)),s&&(a.numPCs=+s),n)a.initMap=JSON.parse(n);else for(var i=0;i<a.numPCs;i++)a.initMap.push({label:"PC",successes:0,advantages:0});return a.updateInitSuccesses=a.updateInitSuccesses.bind(Object(u.a)(a)),a.updateInitAdvantages=a.updateInitAdvantages.bind(Object(u.a)(a)),a.updateNumPCs=a.updateNumPCs.bind(Object(u.a)(a)),a.addNPC=a.addNPC.bind(Object(u.a)(a)),a.addPC=a.addPC.bind(Object(u.a)(a)),a.sortInit=a.sortInit.bind(Object(u.a)(a)),a.initForward=a.initForward.bind(Object(u.a)(a)),a.initBackward=a.initBackward.bind(Object(u.a)(a)),a.removeSlot=a.removeSlot.bind(Object(u.a)(a)),a}return Object(p.a)(t,e),Object(r.a)(t,[{key:"initForward",value:function(){var e=this.currentInitiative+1;e>this.initMap.length-1&&(e=0),this.currentInitiative=e,localStorage.setItem("currentInitiative",e.toString()),this.setState({updated:!0})}},{key:"initBackward",value:function(){var e=this.currentInitiative-1;e<0&&(e=this.initMap.length),this.currentInitiative=e,localStorage.setItem("currentInitiative",e.toString()),this.setState({updated:!0})}},{key:"sortInit",value:function(){this.initMap.sort(function(e,t){return e.successes<t.successes?1:e.successes>t.successes?-1:e.advantages<t.advantages?1:e.advantages>t.advantages?-1:"PC"===e.label&&"NPC"===t.label?-1:"NPC"===e.label&&"PC"===t.label?1:0}),localStorage.setItem("initMap",JSON.stringify(this.initMap)),this.setState({updated:!0})}},{key:"addNPC",value:function(){this.initMap.push({label:"NPC",successes:0,advantages:0}),localStorage.setItem("initMap",JSON.stringify(this.initMap)),this.setState({updated:!0})}},{key:"addPC",value:function(){this.initMap.push({label:"PC",successes:0,advantages:0}),localStorage.setItem("initMap",JSON.stringify(this.initMap)),this.setState({updated:!0})}},{key:"removeSlot",value:function(e){this.initMap.length>e&&this.initMap.splice(e,1),localStorage.setItem("initMap",JSON.stringify(this.initMap)),this.setState({updated:!0})}},{key:"updateInitAdvantages",value:function(e,t){this.initMap.length>e&&(this.initMap[e].advantages=t),localStorage.setItem("initMap",JSON.stringify(this.initMap)),this.setState({updated:!0})}},{key:"updateInitSuccesses",value:function(e,t){this.initMap.length>e&&(this.initMap[e].successes=t),localStorage.setItem("initMap",JSON.stringify(this.initMap)),this.setState({updated:!0})}},{key:"updateNumPCs",value:function(e){this.numPCs=+e.currentTarget.value,localStorage.setItem("numPCs",e.currentTarget.value),this.setState({updated:!0})}},{key:"componentDidMount",value:function(){this.props.appGlobals.makeDocumentTitle("Initiative")}},{key:"render",value:function(){var e=this,t=0,a=0;return n.a.createElement(S,{current:"initiative",appGlobals:this.props.appGlobals},n.a.createElement("div",{className:"text-center control-bar"},n.a.createElement("div",{className:"text-left grow"},n.a.createElement(O.a,{variant:"primary",onClick:this.initBackward,tabIndex:0,title:"Move to the last initiative"},n.a.createElement(k.a,{icon:y.a}))),n.a.createElement("div",{className:""},n.a.createElement(O.a,{variant:"primary",onClick:this.addPC,tabIndex:1,title:"Add a PC"},"Add PC")),n.a.createElement("div",{className:"grow"},n.a.createElement(O.a,{variant:"primary",onClick:this.sortInit,tabIndex:2,title:"Sort by Success, Advantages, then PC vs NPC"},"Sort")),n.a.createElement("div",{className:""},n.a.createElement(O.a,{variant:"primary",onClick:this.addNPC,tabIndex:3,title:"Add an NPC"},"Add NPC")),n.a.createElement("div",{className:"grow text-right"},n.a.createElement(O.a,{variant:"primary",onClick:this.initForward,tabIndex:4,title:"Move to the next initiative"},n.a.createElement(k.a,{icon:y.b})))),this.initMap.map(function(s,l){return"npc"===s.label.toLowerCase()?t++:a++,n.a.createElement("div",{className:l===e.currentInitiative?"init-map-item current":"init-map-item",key:l},n.a.createElement("div",{className:"pc"===s.label.toLowerCase()?"label pc":"label npc"},s.label),n.a.createElement("div",{className:"successes"},n.a.createElement("label",null,n.a.createElement("select",{value:s.successes,className:"text-center",onChange:function(t){return e.updateInitSuccesses(l,+t.currentTarget.value)},tabIndex:l+5,title:"npc"===s.label.toLowerCase()?"NPC #"+t+" successes":"PC #"+a+" successes"},n.a.createElement("option",{value:0},"0"),n.a.createElement("option",{value:1},"1"),n.a.createElement("option",{value:2},"2"),n.a.createElement("option",{value:3},"3"),n.a.createElement("option",{value:4},"4"),n.a.createElement("option",{value:5},"5"),n.a.createElement("option",{value:6},"6"),n.a.createElement("option",{value:7},"7"),n.a.createElement("option",{value:8},"8")),n.a.createElement("span",null,"Successes"))),n.a.createElement("div",{className:"advantages"},n.a.createElement("label",null,n.a.createElement("select",{value:s.advantages,className:"text-center",onChange:function(t){return e.updateInitAdvantages(l,+t.currentTarget.value)},tabIndex:l+5,title:"npc"===s.label.toLowerCase()?"NPC #"+t+" advantages":"PC #"+a+" advantages"},n.a.createElement("option",{value:0},"0"),n.a.createElement("option",{value:1},"1"),n.a.createElement("option",{value:2},"2"),n.a.createElement("option",{value:3},"3"),n.a.createElement("option",{value:4},"4"),n.a.createElement("option",{value:5},"5"),n.a.createElement("option",{value:6},"6"),n.a.createElement("option",{value:7},"7"),n.a.createElement("option",{value:8},"8")),n.a.createElement("span",null,"Advantages"))),n.a.createElement("div",{className:"controls"},n.a.createElement(O.a,{variant:"primary",tabIndex:l+e.initMap.length+5,onClick:function(){return e.removeSlot(l)},title:"Remove this initiative slot"},n.a.createElement(k.a,{icon:y.g}))))}))}}]),t}(n.a.Component),j=function(){function e(t){Object(c.a)(this,e),this._app=void 0,this.activeAlerts=[],this.cancelTimeout=-1,this._app=t,this.activeAlerts=[]}return Object(r.a)(e,[{key:"dismissAlert",value:function(e){var t=this;this.cancelTimeout>-1&&window.clearTimeout(this.cancelTimeout);var a=document.getElementById("alert-index-"+e);return a&&(a.style.height="0px",a.style.paddingTop="0px",a.style.paddingBottom="0px",a.style.borderTop="0px",a.style.borderBottom="0px"),!!(this.activeAlerts.length>e&&this.activeAlerts[e].dismissable)&&(window.setTimeout(function(){var a=null;t.activeAlerts[e].dismissFunction&&(a=t.activeAlerts[e].dismissFunction),t.activeAlerts.splice(e,1),a&&a(),t._app.refreshGlobalState()},100),!0)}},{key:"addAlert",value:function(e,t,a){var s=this,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",l=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=arguments.length>5?arguments[5]:void 0,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,r=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"",o=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"",m=arguments.length>9&&void 0!==arguments[9]?arguments[9]:"";this.activeAlerts.push({level:e,title:t,message:a,messageclass:n,externalURL:r,link:o,dismissable:l,extraclass:m,autoDismissSeconds:c,dismissFunction:i});var u=this.activeAlerts.length-1;this._app.refreshGlobalState(),c>0&&(window.setTimeout(function(){var e=document.getElementById("alert-index-"+u);e&&(e.className=e.className+"fade-away")},1e3*c-250),window.setTimeout(function(){var e=document.getElementById("alert-bar-index-"+u);e&&(e.style.width="0px")},100),this.cancelTimeout=window.setTimeout(function(){s.activeAlerts.splice(u,1),i&&i(),s._app.refreshGlobalState()},1e3*c))}}]),e}(),F=a(194),I="FFG Star Wars/Genesys Helpers",M=(a(173),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={updated:!1},a}return Object(p.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.props.appGlobals.makeDocumentTitle("About")}},{key:"render",value:function(){return n.a.createElement(S,{current:"about",appGlobals:this.props.appGlobals},n.a.createElement("p",null,"Genesys and its logo, and Genesys Foundry and its logo, are trademarks of Fantasy Flight Games in the U.S.A. and other countries. All Fantasy Flight Games characters and character names, and the distinctive likenesses thereof, are trademarks of Fantasy Flight Games. ",n.a.createElement("a",{href:"http://www.FantasyFlightGames.com"},"www.FantasyFlightGames.com"),"."),n.a.createElement("p",null,"All other original material in this work is copyright 2019 by Jeffrey Gordon and published under the GPL. "),n.a.createElement("p",null,"Star Wars and its logo are owned by Lucasfilm."),n.a.createElement("hr",null),n.a.createElement("p",{className:"text-center"},"This project is licensed under the GPL and you can contribute to the source at ",n.a.createElement("a",{href:"https://github.com/jdgwf/ffg-sw-genesys-helpers"},"its GitHub repository.")))}}]),t}(n.a.Component)),x=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={updated:!1},a.setUITheme=a.setUITheme.bind(Object(u.a)(a)),a}return Object(p.a)(t,e),Object(r.a)(t,[{key:"setUITheme",value:function(e){var t=this.props.appGlobals.settings;t.uiTheme=e.currentTarget.value,this.props.appGlobals.saveSettings(t)}},{key:"componentDidMount",value:function(){this.props.appGlobals.makeDocumentTitle("Settings")}},{key:"render",value:function(){return n.a.createElement(S,{current:"settings",appGlobals:this.props.appGlobals},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md-6"},n.a.createElement("fieldset",{className:"fieldset"},n.a.createElement("legend",null,"User Interface"),n.a.createElement("select",{value:this.props.appGlobals.settings.uiTheme,onChange:this.setUITheme},n.a.createElement("option",{value:""},"Default"),n.a.createElement("option",{value:"desaturated"},"Desaturated"),n.a.createElement("option",{value:"retro"},"Retro"))))))}}]),t}(n.a.Component),T=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={updated:!1},a}return Object(p.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.props.appGlobals.makeDocumentTitle("Temp")}},{key:"render",value:function(){return n.a.createElement(S,{current:"Temp",appGlobals:this.props.appGlobals},n.a.createElement("p",{className:"text-box"},n.a.createElement("span",{className:"symbols"},"a")," = Advantage",n.a.createElement("br",null),n.a.createElement("span",{className:"symbols"},"h")," = Threat",n.a.createElement("br",null),n.a.createElement("span",{className:"symbols"},"f")," = Failure",n.a.createElement("br",null),n.a.createElement("span",{className:"symbols"},"s")," = Success",n.a.createElement("br",null),n.a.createElement("span",{className:"symbols"},"t")," = Triumph",n.a.createElement("br",null),n.a.createElement("span",{className:"symbols"},"d")," = Despair",n.a.createElement("br",null),n.a.createElement("span",{className:"setback"},"b")," = Setback Dice",n.a.createElement("br",null),n.a.createElement("span",{className:"boost"},"b")," = Boost Dice",n.a.createElement("br",null),n.a.createElement("span",{className:"difficulty"},"d")," = Difficulty Dice",n.a.createElement("br",null),n.a.createElement("span",{className:"ability"},"d")," = Ability Dice",n.a.createElement("br",null),n.a.createElement("span",{className:"challenge"},"c")," = Challenge Dice",n.a.createElement("br",null),n.a.createElement("span",{className:"proficiency"},"c")," = Proficiency Dice ",n.a.createElement("br",null)))}}]),t}(n.a.Component),R=(a(174),function(){function e(){Object(c.a)(this,e)}return Object(r.a)(e,[{key:"_getRandomInt",value:function(e){return Math.floor(Math.random()*Math.floor(e))}},{key:"rollDie",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6;return this._getRandomInt(e)+1}},{key:"rollFGDice",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,c=0,r=0,o=0,m=0,u=0,p=0,d=0,h=0,b=0,g=0,f=0,v=0,E=0,y=0,k=0,N=0,D=[],S=0;S<e;S++){var C=this.rollDie(8),w={type:"ability",numSides:8,rawRoll:C,successes:0,advantages:0,failures:0,threats:0,triumphs:0,despairs:0,lightSide:0,darkSide:0};switch(C){case 1:break;case 2:case 3:w.successes++;break;case 4:w.successes++,w.successes++;break;case 5:case 6:w.advantages++;break;case 7:w.advantages++,w.successes++;break;case 8:w.advantages++,w.advantages++}D.push(w)}for(var O=0;O<s;O++){var G=this.rollDie(8),j={type:"difficulty",numSides:8,rawRoll:G,successes:0,advantages:0,failures:0,threats:0,triumphs:0,despairs:0,lightSide:0,darkSide:0};switch(G){case 1:break;case 2:j.failures++;break;case 3:j.failures++,j.failures++;break;case 4:case 5:case 6:j.threats++;break;case 7:j.threats++,j.threats++;break;case 8:j.threats++,j.failures++}D.push(j)}for(var F=0;F<a;F++){var I=this.rollDie(6),M={type:"boost",numSides:8,rawRoll:I,successes:0,advantages:0,failures:0,threats:0,triumphs:0,despairs:0,lightSide:0,darkSide:0};switch(I){case 1:case 2:break;case 3:M.successes++;break;case 4:M.successes++,M.advantages++;break;case 5:M.advantages++,M.advantages++;break;case 6:M.advantages++}D.push(M)}for(var x=0;x<l;x++){var T=this.rollDie(6),R={type:"setback",numSides:8,rawRoll:T,successes:0,advantages:0,failures:0,threats:0,triumphs:0,despairs:0,lightSide:0,darkSide:0};switch(T){case 1:case 2:break;case 3:case 4:R.failures++;break;case 5:case 6:R.threats++}D.push(R)}for(var A=0;A<t;A++){var P=this.rollDie(12),L={type:"proficiency",numSides:8,rawRoll:P,successes:0,advantages:0,failures:0,threats:0,triumphs:0,despairs:0,lightSide:0,darkSide:0};switch(P){case 1:break;case 2:case 3:L.successes++;break;case 4:case 5:L.successes++,L.successes++;break;case 6:L.advantages++;break;case 7:case 8:case 9:L.advantages++,L.successes++;break;case 10:case 11:L.advantages++,L.advantages++;break;case 12:L.successes++,L.triumphs++}D.push(L)}for(var B=0;B<n;B++){var _=this.rollDie(8),J={type:"challenge",numSides:8,rawRoll:_,successes:0,advantages:0,failures:0,threats:0,triumphs:0,despairs:0,lightSide:0,darkSide:0};switch(_){case 1:break;case 2:case 3:J.failures++;break;case 4:case 5:J.failures++,J.failures++;break;case 6:case 7:J.threats++;break;case 8:case 9:J.threats++,J.failures++;break;case 10:case 11:J.threats++,J.threats++;break;case 12:J.failures++,J.despairs++}D.push(J)}for(var H=0;H<i;H++){var U=this.rollDie(8),W={type:"force",numSides:8,rawRoll:U,successes:0,advantages:0,failures:0,threats:0,triumphs:0,despairs:0,lightSide:0,darkSide:0};switch(U){case 1:case 2:case 3:case 4:case 5:case 6:W.darkSide++;break;case 7:W.darkSide++,W.darkSide++;break;case 8:case 9:W.lightSide++;break;case 10:case 11:case 12:W.lightSide++,W.lightSide++}D.push(W)}for(var Y=0,z=D;Y<z.length;Y++){var q=z[Y];c+=q.successes,r+=q.advantages,o+=q.failures,m+=q.threats,p+=q.despairs,u+=q.triumphs,E+=q.lightSide,k+=q.darkSide}return c>o?d=c-o:b=o-c,m>r?g=m-r:h=r-m,p>u?v=p-u:f=u-p,k>E?N=k-E:y=E-k,{rolls:D,netSuccesses:c,netAdvantages:r,netFailures:o,netThreats:m,netTriumphs:u,netDespairs:p,grossSuccesses:d,grossAdvantages:h,grossFailures:b,grossThreats:g,grossTriumphs:f,grossDespairs:v,grossDarkSide:N,grossLightSide:y,netLightSide:E,netDarkSide:k,total:0}}}]),e}()),A=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return n.a.createElement("span",{className:"die die-"+this.props.dieResult.type,title:this.props.dieResult.type},n.a.createElement("span",{className:"die-bg"},"setback"===this.props.dieResult.type?n.a.createElement("span",{className:"setback"},"b"):n.a.createElement(n.a.Fragment,null),"boost"===this.props.dieResult.type?n.a.createElement("span",{className:"boost"},"b"):n.a.createElement(n.a.Fragment,null),"difficulty"===this.props.dieResult.type?n.a.createElement("span",{className:"difficulty"},"d"):n.a.createElement(n.a.Fragment,null),"ability"===this.props.dieResult.type?n.a.createElement("span",{className:"ability"},"d"):n.a.createElement(n.a.Fragment,null),"challenge"===this.props.dieResult.type?n.a.createElement("span",{className:"challenge"},"c"):n.a.createElement(n.a.Fragment,null),"proficiency"===this.props.dieResult.type?n.a.createElement("span",{className:"proficiency"},"c"):n.a.createElement(n.a.Fragment,null)),n.a.createElement("span",{className:"die-face"},1===this.props.dieResult.triumphs?n.a.createElement("span",{className:"icon-single"},"t"):n.a.createElement(n.a.Fragment,null,1===this.props.dieResult.despairs?n.a.createElement("span",{className:"icon-single"},"d"):n.a.createElement(n.a.Fragment,null,1===this.props.dieResult.successes?n.a.createElement(n.a.Fragment,null,1===this.props.dieResult.advantages?n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"icon-1"},"s"),n.a.createElement("span",{className:"icon-2"},"a")):n.a.createElement("span",{className:"icon-single"},"s")):n.a.createElement(n.a.Fragment,null),2===this.props.dieResult.successes?n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"icon-1"},"s"),n.a.createElement("span",{className:"icon-2"},"s")):n.a.createElement(n.a.Fragment,null),1===this.props.dieResult.advantages?n.a.createElement(n.a.Fragment,null,1===this.props.dieResult.successes?n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"icon-1"},"s"),n.a.createElement("span",{className:"icon-2"},"a")):n.a.createElement("span",{className:"icon-single"},"a")):n.a.createElement(n.a.Fragment,null),2===this.props.dieResult.advantages?n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"icon-1"},"a"),n.a.createElement("span",{className:"icon-2"},"a")):n.a.createElement(n.a.Fragment,null),1===this.props.dieResult.failures?n.a.createElement(n.a.Fragment,null,1===this.props.dieResult.threats?n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"icon-1"},"f"),n.a.createElement("span",{className:"icon-2"},"h")):n.a.createElement("span",{className:"icon-single"},"f")):n.a.createElement(n.a.Fragment,null),2===this.props.dieResult.failures?n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"icon-1"},"f"),n.a.createElement("span",{className:"icon-2"},"f")):n.a.createElement(n.a.Fragment,null),1===this.props.dieResult.threats?n.a.createElement(n.a.Fragment,null,1===this.props.dieResult.failures?n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"icon-1"},"f"),n.a.createElement("span",{className:"icon-2"},"h")):n.a.createElement("span",{className:"icon-single"},"h")):n.a.createElement(n.a.Fragment,null),2===this.props.dieResult.threats?n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"icon-1"},"h"),n.a.createElement("span",{className:"icon-2"},"h")):n.a.createElement(n.a.Fragment,null)))))}}]),t}(n.a.Component),P=function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).dieRolls=null,a.diceObj=new R;var s=3,n=1,l=0,i=2,r=0,p=0,d=0,h=localStorage.getItem("abilityDice");h&&(s=+h);var b=localStorage.getItem("proficiencyDice");b&&(n=+b);var g=localStorage.getItem("boostsDice");g&&(l=+g);var f=localStorage.getItem("difficultyDice");f&&(i=+f);var v=localStorage.getItem("challengeDice");v&&(r=+v);var E=localStorage.getItem("setbackDice");E&&(p=+E);var y=localStorage.getItem("forceDice");return y&&(d=+y),a.state={updated:!1,abilityDice:s,proficiencyDice:n,boostsDice:l,difficultyDice:i,challengeDice:r,setbackDice:p,forceDice:d},a.rollDice=a.rollDice.bind(Object(u.a)(a)),a.rollDice(),a}return Object(p.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.props.appGlobals.makeDocumentTitle("Dice")}},{key:"rollDice",value:function(){this.dieRolls=this.diceObj.rollFGDice(this.state.abilityDice,this.state.proficiencyDice,this.state.boostsDice,this.state.difficultyDice,this.state.challengeDice,this.state.setbackDice,this.state.forceDice),this.setState({updated:!0})}},{key:"incrementDie",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;switch(e.toLowerCase().trim()){case"ability":var a=this.state.abilityDice+t;a<0&&(a=0),localStorage.setItem("abilityDice",a.toString()),this.setState({abilityDice:a});break;case"proficiency":var s=this.state.proficiencyDice+t;s<0&&(s=0),localStorage.setItem("proficiencyDice",s.toString()),this.setState({proficiencyDice:s});break;case"setback":var n=this.state.setbackDice+t;n<0&&(n=0),localStorage.setItem("setbackDice",n.toString()),this.setState({setbackDice:n});break;case"difficulty":var l=this.state.difficultyDice+t;l<0&&(l=0),localStorage.setItem("difficultyDice",l.toString()),this.setState({difficultyDice:l});break;case"force":var i=this.state.forceDice+t;i<0&&(i=0),localStorage.setItem("forceDice",i.toString()),this.setState({forceDice:i});break;case"boost":var c=this.state.boostsDice+t;c<0&&(c=0),localStorage.setItem("boostsDice",c.toString()),this.setState({boostsDice:c});break;case"challenge":var r=this.state.challengeDice+t;r<0&&(r=0),localStorage.setItem("challengeDice",r.toString()),this.setState({challengeDice:r})}}},{key:"render",value:function(){var e=this;return n.a.createElement(S,{current:"dice",appGlobals:this.props.appGlobals},n.a.createElement("div",{className:"dice-select-container"},n.a.createElement("div",{className:"text-center dice-select"},n.a.createElement("span",{className:"bigger-font"},n.a.createElement("span",{className:"dice die-ability"},"d"),"\xa0x",this.state.abilityDice,n.a.createElement("br",null)),n.a.createElement(O.a,{variant:"primary",className:"btn-xs",onClick:function(){return e.incrementDie("ability",-1)},disabled:this.state.abilityDice<1},n.a.createElement(k.a,{icon:y.d})),"\xa0",n.a.createElement(O.a,{variant:"primary",className:"btn-xs",onClick:function(){return e.incrementDie("ability",1)}},n.a.createElement(k.a,{icon:y.e}))),n.a.createElement("div",{className:"text-center dice-select"},n.a.createElement("span",{className:"bigger-font"},n.a.createElement("span",{className:"dice die-difficulty"},"d"),"\xa0x",this.state.difficultyDice,n.a.createElement("br",null)),n.a.createElement(O.a,{variant:"primary",className:"btn-xs",onClick:function(){return e.incrementDie("difficulty",-1)},disabled:this.state.difficultyDice<1},n.a.createElement(k.a,{icon:y.d})),"\xa0",n.a.createElement(O.a,{variant:"primary",className:"btn-xs",onClick:function(){return e.incrementDie("difficulty",1)}},n.a.createElement(k.a,{icon:y.e}))),n.a.createElement("div",{className:"text-center dice-select"},n.a.createElement("span",{className:"bigger-font"},n.a.createElement("span",{className:"dice die-boost"},"b"),"\xa0x",this.state.boostsDice,n.a.createElement("br",null)),n.a.createElement(O.a,{variant:"primary",className:"btn-xs",onClick:function(){return e.incrementDie("boost",-1)},disabled:this.state.boostsDice<1},n.a.createElement(k.a,{icon:y.d})),"\xa0",n.a.createElement(O.a,{variant:"primary",className:"btn-xs",onClick:function(){return e.incrementDie("boost",1)}},n.a.createElement(k.a,{icon:y.e}))),n.a.createElement("div",{className:"text-center dice-select"},n.a.createElement("span",{className:"bigger-font"},n.a.createElement("span",{className:"dice die-setback"},"b"),"\xa0x",this.state.setbackDice,n.a.createElement("br",null)),n.a.createElement(O.a,{variant:"primary",className:"btn-xs",onClick:function(){return e.incrementDie("setback",-1)},disabled:this.state.setbackDice<1},n.a.createElement(k.a,{icon:y.d})),"\xa0",n.a.createElement(O.a,{variant:"primary",className:"btn-xs",onClick:function(){return e.incrementDie("setback",1)}},n.a.createElement(k.a,{icon:y.e}))),n.a.createElement("div",{className:"text-center dice-select"},n.a.createElement("span",{className:"bigger-font"},n.a.createElement("span",{className:"dice die-proficiency"},"c"),"\xa0x",this.state.proficiencyDice,n.a.createElement("br",null)),n.a.createElement(O.a,{variant:"primary",className:"btn-xs",onClick:function(){return e.incrementDie("proficiency",-1)},disabled:this.state.proficiencyDice<1},n.a.createElement(k.a,{icon:y.d})),"\xa0",n.a.createElement(O.a,{variant:"primary",className:"btn-xs",onClick:function(){return e.incrementDie("proficiency",1)}},n.a.createElement(k.a,{icon:y.e}))),n.a.createElement("div",{className:"text-center dice-select"},n.a.createElement("span",{className:"bigger-font"},n.a.createElement("span",{className:"dice die-challenge"},"c"),"\xa0x",this.state.challengeDice,n.a.createElement("br",null)),n.a.createElement(O.a,{variant:"primary",className:"btn-xs",onClick:function(){return e.incrementDie("challenge",-1)},disabled:this.state.challengeDice<1},n.a.createElement(k.a,{icon:y.d})),"\xa0",n.a.createElement(O.a,{variant:"primary",className:"btn-xs",onClick:function(){return e.incrementDie("challenge",1)}},n.a.createElement(k.a,{icon:y.e})))),n.a.createElement("div",{className:"text-center"},n.a.createElement(O.a,{variant:"primary",onClick:this.rollDice},"Roll")),this.dieRolls?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"die-box text-center"},this.dieRolls.rolls.map(function(e,t){return n.a.createElement(A,{dieResult:e})}),n.a.createElement("p",null,0!==this.dieRolls.grossSuccesses?n.a.createElement(n.a.Fragment,null,"Successes: ",this.dieRolls.grossSuccesses,n.a.createElement("br",null)):n.a.createElement(n.a.Fragment,null),0!==this.dieRolls.grossAdvantages?n.a.createElement(n.a.Fragment,null,"Advantages: ",this.dieRolls.grossAdvantages,n.a.createElement("br",null)):n.a.createElement(n.a.Fragment,null),0!==this.dieRolls.grossFailures?n.a.createElement(n.a.Fragment,null,"Failures: ",this.dieRolls.grossFailures,n.a.createElement("br",null)):n.a.createElement(n.a.Fragment,null),0!==this.dieRolls.grossThreats?n.a.createElement(n.a.Fragment,null,"Threats: ",this.dieRolls.grossThreats,n.a.createElement("br",null)):n.a.createElement(n.a.Fragment,null),0!==this.dieRolls.grossTriumphs?n.a.createElement(n.a.Fragment,null,"Triumphs: ",this.dieRolls.grossTriumphs,n.a.createElement("br",null)):n.a.createElement(n.a.Fragment,null),0!==this.dieRolls.grossDespairs?n.a.createElement(n.a.Fragment,null,"Despairs: ",this.dieRolls.grossDespairs,n.a.createElement("br",null)):n.a.createElement(n.a.Fragment,null)))):n.a.createElement(n.a.Fragment,null))}}]),t}(n.a.Component),L=function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).makeDocumentTitle=a.makeDocumentTitle.bind(Object(u.a)(a)),a.openConfirmDialog=a.openConfirmDialog.bind(Object(u.a)(a)),a.closeConfirmDialog=a.closeConfirmDialog.bind(Object(u.a)(a)),a.confirmConfirmDialog=a.confirmConfirmDialog.bind(Object(u.a)(a)),a.refreshGlobalState=a.refreshGlobalState.bind(Object(u.a)(a)),a.toggleMobile=a.toggleMobile.bind(Object(u.a)(a)),a.closeMobile=a.closeMobile.bind(Object(u.a)(a)),a.saveSettings=a.saveSettings.bind(Object(u.a)(a));var s="",n=localStorage.getItem("uiTheme");return n?(s=n,document.body.className=s):document.body.className="",a.state={updated:!1,appGlobals:{settings:{uiTheme:s},currentPageTitle:"",siteAlerts:new j(Object(u.a)(a)),showMobile:!1,confirmDialogMessage:"",confirmDialogTitle:"",confirmDialogYesLabel:"",confirmDialogNoLabel:"",showConfirmDialog:!1,confirmDialogConfirm:null,makeDocumentTitle:a.makeDocumentTitle,openConfirmDialog:a.openConfirmDialog,refreshGlobalState:a.refreshGlobalState,toggleMobile:a.toggleMobile,closeMobile:a.closeMobile,saveSettings:a.saveSettings}},a}return Object(p.a)(t,e),Object(r.a)(t,[{key:"saveSettings",value:function(e){var t=this.state.appGlobals;t.settings=e,this.setState({appGlobals:t}),e.uiTheme.trim()?document.body.className=e.uiTheme:document.body.className="",localStorage.setItem("uiTheme",e.uiTheme)}},{key:"toggleMobile",value:function(){var e=this.state.appGlobals;e.showMobile=!e.showMobile,this.setState({appGlobals:e,updated:!0})}},{key:"closeMobile",value:function(){var e=this.state.appGlobals;e.showMobile=!1,this.setState({appGlobals:e,updated:!0})}},{key:"makeDocumentTitle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.state.appGlobals;e?(document.title=e+" | "+I,t.currentPageTitle=e,this.setState({appGlobals:t})):(document.title=I,t.currentPageTitle=e,this.setState({appGlobals:t}))}},{key:"refreshGlobalState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?this.setState({updated:!0,appGlobals:e}):this.setState({updated:!0})}},{key:"closeConfirmDialog",value:function(){var e=this.state.appGlobals;e.showConfirmDialog=!1,this.setState({appGlobals:e})}},{key:"confirmConfirmDialog",value:function(){if(this.state.appGlobals){this.state.appGlobals.confirmDialogConfirm&&this.state.appGlobals.confirmDialogConfirm();var e=this.state.appGlobals;e.showConfirmDialog=!1,this.setState({appGlobals:e})}}},{key:"openConfirmDialog",value:function(e,t,a,s,n){var l=this.state.appGlobals;l.confirmDialogMessage=t,l.confirmDialogTitle=e,l.confirmDialogYesLabel=a,l.confirmDialogNoLabel=s,l.showConfirmDialog=!0,l.confirmDialogConfirm=n,this.setState({appGlobals:l})}},{key:"render",value:function(){return n.a.createElement(d.a,null,n.a.createElement(F.a,{show:this.state.appGlobals.showConfirmDialog,onHide:this.closeConfirmDialog},n.a.createElement(F.a.Header,{closeButton:!0},n.a.createElement(F.a.Title,null,this.state.appGlobals.confirmDialogTitle)),n.a.createElement(F.a.Body,null,n.a.createElement("div",{className:"form"},n.a.createElement("div",null,n.a.createElement(E,{html:this.state.appGlobals.confirmDialogMessage})))),n.a.createElement(F.a.Footer,null,n.a.createElement(O.a,{variant:"secondary",onClick:this.closeConfirmDialog},this.state.appGlobals.confirmDialogNoLabel),n.a.createElement(O.a,{variant:"primary",onClick:this.confirmConfirmDialog},this.state.appGlobals.confirmDialogYesLabel))),n.a.createElement(h.c,null,n.a.createElement(h.a,{path:"".concat("/ffg-sw-genesys-helpers","/"),exact:!0},n.a.createElement(C,{appGlobals:this.state.appGlobals})),n.a.createElement(h.a,{path:"".concat("/ffg-sw-genesys-helpers","/initiative"),exact:!0},n.a.createElement(G,{appGlobals:this.state.appGlobals})),n.a.createElement(h.a,{path:"".concat("/ffg-sw-genesys-helpers","/about"),exact:!0},n.a.createElement(M,{appGlobals:this.state.appGlobals})),n.a.createElement(h.a,{path:"".concat("/ffg-sw-genesys-helpers","/temp"),exact:!0},n.a.createElement(T,{appGlobals:this.state.appGlobals})),n.a.createElement(h.a,{path:"".concat("/ffg-sw-genesys-helpers","/dice"),exact:!0},n.a.createElement(P,{appGlobals:this.state.appGlobals})),n.a.createElement(h.a,{path:"".concat("/ffg-sw-genesys-helpers","/settings"),exact:!0},n.a.createElement(x,{appGlobals:this.state.appGlobals})),n.a.createElement(h.a,null,n.a.createElement(w,{appGlobals:this.state.appGlobals}))))}}]),t}(n.a.Component);i.a.render(n.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},90:function(e,t,a){e.exports=a(192)},96:function(e,t,a){},97:function(e,t,a){}},[[90,1,2]]]);
//# sourceMappingURL=main.41087f2a.chunk.js.map