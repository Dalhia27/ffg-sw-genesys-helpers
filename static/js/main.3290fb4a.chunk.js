(this["webpackJsonpffg-sw-genesys-helpers"]=this["webpackJsonpffg-sw-genesys-helpers"]||[]).push([[0],{121:function(e,t){},139:function(e,t){},140:function(e,t){},141:function(e,t){},156:function(e,t){},170:function(e,t,a){},171:function(e,t,a){},172:function(e,t,a){},173:function(e,t,a){},191:function(e,t,a){},192:function(e,t,a){},193:function(e,t,a){},194:function(e,t,a){"use strict";a.r(t);var s=a(0),l=a.n(s),i=a(21),n=a.n(i);a(94),a(95),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=a(4),r=a(5),o=a(7),m=a(6),u=a(2),p=a(8),d=a(15),h=a(22),g=(a(96),a(83)),b=a.n(g),E=a(98),v=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={},a}return Object(p.a)(t,e),Object(r.a)(t,[{key:"componentWillMount",value:function(){return b.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}))}},{key:"render",value:function(){return this.props.raw?s.createElement("span",{dangerouslySetInnerHTML:{__html:this.props.html}}):s.createElement("span",{dangerouslySetInnerHTML:{__html:E(this.props.html,{allowedTags:["h1","h2","h3","h4","svg","div","span","p","ol","ul","li","img","sup","strong","em","br","hr"],allowedAttributes:{div:["class","id"],span:["class","id"],p:["class","id"],img:["src","class","id","style"],ul:["class","id"]}})}})}}]),t}(s.Component),f=a(9),k=a(10),y=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={updated:!1},a}return Object(p.a)(t,e),Object(r.a)(t,[{key:"dismissAlert",value:function(e){this.props.appGlobals.siteAlerts.dismissAlert(e)&&this.setState({updated:!1})}},{key:"render",value:function(){var e=this;return s.createElement("ul",{className:"styleless"},this.props.appGlobals.siteAlerts.activeAlerts.map((function(t,a){return s.createElement("div",{key:a,id:"alert-index-"+a,className:t.autoDismissSeconds>0?"position-relative alert-fade alert alert-"+t.level+" "+t.extraclass:"position-relative alert alert-"+t.level+" "+t.extraclass,style:{display:"block",height:"auto"}},t.autoDismissSeconds>0?s.createElement(s.Fragment,null,s.createElement("div",{className:"alert-countdown"},s.createElement("div",{id:"alert-bar-index-"+a,className:"alert-countdown-bar dismiss-time-"+t.autoDismissSeconds})),s.createElement("span",{onClick:function(){e.dismissAlert(a)},className:"pull-right cursor-pointer",style:{fontSize:"1.5rem"},title:"Click here to dismiss this alert, but it'll auto-dismiss in "+t.autoDismissSeconds+" seconds"},s.createElement(k.a,{icon:f.i,spin:!0}))):s.createElement(s.Fragment,null,t.dismissable?s.createElement("span",{onClick:function(){e.dismissAlert(a)},className:"pull-right cursor-pointer",style:{fontSize:"1.5rem"},title:"Click here to dismiss this alert"},s.createElement(k.a,{icon:f.i})):s.createElement(s.Fragment,null)),t.title?s.createElement("h4",null,t.title):s.createElement(s.Fragment,null),t.message?s.createElement("div",{className:t.messageclass},s.createElement(v,{html:t.message})):s.createElement(s.Fragment,null),t.externalURL?s.createElement("div",{className:"text-right"},s.createElement("a",{className:"btn btn-primary btn-sm",href:t.externalURL},"Go")):s.createElement(s.Fragment,null),t.link?s.createElement("div",{className:"text-right"},s.createElement(d.b,{className:"btn btn-primary btn-sm",to:t.link},"Go")):s.createElement(s.Fragment,null))})))}}]),t}(s.Component),N=(a(170),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={updated:!1},a.toggleMobile=a.toggleMobile.bind(Object(u.a)(a)),a.closeMobile=a.closeMobile.bind(Object(u.a)(a)),a}return Object(p.a)(t,e),Object(r.a)(t,[{key:"toggleMobile",value:function(){this.props.appGlobals.toggleMobile()}},{key:"closeMobile",value:function(){this.props.appGlobals.closeMobile()}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("header",{className:"topmenu"},l.a.createElement("ul",null,l.a.createElement("li",{onClick:this.toggleMobile,className:"mobile-menu-button d-inline d-md-none"},l.a.createElement(k.a,{icon:f.c})),l.a.createElement("li",{className:"d-none d-md-inline"},l.a.createElement(d.b,{className:"home"===this.props.current?"current":"",to:"".concat("/ffg-sw-genesys-helpers","/")},"Home")),l.a.createElement("li",{className:"d-none d-md-inline"},l.a.createElement(d.b,{className:"initiative"===this.props.current?"current":"",to:"".concat("/ffg-sw-genesys-helpers","/initiative")},"Initiative")),l.a.createElement("li",{className:"d-none d-md-inline"},l.a.createElement(d.b,{className:"dice"===this.props.current?"current":"",to:"".concat("/ffg-sw-genesys-helpers","/dice")},"Dice")),l.a.createElement("li",{className:"d-none d-md-inline"},l.a.createElement(d.b,{className:"about"===this.props.current?"current":"",to:"".concat("/ffg-sw-genesys-helpers","/about")},"About")),l.a.createElement("li",{className:"d-none d-md-inline"},l.a.createElement(d.b,{className:"settings"===this.props.current?"current":"",to:"".concat("/ffg-sw-genesys-helpers","/settings")},"Settings")))),l.a.createElement("div",{className:"mobile-menu"},l.a.createElement("ul",{className:"styleless"},l.a.createElement("li",null,l.a.createElement(d.b,{onClick:this.closeMobile,className:"home"===this.props.current?"current":"",to:"".concat("/ffg-sw-genesys-helpers","/")},"Home")),l.a.createElement("li",null,l.a.createElement(d.b,{onClick:this.closeMobile,className:"initiative"===this.props.current?"current":"",to:"".concat("/ffg-sw-genesys-helpers","/initiative")},"Initiative")),l.a.createElement("li",null,l.a.createElement(d.b,{onClick:this.closeMobile,className:"dice"===this.props.current?"current":"",to:"".concat("/ffg-sw-genesys-helpers","/dice")},"Dice")),l.a.createElement("li",null,l.a.createElement(d.b,{onClick:this.closeMobile,className:"about"===this.props.current?"current":"",to:"".concat("/ffg-sw-genesys-helpers","/about")},"About")),l.a.createElement("li",null,l.a.createElement(d.b,{onClick:this.closeMobile,className:"settings"===this.props.current?"current":"",to:"".concat("/ffg-sw-genesys-helpers","/settings")},"Settings")))))}}]),t}(l.a.Component)),D=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:this.props.appGlobals.showMobile?"ui-page show-mobile":"ui-page"},l.a.createElement(N,{current:this.props.current,sub:this.props.sub,appGlobals:this.props.appGlobals}),l.a.createElement("div",{className:"content"},l.a.createElement(y,{appGlobals:this.props.appGlobals}),this.props.children))}}]),t}(l.a.Component),S=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={updated:!1},a}return Object(p.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.props.appGlobals.makeDocumentTitle("Home")}},{key:"render",value:function(){return l.a.createElement(D,{current:"home",appGlobals:this.props.appGlobals},"This will be a collection of quick utilities to help Star Wars and Genesys games.")}}]),t}(l.a.Component),C=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={updated:!1},a}return Object(p.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.props.appGlobals.makeDocumentTitle("404 - Page not Found")}},{key:"render",value:function(){return l.a.createElement(D,{appGlobals:this.props.appGlobals},"404 - Not Found")}}]),t}(l.a.Component),I=(a(171),a(196)),O=a(197),x=(a(172),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).className="",a.max=8,a.props.className&&(a.className=a.props.className),a.props.max&&(a.max=a.props.max),a}return Object(p.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){for(var e=this,t=[],a=function(a){t.push(l.a.createElement("span",{key:"ns"+a,onClick:function(){return e.props.onChange(e.props.index,a)},className:e.props.value===a?"selected":""},a))},s=0;s<this.max;s++)a(s);return l.a.createElement("div",{className:"number-select"},t)}}]),t}(l.a.Component)),F=(a(173),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).className="",a.max=5,a.props.className&&(a.className=a.props.className),a}return Object(p.a)(t,e),Object(r.a)(t,[{key:"updateProficiencyDie",value:function(e){var t=this.props.value;t.skillDice=e,this.props.onChange(this.props.index,t),this.setState({updated:!0})}},{key:"updateAbilityDie",value:function(e){var t=this.props.value;t.attributeDice=e,this.props.onChange(this.props.index,t),this.setState({updated:!0})}},{key:"render",value:function(){for(var e=this,t=[],a=function(a){t.push(l.a.createElement("span",{key:"ps"+a,onClick:function(){return e.updateProficiencyDie(a)},className:e.props.value.skillDice===a?"selected":""},a))},s=0;s<this.max;s++)a(s);for(var i=[],n=function(t){i.push(l.a.createElement("span",{key:"as"+t,onClick:function(){return e.updateAbilityDie(t)},className:e.props.value.attributeDice===t?"selected":""},t))},c=0;c<this.max;c++)n(c);var r=[],o=0,m=0;this.props.value.attributeDice>this.props.value.skillDice?(o=this.props.value.attributeDice,m=this.props.value.skillDice):(o=this.props.value.skillDice,m=this.props.value.attributeDice);for(var u=0;u<o;u++)u<m?r.push(l.a.createElement("span",{key:"p"+u,className:"dice die-proficiency"},"c")):r.push(l.a.createElement("span",{key:"a"+u,className:"dice die-ability"},"c"));return l.a.createElement(l.a.Fragment,null,l.a.createElement("label",{className:"skill-select"},this.props.label,": ",r,l.a.createElement("br",null),l.a.createElement("div",{className:"number-select text-right"},"Ability Dice: ",i,l.a.createElement("br",null),"Proficiency Dice: ",t,l.a.createElement("br",null))),l.a.createElement("br",null))}}]),t}(l.a.Component)),M=function(){function e(){Object(c.a)(this,e)}return Object(r.a)(e,[{key:"_getRandomInt",value:function(e){return Math.floor(Math.random()*Math.floor(e))}},{key:"rollDie",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6;return this._getRandomInt(e)+1}},{key:"rollFGDice",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,n=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,c=0,r=0,o=0,m=0,u=0,p=0,d=0,h=0,g=0,b=0,E=0,v=0,f=0,k=0,y=[],N=0;N<t;N++){var D=this.rollDie(12),S={type:"proficiency",title:"",numSides:8,rawRoll:D,successes:0,advantages:0,failures:0,threats:0,triumphs:0,despairs:0,lightSide:0,darkSide:0};switch(D){case 1:S.title="(nothing)";break;case 2:case 3:S.successes++,S.title="One Success";break;case 4:case 5:S.successes++,S.successes++,S.title="Two Successes";break;case 6:S.advantages++,S.title="One Advantage";break;case 7:case 8:case 9:S.advantages++,S.successes++,S.title="One Advantage, one success";break;case 10:case 11:S.advantages++,S.advantages++,S.title="Two Advantages";break;case 12:S.successes++,S.triumphs++,S.title="One Triumph (counts as success)"}y.push(S)}for(var C=0;C<e;C++){var I=this.rollDie(8),O={type:"ability",title:"",numSides:8,rawRoll:I,successes:0,advantages:0,failures:0,threats:0,triumphs:0,despairs:0,lightSide:0,darkSide:0};switch(I){case 1:O.title="( nothing )";break;case 2:case 3:O.successes++,O.title="One Success";break;case 4:O.successes++,O.successes++,O.title="Two Successes";break;case 5:case 6:O.advantages++,O.title="One Advantage";break;case 7:O.advantages++,O.successes++,O.title="One Advantage, One Success";break;case 8:O.advantages++,O.advantages++,O.title="Two Advantages"}y.push(O)}for(var x=0;x<a;x++){var F=this.rollDie(6),M={type:"boost",title:"",numSides:8,rawRoll:F,successes:0,advantages:0,failures:0,threats:0,triumphs:0,despairs:0,lightSide:0,darkSide:0};switch(F){case 1:case 2:M.title="(nothing)";break;case 3:M.successes++,M.title="One Success";break;case 4:M.successes++,M.advantages++,M.title="One Success, One Advantage";break;case 5:M.advantages++,M.advantages++,M.title="Two Advantages";break;case 6:M.advantages++,M.title="One Advantage"}y.push(M)}for(var w=0;w<s;w++){var j=this.rollDie(8),G={type:"difficulty",title:"",numSides:8,rawRoll:j,successes:0,advantages:0,failures:0,threats:0,triumphs:0,despairs:0,lightSide:0,darkSide:0};switch(j){case 1:G.title="(nothing)";break;case 2:G.failures++,G.title="One Failure";break;case 3:G.failures++,G.failures++,G.title="Two Failures";break;case 4:case 5:case 6:G.threats++,G.title="One Threat";break;case 7:G.threats++,G.threats++,G.title="Two Threats";break;case 8:G.threats++,G.failures++,G.title="One Threat, One Failure"}y.push(G)}for(var T=0;T<i;T++){var R=this.rollDie(6),A={type:"setback",title:"",numSides:8,rawRoll:R,successes:0,advantages:0,failures:0,threats:0,triumphs:0,despairs:0,lightSide:0,darkSide:0};switch(R){case 1:case 2:A.title="(nothing)";break;case 3:case 4:A.failures++,A.title="One Failure";break;case 5:case 6:A.threats++,A.title="One Threat"}y.push(A)}for(var P=0;P<l;P++){var V=this.rollDie(12),L={type:"challenge",title:"",numSides:12,rawRoll:V,successes:0,advantages:0,failures:0,threats:0,triumphs:0,despairs:0,lightSide:0,darkSide:0};switch(V){case 1:L.title="(nothing)";break;case 2:case 3:L.failures++,L.title="One Failure";break;case 4:case 5:L.failures++,L.failures++,L.title="Two Failures";break;case 6:case 7:L.threats++,L.title="One Threat";break;case 8:case 9:L.threats++,L.failures++,L.title="One Threat, One Failure";break;case 10:case 11:L.threats++,L.threats++,L.title="Two Threats";break;case 12:L.failures++,L.despairs++,L.title="One Despair (counts as failure)"}y.push(L)}for(var H=0;H<n;H++){var B=this.rollDie(12),J={type:"force",title:"",numSides:12,rawRoll:B,successes:0,advantages:0,failures:0,threats:0,triumphs:0,despairs:0,lightSide:0,darkSide:0};switch(B){case 1:J.darkSide++;break;case 2:case 3:case 4:case 5:case 6:J.darkSide++,J.title="One Dark Side Point";break;case 7:J.darkSide++,J.darkSide++,J.title="Two Dark Side Points";break;case 8:case 9:J.lightSide++,J.title="One Light Side Point";break;case 10:case 11:case 12:J.lightSide++,J.lightSide++,J.title="Two Light Side Points"}y.push(J)}for(var _=0,U=y;_<U.length;_++){var W=U[_];c+=W.successes,r+=W.advantages,o+=W.failures,m+=W.threats,p+=W.despairs,u+=W.triumphs,f+=W.lightSide,k+=W.darkSide}return c>o?d=c-o:g=o-c,m>r?b=m-r:h=r-m,p>u?v=p-u:E=u-p,{rolls:y,netSuccesses:c,netAdvantages:r,netFailures:o,netThreats:m,netTriumphs:u,netDespairs:p,grossSuccesses:d,grossAdvantages:h,grossFailures:g,grossThreats:b,grossTriumphs:E,grossDespairs:v,grossDarkSide:k,grossLightSide:f,netLightSide:f,netDarkSide:k,total:0}}}]),e}(),w=function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).numPCs=4,a.numNPCs=2,a.currentInitiative=-1,a.initMap=[];var s=localStorage.getItem("numPCs"),l=localStorage.getItem("initMap"),i=localStorage.getItem("currentInitiative"),n=localStorage.getItem("hideControls"),r=!1;n&&+n>0&&(r=!0);var p=localStorage.getItem("hideRolls"),d=!1;p&&+p>0&&(d=!0);var h=localStorage.getItem("roundNumber"),g=1;if(h&&+h>1&&(g=+h),i&&(a.currentInitiative=+i,Number.isNaN(a.currentInitiative)&&(a.currentInitiative=-1)),s&&(a.numPCs=+s),l)a.initMap=JSON.parse(l);else for(var b=0;b<a.numPCs;b++)a.initMap.push({label:"PC",successes:0,advantages:0,triumphs:0,npc:!1,skillCool:{skillDice:0,attributeDice:0},skillVigilance:{skillDice:0,attributeDice:0}});var E=!0,v=!1,f=void 0;try{for(var k,y=a.initMap[Symbol.iterator]();!(E=(k=y.next()).done);E=!0){var N=k.value;N.skillCool||(N.skillCool={skillDice:0,attributeDice:0}),N.skillVigilance||(N.skillVigilance={skillDice:0,attributeDice:0}),N.skillCool.attributeDice||(N.skillCool.attributeDice=0),N.skillVigilance.attributeDice||(N.skillVigilance.attributeDice=0)}}catch(D){v=!0,f=D}finally{try{E||null==y.return||y.return()}finally{if(v)throw f}}return 0===a.initMap.length&&(r=!1,localStorage.setItem("hideControls","0")),a.state={updated:!1,editItem:null,editItemIndex:-1,hideControls:r,hideRolls:d,roundNumber:g},a.updateInitSuccesses=a.updateInitSuccesses.bind(Object(u.a)(a)),a.updateInitAdvantages=a.updateInitAdvantages.bind(Object(u.a)(a)),a.updateInitTriumphs=a.updateInitTriumphs.bind(Object(u.a)(a)),a.updateNumPCs=a.updateNumPCs.bind(Object(u.a)(a)),a.addItem=a.addItem.bind(Object(u.a)(a)),a.sortInit=a.sortInit.bind(Object(u.a)(a)),a.initForward=a.initForward.bind(Object(u.a)(a)),a.initBackward=a.initBackward.bind(Object(u.a)(a)),a.removeSlot=a.removeSlot.bind(Object(u.a)(a)),a.handleClose=a.handleClose.bind(Object(u.a)(a)),a.editSlot=a.editSlot.bind(Object(u.a)(a)),a.updateCoolValue=a.updateCoolValue.bind(Object(u.a)(a)),a.updateVigilanceValue=a.updateVigilanceValue.bind(Object(u.a)(a)),a.rollVigilance=a.rollVigilance.bind(Object(u.a)(a)),a.rollCool=a.rollCool.bind(Object(u.a)(a)),a.updateNPC=a.updateNPC.bind(Object(u.a)(a)),a.toggleHideControls=a.toggleHideControls.bind(Object(u.a)(a)),a.toggleHideRolls=a.toggleHideRolls.bind(Object(u.a)(a)),a.resetRound=a.resetRound.bind(Object(u.a)(a)),a.selectNextItem=a.selectNextItem.bind(Object(u.a)(a)),a.selectPreviousItem=a.selectPreviousItem.bind(Object(u.a)(a)),a}return Object(p.a)(t,e),Object(r.a)(t,[{key:"selectPreviousItem",value:function(){var e=null,t=this.state.editItemIndex-1;t>-1&&t<this.initMap.length?e=this.initMap[t]:t=-1,this.setState({editItem:e,editItemIndex:t})}},{key:"selectNextItem",value:function(){var e=null,t=this.state.editItemIndex+1;t<this.initMap.length?e=this.initMap[t]:t=-1,this.setState({editItem:e,editItemIndex:t})}},{key:"resetRound",value:function(){localStorage.setItem("currentInitiative","-1"),this.currentInitiative=-1,this.setState({roundNumber:1,updated:!0})}},{key:"toggleHideRolls",value:function(){var e=!this.state.hideRolls;e?localStorage.setItem("hideRolls","1"):localStorage.setItem("hideRolls","0"),this.setState({hideRolls:e})}},{key:"toggleHideControls",value:function(){var e=!this.state.hideControls;e?localStorage.setItem("hideControls","1"):localStorage.setItem("hideControls","0"),this.setState({hideControls:e})}},{key:"updateNPC",value:function(e){this.state.editItem&&this.state.editItemIndex<this.initMap.length&&(this.initMap[this.state.editItemIndex].npc=e.currentTarget.checked,e.currentTarget.checked?this.initMap[this.state.editItemIndex].label="NPC":this.initMap[this.state.editItemIndex].label="PC",this.setState({updated:!0}),localStorage.setItem("initMap",JSON.stringify(this.initMap)))}},{key:"rollCool",value:function(e){if(e<this.initMap.length&&this.initMap[e]){var t=(new M).rollFGDice(this.getattributeDice(this.initMap[e].skillCool),this.getProcidiencyDice(this.initMap[e].skillCool));this.initMap[e].triumphs=t.netTriumphs,this.initMap[e].successes=t.netSuccesses,this.initMap[e].advantages=t.netAdvantages,this.setState({updated:!0}),localStorage.setItem("initMap",JSON.stringify(this.initMap))}}},{key:"rollVigilance",value:function(e){if(e<this.initMap.length&&this.initMap[e]){var t=(new M).rollFGDice(this.getattributeDice(this.initMap[e].skillVigilance),this.getProcidiencyDice(this.initMap[e].skillVigilance));this.initMap[e].triumphs=t.netTriumphs,this.initMap[e].successes=t.netSuccesses,this.initMap[e].advantages=t.netAdvantages,this.setState({updated:!0}),localStorage.setItem("initMap",JSON.stringify(this.initMap))}}},{key:"getattributeDice",value:function(e){var t=0,a=0;return e.attributeDice>e.skillDice?(t=e.attributeDice,a=e.skillDice):(t=e.skillDice,a=e.attributeDice),t-a}},{key:"getProcidiencyDice",value:function(e){return e.attributeDice>e.skillDice?e.skillDice:e.attributeDice}},{key:"updateCoolValue",value:function(e,t){this.initMap.length>e&&(this.initMap[e].skillCool=t),localStorage.setItem("initMap",JSON.stringify(this.initMap)),this.setState({updated:!0})}},{key:"updateVigilanceValue",value:function(e,t){this.initMap.length>e&&(this.initMap[e].skillVigilance=t),localStorage.setItem("initMap",JSON.stringify(this.initMap)),this.setState({updated:!0})}},{key:"editSlot",value:function(e,t){this.setState({editItem:e,editItemIndex:t})}},{key:"initForward",value:function(){var e=this.currentInitiative+1,t=this.state.roundNumber;e>this.initMap.length-1&&(t++,e=0),this.currentInitiative=e,localStorage.setItem("currentInitiative",e.toString()),this.setState({updated:!0,roundNumber:t})}},{key:"initBackward",value:function(){var e=this.currentInitiative-1,t=this.state.roundNumber;e<-1&&(--t<1?(t=1,e<0&&(e=-1)):e=this.initMap.length),this.currentInitiative=e,localStorage.setItem("currentInitiative",e.toString()),this.setState({updated:!0,roundNumber:t})}},{key:"sortInit",value:function(){localStorage.setItem("currentInitiative","-1"),localStorage.setItem("currentRound","1"),this.initMap.sort((function(e,t){return e.successes<t.successes?1:e.successes>t.successes?-1:e.advantages<t.advantages?1:e.advantages>t.advantages?-1:"PC"===e.label&&"NPC"===t.label?-1:"NPC"===e.label&&"PC"===t.label?1:0})),localStorage.setItem("initMap",JSON.stringify(this.initMap)),this.setState({updated:!0})}},{key:"addItem",value:function(){this.initMap.push({label:"PC",successes:0,advantages:0,triumphs:0,npc:!1,skillCool:{skillDice:0,attributeDice:0},skillVigilance:{skillDice:0,attributeDice:0}}),localStorage.setItem("initMap",JSON.stringify(this.initMap)),this.setState({updated:!0,editItem:this.initMap[this.initMap.length-1],editItemIndex:this.initMap.length-1})}},{key:"removeSlot",value:function(e){this.initMap.length>e&&this.initMap.splice(e,1);var t=this.state.hideControls;0===this.initMap.length&&(t=!1,localStorage.setItem("hideControls","0")),localStorage.setItem("initMap",JSON.stringify(this.initMap)),this.setState({updated:!0,hideControls:t})}},{key:"updateInitAdvantages",value:function(e,t){this.initMap.length>e&&(this.initMap[e].advantages=t),localStorage.setItem("initMap",JSON.stringify(this.initMap)),this.setState({updated:!0})}},{key:"updateInitTriumphs",value:function(e,t){this.initMap.length>e&&(this.initMap[e].triumphs=t),localStorage.setItem("initMap",JSON.stringify(this.initMap)),this.setState({updated:!0})}},{key:"updateInitSuccesses",value:function(e,t){this.initMap.length>e&&(this.initMap[e].successes=t),localStorage.setItem("initMap",JSON.stringify(this.initMap)),this.setState({updated:!0})}},{key:"updateNumPCs",value:function(e){this.numPCs=+e.currentTarget.value,localStorage.setItem("numPCs",e.currentTarget.value),this.setState({updated:!0})}},{key:"handleClose",value:function(){this.setState({editItem:null})}},{key:"componentDidMount",value:function(){this.props.appGlobals.makeDocumentTitle("Initiative")}},{key:"render",value:function(){var e=this,t="s",a="a",s="t";return"starwars"===this.props.appGlobals.settings.dieIconClass&&(t="s",a="a",s="x"),l.a.createElement(D,{current:"initiative",appGlobals:this.props.appGlobals},l.a.createElement(I.a,{onHide:this.handleClose,show:null!=this.state.editItem},l.a.createElement(I.a.Header,{closeButton:!0},this.state.editItem&&this.state.editItem.npc?l.a.createElement(l.a.Fragment,null,"NPC Edit"):l.a.createElement(l.a.Fragment,null,"PC Edit")),l.a.createElement(I.a.Body,null,this.state.editItem?l.a.createElement("div",{className:"form"},l.a.createElement("label",null,"NPC:\xa0",l.a.createElement("input",{type:"checkbox",checked:this.state.editItem.npc,onChange:this.updateNPC})),l.a.createElement("br",null),l.a.createElement("label",null,"Successes:\xa0",l.a.createElement(x,{value:this.state.editItem.successes,max:8,index:this.state.editItemIndex,onChange:this.updateInitSuccesses})),l.a.createElement("br",null),l.a.createElement("label",null,"Advantages:\xa0",l.a.createElement(x,{value:this.state.editItem.advantages,max:8,index:this.state.editItemIndex,onChange:this.updateInitAdvantages})),l.a.createElement("br",null),l.a.createElement("label",null,"Triumphs:\xa0",l.a.createElement(x,{value:this.state.editItem.triumphs,max:8,index:this.state.editItemIndex,onChange:this.updateInitTriumphs})),l.a.createElement("br",null),l.a.createElement("hr",null),l.a.createElement(F,{value:this.state.editItem.skillCool,index:this.state.editItemIndex,onChange:this.updateCoolValue,label:"Cool"}),l.a.createElement(F,{value:this.state.editItem.skillVigilance,index:this.state.editItemIndex,onChange:this.updateVigilanceValue,label:"Vigilance"})):l.a.createElement(l.a.Fragment,null)),l.a.createElement(I.a.Footer,{className:"text-center"},l.a.createElement(O.a,{variant:"primary",onClick:this.selectPreviousItem,tabIndex:1,disabled:this.state.editItemIndex<1,title:"Select the previous Initiative Slot"},"Previous"),l.a.createElement(O.a,{variant:"primary",onClick:this.handleClose,title:"Close this dialog"},"Close"),"#",this.state.editItemIndex+1," / ",this.initMap.length,l.a.createElement(O.a,{variant:"primary",onClick:this.addItem,tabIndex:1,title:"Add an Initiative Slot"},"Add New"),l.a.createElement(O.a,{variant:"primary",onClick:this.selectNextItem,tabIndex:1,title:"Select the next Initiative Slot",disabled:this.state.editItemIndex>=this.initMap.length-1},"Next"))),l.a.createElement("div",{className:"text-center control-bar"},l.a.createElement("div",{className:"text-left"},l.a.createElement(O.a,{variant:"primary",onClick:this.initBackward,tabIndex:0,title:"Move to the last initiative"},l.a.createElement(k.a,{icon:f.a}))),this.state.hideControls?l.a.createElement(l.a.Fragment,null):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:""},l.a.createElement(O.a,{variant:"primary",onClick:this.addItem,tabIndex:1,title:"Add an Initiative Slot"},"Add")),l.a.createElement("div",{className:""},l.a.createElement(O.a,{variant:"primary",onClick:this.sortInit,tabIndex:2,title:"Sort"},"Sort"))),l.a.createElement("div",{className:"grow text-right"},l.a.createElement(O.a,{variant:"primary",onClick:this.initForward,tabIndex:4,title:"Move to the next initiative"},"Next Turn \xa0",l.a.createElement(k.a,{icon:f.b}),"\xa0"))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6 round-number"},l.a.createElement("strong",null,"Round Number:")," ",this.state.roundNumber,l.a.createElement(O.a,{variant:"primary",className:"btn-xs",onClick:this.resetRound},l.a.createElement(k.a,{icon:f.h}))),l.a.createElement("div",{className:"col-md-6 control-visibility"},l.a.createElement("label",null,l.a.createElement("input",{type:"checkbox",checked:this.state.hideControls,onChange:this.toggleHideControls}),"\xa0Hide Edit Controls"),"\xa0|\xa0",l.a.createElement("label",null,l.a.createElement("input",{type:"checkbox",checked:this.state.hideRolls,onChange:this.toggleHideRolls}),"\xa0Hide Rolls"))),0===this.initMap.length?l.a.createElement("div",{className:"text-center"},l.a.createElement("br",null),"You have no initiative slots. Click on the\xa0",l.a.createElement(O.a,{variant:"primary",onClick:this.addItem,tabIndex:1,className:"btn-xs",title:"Add an Initiative Slot"},"Add"),"\xa0button above to add a slot."):l.a.createElement("div",{className:"init-labels"},this.initMap.map((function(i,n){for(var c=[],r=0;r<i.successes;r++)c.push(l.a.createElement("span",{title:"Success",key:"s"+r,className:e.props.appGlobals.settings.dieIconClass+" icon-single"},t));for(var o=0;o<i.advantages;o++)c.push(l.a.createElement("span",{title:"Advantage",key:"a"+o,className:e.props.appGlobals.settings.dieIconClass+" icon-single"},a));for(var m=0;m<i.triumphs;m++)c.push(l.a.createElement("span",{title:"Triumph",key:"t"+m,className:e.props.appGlobals.settings.dieIconClass+" icon-single"},s));var u=[],p=0,d=0;i.skillCool.attributeDice>i.skillCool.skillDice?(p=i.skillCool.attributeDice,d=i.skillCool.skillDice):(p=i.skillCool.skillDice,d=i.skillCool.attributeDice);for(var h=0;h<p;h++)h<d?u.push(l.a.createElement("span",{key:h,className:"dice die-proficiency"},"c")):u.push(l.a.createElement("span",{key:h,className:"dice die-ability"},"c"));var g=[];p=0,d=0,i.skillVigilance.attributeDice>i.skillVigilance.skillDice?(p=i.skillVigilance.attributeDice,d=i.skillVigilance.skillDice):(p=i.skillVigilance.skillDice,d=i.skillVigilance.attributeDice);for(var b=0;b<p;b++)b<d?g.push(l.a.createElement("span",{key:b,className:"dice die-proficiency"},"c")):g.push(l.a.createElement("span",{key:b,className:"dice die-ability"},"c"));return l.a.createElement("div",{className:n===e.currentInitiative?"init-map-item current":"init-map-item",key:n},l.a.createElement("div",{className:i.npc?"label npc":"label pc"},l.a.createElement("div",{className:"name-results"},i.label,l.a.createElement("br",null),e.state.hideRolls&&e.state.hideControls?l.a.createElement(l.a.Fragment,null):l.a.createElement(l.a.Fragment,null,"\xa0",c)),!e.state.hideControls&&(i.skillCool.attributeDice>0||i.skillCool.skillDice>0||i.skillVigilance.attributeDice>0||i.skillVigilance.skillDice>0)?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"skill-values"},l.a.createElement("table",null,l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",{className:"text-right"},"Cool:",l.a.createElement("br",null),l.a.createElement(O.a,{variant:"primary",onClick:function(){return e.rollCool(n)},className:"btn-xs"},l.a.createElement(k.a,{icon:f.e})),"\xa0"),l.a.createElement("td",{className:"text-left"},u)),l.a.createElement("tr",null,l.a.createElement("td",{className:"text-right"},"Vigilance:",l.a.createElement("br",null),l.a.createElement(O.a,{variant:"primary",onClick:function(){return e.rollVigilance(n)},className:"btn-xs"},l.a.createElement(k.a,{icon:f.e})),"\xa0"),l.a.createElement("td",{className:"text-right"},g)))))):l.a.createElement(l.a.Fragment,null)),l.a.createElement("div",{className:"controls"},e.state.hideControls?l.a.createElement(l.a.Fragment,null):l.a.createElement(l.a.Fragment,null,l.a.createElement(O.a,{variant:"primary",onClick:function(){return e.editSlot(i,n)},title:"Edit this initiative slot"},l.a.createElement(k.a,{icon:f.d}))),l.a.createElement(O.a,{variant:"primary",tabIndex:n+e.initMap.length+5,onClick:function(){return e.removeSlot(n)},title:"Remove this initiative slot"},l.a.createElement(k.a,{icon:f.j}))))}))))}}]),t}(l.a.Component),j=function(){function e(t){Object(c.a)(this,e),this._app=void 0,this.activeAlerts=[],this.cancelTimeout=-1,this._app=t,this.activeAlerts=[]}return Object(r.a)(e,[{key:"dismissAlert",value:function(e){var t=this;this.cancelTimeout>-1&&window.clearTimeout(this.cancelTimeout);var a=document.getElementById("alert-index-"+e);return a&&(a.style.height="0px",a.style.paddingTop="0px",a.style.paddingBottom="0px",a.style.borderTop="0px",a.style.borderBottom="0px"),!!(this.activeAlerts.length>e&&this.activeAlerts[e].dismissable)&&(window.setTimeout((function(){var a=null;t.activeAlerts[e].dismissFunction&&(a=t.activeAlerts[e].dismissFunction),t.activeAlerts.splice(e,1),a&&a(),t._app.refreshGlobalState()}),100),!0)}},{key:"addAlert",value:function(e,t,a){var s=this,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],n=arguments.length>5?arguments[5]:void 0,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,r=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"",o=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"",m=arguments.length>9&&void 0!==arguments[9]?arguments[9]:"";this.activeAlerts.push({level:e,title:t,message:a,messageclass:l,externalURL:r,link:o,dismissable:i,extraclass:m,autoDismissSeconds:c,dismissFunction:n});var u=this.activeAlerts.length-1;this._app.refreshGlobalState(),c>0&&(window.setTimeout((function(){var e=document.getElementById("alert-index-"+u);e&&(e.className=e.className+"fade-away")}),1e3*c-250),window.setTimeout((function(){var e=document.getElementById("alert-bar-index-"+u);e&&(e.style.width="0px")}),100),this.cancelTimeout=window.setTimeout((function(){s.activeAlerts.splice(u,1),n&&n(),s._app.refreshGlobalState()}),1e3*c))}}]),e}(),G="FFG Star Wars/Genesys Helpers",T=(a(191),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={updated:!1},a}return Object(p.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.props.appGlobals.makeDocumentTitle("About")}},{key:"render",value:function(){return l.a.createElement(D,{current:"about",appGlobals:this.props.appGlobals},l.a.createElement("p",null,"Genesys and its logo, and Genesys Foundry and its logo, are trademarks of Fantasy Flight Games in the U.S.A. and other countries. All Fantasy Flight Games characters and character names, and the distinctive likenesses thereof, are trademarks of Fantasy Flight Games. ",l.a.createElement("a",{href:"http://www.FantasyFlightGames.com"},"www.FantasyFlightGames.com"),"."),l.a.createElement("p",null,"All other original material in this work is copyright 2019 by Jeffrey Gordon and published under the GPL. "),l.a.createElement("p",null,"Star Wars and its logo are owned by Lucasfilm/Disney."),l.a.createElement("p",null,"Die icons are owned by Fantasy Flight Games and/or Lucasfilm/Disney."),l.a.createElement("hr",null),l.a.createElement("p",{className:"text-center"},"This project is licensed under the GPL and you can contribute to the source at ",l.a.createElement("a",{href:"https://github.com/jdgwf/ffg-sw-genesys-helpers"},"its GitHub repository.")))}}]),t}(l.a.Component)),R=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={updated:!1},a.setUITheme=a.setUITheme.bind(Object(u.a)(a)),a.setDieIconClass=a.setDieIconClass.bind(Object(u.a)(a)),a}return Object(p.a)(t,e),Object(r.a)(t,[{key:"setUITheme",value:function(e){var t=this.props.appGlobals.settings;t.uiTheme=e.currentTarget.value,this.props.appGlobals.saveSettings(t)}},{key:"setDieIconClass",value:function(e){var t=this.props.appGlobals.settings;t.dieIconClass=e.currentTarget.value,localStorage.setItem("forceDice","0"),this.props.appGlobals.saveSettings(t)}},{key:"componentDidMount",value:function(){this.props.appGlobals.makeDocumentTitle("Settings")}},{key:"render",value:function(){return l.a.createElement(D,{current:"settings",appGlobals:this.props.appGlobals},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("fieldset",{className:"fieldset"},l.a.createElement("legend",null,"User Interface"),l.a.createElement("select",{value:this.props.appGlobals.settings.uiTheme,onChange:this.setUITheme},l.a.createElement("option",{value:""},"Default"),l.a.createElement("option",{value:"desaturated"},"Desaturated"),l.a.createElement("option",{value:"retro"},"Retro"))),l.a.createElement("fieldset",{className:"fieldset"},l.a.createElement("legend",null,"Die Icons"),l.a.createElement("select",{value:this.props.appGlobals.settings.dieIconClass,onChange:this.setDieIconClass},l.a.createElement("option",{value:""},"Genesys"),l.a.createElement("option",{value:"starwars"},"Star Wars"))))))}}]),t}(l.a.Component),A=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={updated:!1},a}return Object(p.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.props.appGlobals.makeDocumentTitle("Temp")}},{key:"render",value:function(){return l.a.createElement(D,{current:"Temp",appGlobals:this.props.appGlobals},l.a.createElement("p",{className:"text-box"},l.a.createElement("span",{className:"symbols"},"a")," = Advantage",l.a.createElement("br",null),l.a.createElement("span",{className:"symbols"},"h")," = Threat",l.a.createElement("br",null),l.a.createElement("span",{className:"symbols"},"f")," = Failure",l.a.createElement("br",null),l.a.createElement("span",{className:"symbols"},"s")," = Success",l.a.createElement("br",null),l.a.createElement("span",{className:"symbols"},"t")," = Triumph",l.a.createElement("br",null),l.a.createElement("span",{className:"symbols"},"d")," = Despair",l.a.createElement("br",null),l.a.createElement("span",{className:"die-setback"},"b")," = Setback Dice",l.a.createElement("br",null),l.a.createElement("span",{className:"die-boost"},"b")," = Boost Dice",l.a.createElement("br",null),l.a.createElement("span",{className:"die-difficulty"},"d")," = Difficulty Dice",l.a.createElement("br",null),l.a.createElement("span",{className:"die-ability"},"d")," = Ability Dice",l.a.createElement("br",null),l.a.createElement("span",{className:"die-challenge"},"c")," = Challenge Dice",l.a.createElement("br",null),l.a.createElement("span",{className:"die-proficiency"},"c")," = Proficiency Dice ",l.a.createElement("br",null)),l.a.createElement("p",null,"Star Wars",l.a.createElement("br",null),l.a.createElement("span",{className:"dice"},"s")," = Success",l.a.createElement("br",null),l.a.createElement("span",{className:"dice"},"a")," = Advantage",l.a.createElement("br",null),l.a.createElement("span",{className:"dice"},"x")," = Triumph",l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("span",{className:"dice"},"f")," = Failure",l.a.createElement("br",null),l.a.createElement("span",{className:"dice"},"t")," = Threat",l.a.createElement("br",null),l.a.createElement("span",{className:"dice"},"y")," = Despair",l.a.createElement("br",null),l.a.createElement("span",{className:"dice"},"z")," = Dark Side",l.a.createElement("br",null),l.a.createElement("span",{className:"dice"},"Z")," = Light Side",l.a.createElement("br",null)))}}]),t}(l.a.Component),P=(a(192),a(193),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).className="",a.props.className&&(a.className=a.props.className),a}return Object(p.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e="s",t="a",a="t",s="f",i="h",n="d",c="",r="";return"starwars"===this.props.appGlobals.settings.dieIconClass&&(e="s",t="a",a="x",s="f",i="t",n="y",c="z",r="Z"),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"die die-"+this.props.dieResult.type+" "+this.className,title:this.props.dieResult.title+" (raw #"+this.props.dieResult.rawRoll+")"},l.a.createElement("div",{className:"die-bg"},"setback"===this.props.dieResult.type?l.a.createElement("span",{className:"setback"},"b"):l.a.createElement(l.a.Fragment,null),"boost"===this.props.dieResult.type?l.a.createElement("span",{className:"boost"},"b"):l.a.createElement(l.a.Fragment,null),"difficulty"===this.props.dieResult.type?l.a.createElement("span",{className:"difficulty"},"d"):l.a.createElement(l.a.Fragment,null),"ability"===this.props.dieResult.type?l.a.createElement("span",{className:"ability"},"d"):l.a.createElement(l.a.Fragment,null),"challenge"===this.props.dieResult.type?l.a.createElement("span",{className:"challenge"},"c"):l.a.createElement(l.a.Fragment,null),"proficiency"===this.props.dieResult.type?l.a.createElement("span",{className:"proficiency"},"c"):l.a.createElement(l.a.Fragment,null),"force"===this.props.dieResult.type?l.a.createElement("span",{className:"force"},"c"):l.a.createElement(l.a.Fragment,null)),l.a.createElement("div",{className:"die-face "+this.props.appGlobals.settings.dieIconClass},1===this.props.dieResult.triumphs?l.a.createElement("span",{className:"icon-single"},a):l.a.createElement(l.a.Fragment,null,1===this.props.dieResult.despairs?l.a.createElement("span",{className:"icon-single"},n):l.a.createElement(l.a.Fragment,null,1===this.props.dieResult.successes?l.a.createElement(l.a.Fragment,null,1===this.props.dieResult.advantages?l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"icon-1"},e),l.a.createElement("span",{className:"icon-2"},t)):l.a.createElement("span",{className:"icon-single"},e)):l.a.createElement(l.a.Fragment,null),2===this.props.dieResult.successes?l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"icon-1"},e),l.a.createElement("span",{className:"icon-2"},e)):l.a.createElement(l.a.Fragment,null),1===this.props.dieResult.advantages?l.a.createElement(l.a.Fragment,null,1===this.props.dieResult.successes?l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"icon-1"},e),l.a.createElement("span",{className:"icon-2"},t)):l.a.createElement("span",{className:"icon-single"},t)):l.a.createElement(l.a.Fragment,null),2===this.props.dieResult.advantages?l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"icon-1"},t),l.a.createElement("span",{className:"icon-2"},t)):l.a.createElement(l.a.Fragment,null),1===this.props.dieResult.failures?l.a.createElement(l.a.Fragment,null,1===this.props.dieResult.threats?l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"icon-1"},s),l.a.createElement("span",{className:"icon-2"},i)):l.a.createElement("span",{className:"icon-single"},s)):l.a.createElement(l.a.Fragment,null),2===this.props.dieResult.failures?l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"icon-1"},s),l.a.createElement("span",{className:"icon-2"},s)):l.a.createElement(l.a.Fragment,null),1===this.props.dieResult.threats?l.a.createElement(l.a.Fragment,null,1===this.props.dieResult.failures?l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"icon-1"},s),l.a.createElement("span",{className:"icon-2"},i)):l.a.createElement("span",{className:"icon-single"},i)):l.a.createElement(l.a.Fragment,null),2===this.props.dieResult.threats?l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"icon-1"},i),l.a.createElement("span",{className:"icon-2"},i)):l.a.createElement(l.a.Fragment,null),1===this.props.dieResult.darkSide?l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"icon-single"},c)):l.a.createElement(l.a.Fragment,null),2===this.props.dieResult.darkSide?l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"icon-1"},c),l.a.createElement("span",{className:"icon-2"},c)):l.a.createElement(l.a.Fragment,null),1===this.props.dieResult.lightSide?l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"icon-single"},r)):l.a.createElement(l.a.Fragment,null),2===this.props.dieResult.lightSide?l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"icon-1"},r),l.a.createElement("span",{className:"icon-2"},r)):l.a.createElement(l.a.Fragment,null)))),l.a.createElement("div",{className:"raw-roll"},"#"+this.props.dieResult.rawRoll)))}}]),t}(l.a.Component)),V=function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).dieRolls=null,a.diceObj=new M;var s=3,l=1,i=0,n=2,r=0,p=0,d=0,h=localStorage.getItem("abilityDice");h&&(s=+h);var g=localStorage.getItem("proficiencyDice");g&&(l=+g);var b=localStorage.getItem("boostsDice");b&&(i=+b);var E=localStorage.getItem("difficultyDice");E&&(n=+E);var v=localStorage.getItem("challengeDice");v&&(r=+v);var f=localStorage.getItem("setbackDice");f&&(p=+f);var k=localStorage.getItem("forceDice");return k&&(d=+k),a.state={updated:!1,abilityDice:s,proficiencyDice:l,boostsDice:i,difficultyDice:n,challengeDice:r,setbackDice:p,forceDice:d},a.rollDice=a.rollDice.bind(Object(u.a)(a)),a.rollDice(),a}return Object(p.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.props.appGlobals.makeDocumentTitle("Dice")}},{key:"rollDice",value:function(){this.dieRolls=this.diceObj.rollFGDice(this.state.abilityDice,this.state.proficiencyDice,this.state.boostsDice,this.state.difficultyDice,this.state.challengeDice,this.state.setbackDice,this.state.forceDice),this.setState({updated:!0})}},{key:"incrementDie",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;switch(e.toLowerCase().trim()){case"ability":var a=this.state.abilityDice+t;a<0&&(a=0),localStorage.setItem("abilityDice",a.toString()),this.setState({abilityDice:a});break;case"proficiency":var s=this.state.proficiencyDice+t;s<0&&(s=0),localStorage.setItem("proficiencyDice",s.toString()),this.setState({proficiencyDice:s});break;case"setback":var l=this.state.setbackDice+t;l<0&&(l=0),localStorage.setItem("setbackDice",l.toString()),this.setState({setbackDice:l});break;case"difficulty":var i=this.state.difficultyDice+t;i<0&&(i=0),localStorage.setItem("difficultyDice",i.toString()),this.setState({difficultyDice:i});break;case"force":var n=this.state.forceDice+t;n<0&&(n=0),localStorage.setItem("forceDice",n.toString()),this.setState({forceDice:n});break;case"boost":var c=this.state.boostsDice+t;c<0&&(c=0),localStorage.setItem("boostsDice",c.toString()),this.setState({boostsDice:c});break;case"challenge":var r=this.state.challengeDice+t;r<0&&(r=0),localStorage.setItem("challengeDice",r.toString()),this.setState({challengeDice:r})}}},{key:"render",value:function(){var e=this;return l.a.createElement(D,{current:"dice",appGlobals:this.props.appGlobals},l.a.createElement("div",{className:"dice-select-container"},l.a.createElement("div",{className:"text-center dice-select"},l.a.createElement("span",{className:"title"},"Proficiency"),l.a.createElement("span",{className:"bigger-font"},l.a.createElement("span",{className:"dice die-proficiency"},"c"),"\xa0x",this.state.proficiencyDice,l.a.createElement("br",null)),l.a.createElement(O.a,{variant:"primary",className:"btn-xs",onClick:function(){return e.incrementDie("proficiency",-1)},disabled:this.state.proficiencyDice<1},l.a.createElement(k.a,{icon:f.f})),"\xa0",l.a.createElement(O.a,{variant:"primary",className:"btn-xs",onClick:function(){return e.incrementDie("proficiency",1)}},l.a.createElement(k.a,{icon:f.g}))),l.a.createElement("div",{className:"text-center dice-select"},l.a.createElement("span",{className:"title"},"Ability"),l.a.createElement("span",{className:"bigger-font"},l.a.createElement("span",{className:"dice die-ability"},"d"),"\xa0x",this.state.abilityDice,l.a.createElement("br",null)),l.a.createElement(O.a,{variant:"primary",className:"btn-xs",onClick:function(){return e.incrementDie("ability",-1)},disabled:this.state.abilityDice<1},l.a.createElement(k.a,{icon:f.f})),"\xa0",l.a.createElement(O.a,{variant:"primary",className:"btn-xs",onClick:function(){return e.incrementDie("ability",1)}},l.a.createElement(k.a,{icon:f.g}))),l.a.createElement("div",{className:"text-center dice-select"},l.a.createElement("span",{className:"title"},"Boost"),l.a.createElement("span",{className:"bigger-font"},l.a.createElement("span",{className:"dice die-boost"},"b"),"\xa0x",this.state.boostsDice,l.a.createElement("br",null)),l.a.createElement(O.a,{variant:"primary",className:"btn-xs",onClick:function(){return e.incrementDie("boost",-1)},disabled:this.state.boostsDice<1},l.a.createElement(k.a,{icon:f.f})),"\xa0",l.a.createElement(O.a,{variant:"primary",className:"btn-xs",onClick:function(){return e.incrementDie("boost",1)}},l.a.createElement(k.a,{icon:f.g}))),l.a.createElement("div",{className:"text-center dice-select"},l.a.createElement("span",{className:"title"},"Setback"),l.a.createElement("span",{className:"bigger-font"},l.a.createElement("span",{className:"dice die-setback"},"b"),"\xa0x",this.state.setbackDice,l.a.createElement("br",null)),l.a.createElement(O.a,{variant:"primary",className:"btn-xs",onClick:function(){return e.incrementDie("setback",-1)},disabled:this.state.setbackDice<1},l.a.createElement(k.a,{icon:f.f})),"\xa0",l.a.createElement(O.a,{variant:"primary",className:"btn-xs",onClick:function(){return e.incrementDie("setback",1)}},l.a.createElement(k.a,{icon:f.g}))),l.a.createElement("div",{className:"text-center dice-select"},l.a.createElement("span",{className:"title"},"Difficulty"),l.a.createElement("span",{className:"bigger-font"},l.a.createElement("span",{className:"dice die-difficulty"},"d"),"\xa0x",this.state.difficultyDice,l.a.createElement("br",null)),l.a.createElement(O.a,{variant:"primary",className:"btn-xs",onClick:function(){return e.incrementDie("difficulty",-1)},disabled:this.state.difficultyDice<1},l.a.createElement(k.a,{icon:f.f})),"\xa0",l.a.createElement(O.a,{variant:"primary",className:"btn-xs",onClick:function(){return e.incrementDie("difficulty",1)}},l.a.createElement(k.a,{icon:f.g}))),l.a.createElement("div",{className:"text-center dice-select"},l.a.createElement("span",{className:"title"},"Challenge"),l.a.createElement("span",{className:"bigger-font"},l.a.createElement("span",{className:"dice die-challenge"},"c"),"\xa0x",this.state.challengeDice,l.a.createElement("br",null)),l.a.createElement(O.a,{variant:"primary",className:"btn-xs",onClick:function(){return e.incrementDie("challenge",-1)},disabled:this.state.challengeDice<1},l.a.createElement(k.a,{icon:f.f})),"\xa0",l.a.createElement(O.a,{variant:"primary",className:"btn-xs",onClick:function(){return e.incrementDie("challenge",1)}},l.a.createElement(k.a,{icon:f.g}))),"starwars"===this.props.appGlobals.settings.dieIconClass?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"text-center dice-select"},l.a.createElement("span",{className:"title"},"Force"),l.a.createElement("span",{className:"bigger-font"},l.a.createElement("span",{className:"dice die-force"},"c"),"\xa0x",this.state.forceDice,l.a.createElement("br",null)),l.a.createElement(O.a,{variant:"primary",className:"btn-xs",onClick:function(){return e.incrementDie("force",-1)},disabled:this.state.forceDice<1},l.a.createElement(k.a,{icon:f.f})),"\xa0",l.a.createElement(O.a,{variant:"primary",className:"btn-xs",onClick:function(){return e.incrementDie("force",1)}},l.a.createElement(k.a,{icon:f.g})))):l.a.createElement(l.a.Fragment,null)),l.a.createElement("div",{className:"text-center"},l.a.createElement(O.a,{variant:"primary",onClick:this.rollDice},"Roll")),this.dieRolls?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"die-box text-center"},this.dieRolls.rolls.map((function(t,a){return l.a.createElement(l.a.Fragment,null,l.a.createElement(P,{key:a,appGlobals:e.props.appGlobals,dieResult:t,className:""}))})),l.a.createElement("p",null,0!==this.dieRolls.grossSuccesses?l.a.createElement(l.a.Fragment,null,"Successes: ",this.dieRolls.grossSuccesses,l.a.createElement("br",null)):l.a.createElement(l.a.Fragment,null),0!==this.dieRolls.grossAdvantages?l.a.createElement(l.a.Fragment,null,"Advantages: ",this.dieRolls.grossAdvantages,l.a.createElement("br",null)):l.a.createElement(l.a.Fragment,null),0!==this.dieRolls.grossFailures?l.a.createElement(l.a.Fragment,null,"Failures: ",this.dieRolls.grossFailures,l.a.createElement("br",null)):l.a.createElement(l.a.Fragment,null),0!==this.dieRolls.grossThreats?l.a.createElement(l.a.Fragment,null,"Threats: ",this.dieRolls.grossThreats,l.a.createElement("br",null)):l.a.createElement(l.a.Fragment,null),0!==this.dieRolls.grossTriumphs?l.a.createElement(l.a.Fragment,null,"Triumphs: ",this.dieRolls.grossTriumphs,l.a.createElement("br",null)):l.a.createElement(l.a.Fragment,null),0!==this.dieRolls.grossDespairs?l.a.createElement(l.a.Fragment,null,"Despairs: ",this.dieRolls.grossDespairs,l.a.createElement("br",null)):l.a.createElement(l.a.Fragment,null),0!==this.dieRolls.grossLightSide?l.a.createElement(l.a.Fragment,null,"Light Side: ",this.dieRolls.grossLightSide,l.a.createElement("br",null)):l.a.createElement(l.a.Fragment,null),0!==this.dieRolls.grossDarkSide?l.a.createElement(l.a.Fragment,null,"Dark Side: ",this.dieRolls.grossDarkSide,l.a.createElement("br",null)):l.a.createElement(l.a.Fragment,null)))):l.a.createElement(l.a.Fragment,null))}}]),t}(l.a.Component),L=function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).makeDocumentTitle=a.makeDocumentTitle.bind(Object(u.a)(a)),a.openConfirmDialog=a.openConfirmDialog.bind(Object(u.a)(a)),a.closeConfirmDialog=a.closeConfirmDialog.bind(Object(u.a)(a)),a.confirmConfirmDialog=a.confirmConfirmDialog.bind(Object(u.a)(a)),a.refreshGlobalState=a.refreshGlobalState.bind(Object(u.a)(a)),a.toggleMobile=a.toggleMobile.bind(Object(u.a)(a)),a.closeMobile=a.closeMobile.bind(Object(u.a)(a)),a.saveSettings=a.saveSettings.bind(Object(u.a)(a));var s="",l=localStorage.getItem("uiTheme");l?(s=l,document.body.className=s):document.body.className="";var i="genesys",n=localStorage.getItem("dieIconClass");return n&&(i=n),a.state={updated:!1,appGlobals:{settings:{uiTheme:s,dieIconClass:i},currentPageTitle:"",siteAlerts:new j(Object(u.a)(a)),showMobile:!1,confirmDialogMessage:"",confirmDialogTitle:"",confirmDialogYesLabel:"",confirmDialogNoLabel:"",showConfirmDialog:!1,confirmDialogConfirm:null,makeDocumentTitle:a.makeDocumentTitle,openConfirmDialog:a.openConfirmDialog,refreshGlobalState:a.refreshGlobalState,toggleMobile:a.toggleMobile,closeMobile:a.closeMobile,saveSettings:a.saveSettings}},a}return Object(p.a)(t,e),Object(r.a)(t,[{key:"saveSettings",value:function(e){var t=this.state.appGlobals;t.settings=e,this.setState({appGlobals:t}),e.uiTheme.trim()?document.body.className=e.uiTheme:document.body.className="",localStorage.setItem("uiTheme",e.uiTheme),localStorage.setItem("dieIconClass",e.dieIconClass)}},{key:"toggleMobile",value:function(){var e=this.state.appGlobals;e.showMobile=!e.showMobile,this.setState({appGlobals:e,updated:!0})}},{key:"closeMobile",value:function(){var e=this.state.appGlobals;e.showMobile=!1,this.setState({appGlobals:e,updated:!0})}},{key:"makeDocumentTitle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.state.appGlobals;e?(document.title=e+" | "+G,t.currentPageTitle=e,this.setState({appGlobals:t})):(document.title=G,t.currentPageTitle=e,this.setState({appGlobals:t}))}},{key:"refreshGlobalState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?this.setState({updated:!0,appGlobals:e}):this.setState({updated:!0})}},{key:"closeConfirmDialog",value:function(){var e=this.state.appGlobals;e.showConfirmDialog=!1,this.setState({appGlobals:e})}},{key:"confirmConfirmDialog",value:function(){if(this.state.appGlobals){this.state.appGlobals.confirmDialogConfirm&&this.state.appGlobals.confirmDialogConfirm();var e=this.state.appGlobals;e.showConfirmDialog=!1,this.setState({appGlobals:e})}}},{key:"openConfirmDialog",value:function(e,t,a,s,l){var i=this.state.appGlobals;i.confirmDialogMessage=t,i.confirmDialogTitle=e,i.confirmDialogYesLabel=a,i.confirmDialogNoLabel=s,i.showConfirmDialog=!0,i.confirmDialogConfirm=l,this.setState({appGlobals:i})}},{key:"render",value:function(){return l.a.createElement(d.a,null,l.a.createElement(I.a,{show:this.state.appGlobals.showConfirmDialog,onHide:this.closeConfirmDialog},l.a.createElement(I.a.Header,{closeButton:!0},l.a.createElement(I.a.Title,null,this.state.appGlobals.confirmDialogTitle)),l.a.createElement(I.a.Body,null,l.a.createElement("div",{className:"form"},l.a.createElement("div",null,l.a.createElement(v,{html:this.state.appGlobals.confirmDialogMessage})))),l.a.createElement(I.a.Footer,null,l.a.createElement(O.a,{variant:"secondary",onClick:this.closeConfirmDialog},this.state.appGlobals.confirmDialogNoLabel),l.a.createElement(O.a,{variant:"primary",onClick:this.confirmConfirmDialog},this.state.appGlobals.confirmDialogYesLabel))),l.a.createElement(h.c,null,l.a.createElement(h.a,{path:"".concat("/ffg-sw-genesys-helpers","/"),exact:!0},l.a.createElement(S,{appGlobals:this.state.appGlobals})),l.a.createElement(h.a,{path:"".concat("/ffg-sw-genesys-helpers","/initiative"),exact:!0},l.a.createElement(w,{appGlobals:this.state.appGlobals})),l.a.createElement(h.a,{path:"".concat("/ffg-sw-genesys-helpers","/about"),exact:!0},l.a.createElement(T,{appGlobals:this.state.appGlobals})),l.a.createElement(h.a,{path:"".concat("/ffg-sw-genesys-helpers","/temp"),exact:!0},l.a.createElement(A,{appGlobals:this.state.appGlobals})),l.a.createElement(h.a,{path:"".concat("/ffg-sw-genesys-helpers","/dice"),exact:!0},l.a.createElement(V,{appGlobals:this.state.appGlobals})),l.a.createElement(h.a,{path:"".concat("/ffg-sw-genesys-helpers","/settings"),exact:!0},l.a.createElement(R,{appGlobals:this.state.appGlobals})),l.a.createElement(h.a,null,l.a.createElement(C,{appGlobals:this.state.appGlobals}))))}}]),t}(l.a.Component);n.a.render(l.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},89:function(e,t,a){e.exports=a(194)},95:function(e,t,a){},96:function(e,t,a){}},[[89,1,2]]]);
//# sourceMappingURL=main.3290fb4a.chunk.js.map