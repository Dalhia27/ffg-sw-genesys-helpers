{"version":3,"sources":["serviceWorker.ts","Components/SanitizedHTML.tsx","Components/ShowAlerts.tsx","Components/TopMenu.tsx","Components/UIPage.tsx","Pages/Home.tsx","Pages/Error404.tsx","Components/NumberSelect.tsx","Components/SkillSelect.tsx","Classes/Dice.ts","Pages/Initiative.tsx","Classes/Alerts.ts","config.ts","Pages/About.tsx","Pages/Settings.tsx","Pages/Temp.tsx","Components/Die.tsx","Pages/Dice.tsx","Data/AdversaryCharacteristicArrays.ts","Data/AdversaryTypes.ts","Data/SkillList.ts","Classes/Adversary.ts","Data/AdversarySoakDefWoundStrain.ts","Data/AdversarySkillPackages.ts","Data/AdversaryTalents.ts","Data/AdversarySpecialAbilities.ts","utils.ts","Pages/AdversaryCreator.tsx","AppRouter.tsx","index.tsx"],"names":["Boolean","window","location","hostname","match","sanitizeHtml","require","SanitizedHTML","props","state","this","raw","dangerouslySetInnerHTML","__html","html","allowedTags","allowedAttributes","React","ShowAlerts","updated","alertIndex","appGlobals","siteAlerts","dismissAlert","setState","className","activeAlerts","map","alert","key","id","autoDismissSeconds","level","extraclass","style","display","height","onClick","fontSize","title","icon","faTimesCircle","spin","dismissable","message","messageclass","externalURL","href","link","to","TopMenu","toggleMobile","bind","closeMobile","faBars","current","process","Component","UIPage","showMobile","sub","children","Home","makeDocumentTitle","Error404","NumberSelect","max","numberSelectUI","numberSelect","push","onChange","index","value","SkillSelect","newValue","newValueObj","skillDice","attributeDice","proficiencySelectUI","proficiencySelectNumber","updateProficiencyDie","abilitySelectUI","abilitySelectNumber","updateAbilityDie","skillDieView","maxValue","minValue","lCount","label","Dice","numberOfSides","Math","floor","random","_getRandomInt","ability","proficiency","boosts","difficulty","challlenge","setback","force","netSuccesses","netAdvantages","netFailures","netThreats","netTriumphs","netDespairs","grossSuccesses","grossAdvantages","grossFailures","grossThreats","grossTriumphs","grossDespairs","netLightSide","netDarkSide","rolls","dieCount","roll","rollDie","rawRoll","type","numSides","successes","advantages","failures","threats","triumphs","despairs","lightSide","darkSide","grossDarkSide","grossLightSide","total","Initiative","numPCs","numNPCs","currentInitiative","initMap","lsNumPCs","localStorage","getItem","lsInitMap","lsCurrentInitiative","lsHideControls","hideControls","lsHideRolls","hideRolls","lsRoundNumber","roundNumber","Number","isNaN","JSON","parse","count","npc","skillCool","skillVigilance","item","length","setItem","editItem","editItemIndex","updateInitSuccesses","updateInitAdvantages","updateInitTriumphs","updateNumPCs","addItem","sortInit","initForward","initBackward","removeSlot","handleClose","editSlot","updateCoolValue","updateVigilanceValue","rollVigilance","rollCool","updateNPC","toggleHideControls","toggleHideRolls","resetRound","selectNextItem","selectPreviousItem","previousItem","previousItemIndex","nextItem","nextItemIndex","event","currentTarget","checked","stringify","indexNumber","dieResults","rollFGDice","getattributeDice","getProcidiencyDice","skill","init","toString","sort","a","b","splice","success","advantage","triumph","settings","dieIconClass","Modal","onHide","show","Header","closeButton","Body","Footer","Button","variant","tabIndex","disabled","faAngleDoubleLeft","faAngleDoubleRight","faRecycle","mapItem","mapIndex","successCount","skillCoolDieView","skillVigilanceDieView","faDice","faCog","faTrash","Alerts","mainApp","_app","cancelTimeout","clearTimeout","alertID","document","getElementById","paddingTop","paddingBottom","borderTop","borderBottom","setTimeout","dismissFunction","refreshGlobalState","dismissIndex","width","CONFIGSiteTitle","About","Settings","setUITheme","setDieIconClass","uiTheme","saveSettings","Temp","Die","failure","threat","despair","dieResult","DicePage","dieRolls","diceObj","abilityDice","proficiencyDice","boostsDice","difficultyDice","challengeDice","setbackDice","forceDice","abilityDiceLS","proficiencyDiceLS","boostsDiceLS","difficultyDiceLS","challengeDiceLS","setbackDiceLS","forceDiceLS","rollDice","dieType","incrementCount","toLowerCase","trim","incrementDie","faMinus","faPlus","result","resultIndex","AdversaryCharacteristicArrays","name","characteristics","brawn","agility","intellect","cunning","willpower","presence","powerLevels","combat","social","general","examples","AdversaryTypes","SkillList","attribute","book","page","Adversary","saveData","description","adversaryType","selectedAdversaryCharacteristicArray","selectedSkillPackages","selectedSoakDefWoundStrain","selectedSpecialAbilities","selectedTalents","_skills","loadData","exportData","soakValue","getBrawn","advSoakDefWoundStrain","derivedAttribute","soakThreshold","woundThreshold","strainThreshold","getWillpower","rangedDefenseValue","rangedDefense","meleeDefenseValue","meleeDefense","getAgility","getIntellect","getCunning","getPresence","skillPackage","skills","packageSkill","valuesAsDice","_setSkills","activeSkills","returnValue","abilityValue","_getAttributeValue","dieValue","substr","console","log","talent","specialAbility","selectedTalent","AdversarySoakDefWoundStrain","AdversarySkillPackages","AdversaryTalents","AdversarySpecialAbilities","replaceAll","incoming","findString","replaceWith","processedString","indexOf","replace","replaceDieTags","incomingString","extension","size","sizeExtension","heightTag","boost","challenge","dispair","AdversaryCreator","lsData","editData","lsValuesAsDice","workingEdit","soakDefWoundStrainSelect","skillPackageSelect","talentSelect","specialAbilitiesSelect","updateName","updateType","updateCharacteristicArray","updateSoakDefWoundStrainSelect","updateDescription","addSelectedSoakDefWoundStrain","addSelectedSkillPackage","updateSkillPackageSelect","addSelectedTalent","updateTalentSelect","addSelectedSpecialAbility","updateSpecialAbilitySelect","removeSpecialAbility","removeSoakDefWoundStrain","removeSkillPackage","removeTalent","toggleValuesAsDice","_refreshImages","obj","calc","saveLS","noImageUpdate","split","charArray","selectedSpecialAbility","selectedSkillPackage","addTalent","nodeElement","domtoimage","toPng","then","dataUrl","src","nodeElement2","target","alt","line","lineIndex","getSkillList","getTalentList","getAbilitiesList","getEquipmentList","getPowerLevel","getSoak","getWoundThreshold","getStrainThreshold","getMeleeDefense","getRangedDefense","typeValue","join","_sortByName","arrayValue","typeIndex","itemIndex","AppRouter","openConfirmDialog","closeConfirmDialog","confirmConfirmDialog","lsTheme","body","lsDieIconClass","currentPageTitle","confirmDialogMessage","confirmDialogTitle","confirmDialogYesLabel","confirmDialogNoLabel","showConfirmDialog","confirmDialogConfirm","subTitle","confirmTitle","confirmMessage","confirmYesLabel","confirmNoLabel","confirmCallback","Title","path","exact","ReactDOM","render","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.dff21fcf.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import * as React from 'react';\n// import * as sanitizeHtml from 'sanitize-html';\nvar sanitizeHtml = require('sanitize-html');\n\nexport default class SanitizedHTML extends React.Component<ISanitizedHTMLProps, ISanitizedHTMLState> {\n\n    constructor(props: ISanitizedHTMLProps) {\n        super(props);\n        this.state = {\n        }\n    }\n\n    async componentWillMount() {\n\n    }\n\n    // For the SanitizeHTML function/module docs go here:\n    // https://www.npmjs.com/package/sanitize-html\n\n    render() {\n\n        if( this.props.raw ) {\n            return (\n                <span\n                    dangerouslySetInnerHTML={\n                        {\n                            __html: this.props.html\n                        }\n                    }\n                ></span>\n            )\n        } else {\n            return (\n                <span\n                    dangerouslySetInnerHTML={\n                        {\n                            __html: sanitizeHtml(\n                                this.props.html,\n                                {\n                                    allowedTags: [\n                                        \"h1\",\n                                        \"h2\",\n                                        \"h3\",\n                                        \"h4\",\n\n                                        \"svg\",\n\n                                        \"div\",\n                                        \"span\",\n                                        \"p\",\n\n                                        \"ol\",\n                                        \"ul\",\n                                        \"li\",\n\n                                        \"img\",\n\n                                        \"sup\",\n\n                                        \"strong\",\n                                        \"em\",\n\n                                        \"br\",\n                                        \"hr\"\n                                    ],\n                                    allowedAttributes: {\n                                        'div': [ 'class', 'id' ],\n                                        'span': [ 'class', 'id' ],\n                                        'p': [ 'class', 'id' ],\n                                        'img': ['src', 'class', 'id', 'style'],\n                                        'ul': [ 'class', 'id' ],\n                                    },\n                                }\n                            )\n                        }\n                    }\n                />\n            )\n        }\n    }\n}\n\ninterface ISanitizedHTMLProps {\n    html: string;\n    raw?: boolean;\n}\n\ninterface ISanitizedHTMLState {\n\n}","import * as React from 'react';\nimport SanitizedHTML from './SanitizedHTML';\nimport {IAlert} from '../Classes/Alerts';\nimport { faTimesCircle } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { Link } from 'react-router-dom';\nimport {IAppGlobals} from '../AppRouter';\n\nexport default class ShowAlerts extends React.Component<IShowAlertsProps, IShowAlertsState> {\n\n    constructor(props: IShowAlertsProps) {\n        super(props);\n        this.state = {\n            updated: false,\n        };\n    }\n\n    dismissAlert( alertIndex: number) {\n        if( this.props.appGlobals.siteAlerts.dismissAlert( alertIndex ) ) {\n            this.setState({\n                updated: false\n            });\n        }\n    }\n\n    render() {\n        return (\n            <ul className=\"styleless\">\n                {this.props.appGlobals.siteAlerts.activeAlerts.map(\n                    (alert: IAlert, alertIndex: number) => {\n                        return <div\n                            key={alertIndex}\n                            id={\"alert-index-\" + alertIndex}\n                            className={alert.autoDismissSeconds > 0 ? \"position-relative alert-fade alert alert-\" + alert.level + \" \" + alert.extraclass : \"position-relative alert alert-\" + alert.level + \" \" + alert.extraclass}\n                            style={{\n                                display: \"block\",\n                                height: \"auto\",\n                            }}\n                        >\n\n                            {alert.autoDismissSeconds > 0 ?\n                            (\n                                <>\n                                <div className=\"alert-countdown\">\n                                    <div\n                                        id={\"alert-bar-index-\" + alertIndex}\n                                        className={\"alert-countdown-bar dismiss-time-\" + alert.autoDismissSeconds}\n                                    >\n\n                                    </div>\n                                </div>\n                                <span\n                                    onClick={() => {this.dismissAlert(alertIndex)} }\n                                    className=\"pull-right cursor-pointer\"\n                                    style={{fontSize: \"1.5rem\"}}\n                                    title={\"Click here to dismiss this alert, but it'll auto-dismiss in \" + alert.autoDismissSeconds + \" seconds\"}\n                                >\n                                    <FontAwesomeIcon icon={faTimesCircle} spin />\n                                </span>\n                                </>\n                            )\n                            :\n                            (\n                                <>\n                                    {alert.dismissable ?\n                                        (\n                                            <span\n                                                onClick={() => {this.dismissAlert(alertIndex)} }\n                                                className=\"pull-right cursor-pointer\"\n                                                style={{fontSize: \"1.5rem\"}}\n                                                title=\"Click here to dismiss this alert\"\n                                            >\n                                                <FontAwesomeIcon icon={faTimesCircle} />\n                                            </span>\n                                        ):\n                                        (\n                                            <></>\n                                        )\n                                    }\n                                </>\n                            )}\n\n                            {alert.title ? (\n                                <h4>{alert.title}</h4>\n                            ):\n                            (\n                                <></>\n                            )\n                            }\n\n                            {alert.message ? (\n                                <div className={alert.messageclass}>\n                                    <SanitizedHTML html={alert.message} />\n                                </div>\n                            ):\n                            (\n                             <></>\n                            )}\n                            {alert.externalURL ? (\n                                <div className=\"text-right\">\n                                    <a className=\"btn btn-primary btn-sm\" href={alert.externalURL}>Go</a>\n                                </div>\n                            ):\n                            (\n                             <></>\n                            )}\n                            {alert.link ? (\n                                <div className=\"text-right\">\n                                    <Link className=\"btn btn-primary btn-sm\" to={alert.link}>Go</Link>\n                                </div>\n                            ):\n                            (\n                             <></>\n                            )}\n                        </div>\n                    }\n                )}\n            </ul>\n\n        )\n    }\n}\n\ninterface IShowAlertsProps {\n    appGlobals: IAppGlobals;\n}\n\ninterface IShowAlertsState {\n    updated: boolean;\n}","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport './TopMenu.scss';\nimport { faBars } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {IAppGlobals} from '../AppRouter';\n\nexport default class TopMenu extends React.Component<ITopMenuProps, ITopMenuState> {\n    constructor(props: ITopMenuProps) {\n        super(props);\n        this.state = {\n            updated: false,\n        }\n        this.toggleMobile = this.toggleMobile.bind(this);\n        this.closeMobile = this.closeMobile.bind(this);\n    }\n\n    toggleMobile() {\n        this.props.appGlobals.toggleMobile();\n    }\n    closeMobile() {\n        this.props.appGlobals.closeMobile();\n    }\n\n    render() {\n      return (\n          <>\n          <header className=\"topmenu\">\n            <ul>\n                <li onClick={this.toggleMobile} className=\"mobile-menu-button d-inline d-md-none\"><FontAwesomeIcon icon={faBars} /></li>\n                <li className=\"d-none d-md-inline\"><Link className={this.props.current === \"home\" ? \"current\" : \"\" } to={`${process.env.PUBLIC_URL}/`}>Home</Link></li>\n                <li className=\"d-none d-md-inline\"><Link className={this.props.current === \"initiative\" ? \"current\" : \"\" } to={`${process.env.PUBLIC_URL}/initiative`}>Initiative</Link></li>\n                <li className=\"d-none d-md-inline\"><Link className={this.props.current === \"dice\" ? \"current\" : \"\" } to={`${process.env.PUBLIC_URL}/dice`}>Dice</Link></li>\n                <li className=\"d-none d-md-inline\"><Link className={this.props.current === \"adversary-creator\" ? \"current\" : \"\" } to={`${process.env.PUBLIC_URL}/adversary-creator`}>Adversary Creator</Link></li>\n                <li className=\"d-none d-md-inline\"><Link className={this.props.current === \"about\" ? \"current\" : \"\" } to={`${process.env.PUBLIC_URL}/about`}>About</Link></li>\n                <li className=\"d-none d-md-inline\"><Link className={this.props.current === \"settings\" ? \"current\" : \"\" } to={`${process.env.PUBLIC_URL}/settings`}>Settings</Link></li>\n                {/*\n                <li className=\"d-none d-md-inline\"><Link className={this.props.current === \"dev-status\" ? \"current\" : \"\" } to={`${process.env.PUBLIC_URL}/dev-status`}>Status</Link></li>\n\n                */}\n\n            </ul>\n\n          </header>\n            <div className=\"mobile-menu\">\n                <ul className=\"styleless\">\n                    <li><Link onClick={this.closeMobile} className={this.props.current === \"home\" ? \"current\" : \"\" } to={`${process.env.PUBLIC_URL}/`}>Home</Link></li>\n                    <li><Link onClick={this.closeMobile} className={this.props.current === \"initiative\" ? \"current\" : \"\" } to={`${process.env.PUBLIC_URL}/initiative`}>Initiative</Link></li>\n                    <li><Link onClick={this.closeMobile} className={this.props.current === \"dice\" ? \"current\" : \"\" } to={`${process.env.PUBLIC_URL}/dice`}>Dice</Link></li>\n                    <li><Link onClick={this.closeMobile} className={this.props.current === \"adversary-creator\" ? \"current\" : \"\" } to={`${process.env.PUBLIC_URL}/adversary-creator`}>Adversary Creator</Link></li>\n                    <li><Link onClick={this.closeMobile} className={this.props.current === \"about\" ? \"current\" : \"\" } to={`${process.env.PUBLIC_URL}/about`}>About</Link></li>\n                    <li><Link onClick={this.closeMobile} className={this.props.current === \"settings\" ? \"current\" : \"\" } to={`${process.env.PUBLIC_URL}/settings`}>Settings</Link></li>\n                    {/*\n                    <li><Link onClick={this.closeMobile} className={this.props.current === \"dev-status\" ? \"current\" : \"\" } to={`${process.env.PUBLIC_URL}/dev-status`}>Status</Link></li>\n\n                    */}\n                </ul>\n\n            </div>\n          </>\n      );\n    }\n}\n\ninterface ITopMenuProps {\n    current?: string;\n    sub?: string;\n    appGlobals: IAppGlobals;\n}\n\ninterface ITopMenuState {\n    updated: boolean;\n\n}","import React from 'react';\nimport {IAppGlobals} from '../AppRouter';\nimport ShowAlerts from './ShowAlerts';\nimport TopMenu from './TopMenu';\n\nexport default class UIPage extends React.Component<IUIPageProps, IUIPageState> {\n\n    render() {\n        return (\n        <div className={this.props.appGlobals.showMobile ? \"ui-page show-mobile\" : \"ui-page\"}>\n          <TopMenu current={this.props.current} sub={this.props.sub} appGlobals={this.props.appGlobals} />\n          <div className=\"content\">\n            <ShowAlerts appGlobals={this.props.appGlobals} />\n            {this.props.children}\n          </div>\n        </div>\n        )\n    }\n}\n\n\ninterface IUIPageProps {\n    appGlobals: IAppGlobals;\n    current?: string;\n    sub?: string;\n  }\n\n  interface IUIPageState {\n      updated: boolean;\n\n  }","import React from 'react';\nimport './Home.scss';\nimport {IAppGlobals} from '../AppRouter';\nimport UIPage from '../Components/UIPage';\n\nexport default class Home extends React.Component<IHomeProps, IHomeState> {\n    constructor(props: IHomeProps) {\n        super(props);\n        this.state = {\n            updated: false,\n        }\n    }\n\n    componentDidMount ()  {\n      this.props.appGlobals.makeDocumentTitle(\"Home\");\n    }\n\n    render() {\n      return (\n        <UIPage current=\"home\" appGlobals={this.props.appGlobals}>\n\n            This will be a collection of quick utilities to help Star Wars and Genesys games.\n\n        </UIPage>\n      );\n    }\n}\n\ninterface IHomeProps {\n  appGlobals: IAppGlobals;\n}\n\ninterface IHomeState {\n    updated: boolean;\n\n}","import React from 'react';\nimport {IAppGlobals} from '../AppRouter';\nimport UIPage from '../Components/UIPage';\n\nexport default class Error404 extends React.Component<IError404Props, IError404State> {\n    constructor(props: IError404Props) {\n        super(props);\n        this.state = {\n            updated: false,\n        }\n    }\n\n    componentDidMount () {\n      this.props.appGlobals.makeDocumentTitle(\"404 - Page not Found\");\n    }\n\n    render() {\n      return (\n        <UIPage appGlobals={this.props.appGlobals}>\n            404 - Not Found\n        </UIPage>\n      );\n    }\n}\n\ninterface IError404Props {\n  appGlobals: IAppGlobals;\n}\n\ninterface IError404State {\n    updated: boolean;\n\n}\n","import React, { ReactElement } from 'react';\nimport './NumberSelect.scss';\n\nexport default class NumberSelect extends React.Component<INumberSelectProps, INumberSelectState> {\n\n    className: string = \"\";\n    max: number = 8;\n\n    constructor(props: INumberSelectProps) {\n        super(props);\n        if( this.props.className ) {\n            this.className = this.props.className;\n        }\n        if( this.props.max ) {\n            this.max = this.props.max;\n        }\n    }\n\n    render() {\n        let numberSelectUI: ReactElement[] = [];\n\n        for( let numberSelect = 0; numberSelect < this.max; numberSelect++) {\n            numberSelectUI.push(\n                <span\n                    key={\"ns\" + numberSelect}\n                onClick={() => this.props.onChange(this.props.index, numberSelect)}\n                className={this.props.value === numberSelect ? \"selected\" : \"\"}\n            >\n                    {numberSelect}\n                </span>\n            )\n        }\n\n        return (\n            <div className=\"number-select\">\n                {numberSelectUI}\n            </div>\n        )\n    }\n}\n\n\ninterface INumberSelectProps {\n    value: number;\n    onChange(\n        indexNumber: number,\n        newValue: number\n    ): void;\n    index: number;\n    max?: number;\n    className?: string;\n  }\n\n  interface INumberSelectState {\n      updated: boolean;\n\n  }","import React, { ReactElement } from 'react';\nimport './SkillSelect.scss';\nimport { ISkillValue } from '../Pages/Initiative';\n\nexport default class SkillSelect extends React.Component<ISkillSelectProps, ISkillSelectState> {\n\n    className: string = \"\";\n    max: number = 5;\n\n    constructor(props: ISkillSelectProps) {\n        super(props);\n        if( this.props.className ) {\n            this.className = this.props.className;\n        }\n\n    }\n\n    updateProficiencyDie( newValue: number) {\n        let newValueObj = this.props.value;\n        newValueObj.skillDice = newValue;\n        this.props.onChange(this.props.index, newValueObj)\n        this.setState({\n            updated: true,\n        })\n    }\n\n    updateAbilityDie( newValue: number) {\n        let newValueObj = this.props.value;\n        newValueObj.attributeDice = newValue;\n        this.props.onChange(this.props.index, newValueObj)\n        this.setState({\n            updated: true,\n        })\n    }\n\n    render() {\n        let proficiencySelectUI: ReactElement[] = [];\n\n        for( let proficiencySelectNumber = 0; proficiencySelectNumber < this.max; proficiencySelectNumber++) {\n\n            proficiencySelectUI.push(\n                <span\n                    key={\"ps\" + proficiencySelectNumber}\n                    onClick={() => this.updateProficiencyDie(proficiencySelectNumber)}\n                    className={this.props.value.skillDice === proficiencySelectNumber ? \"selected\" : \"\"}\n                >\n                    {proficiencySelectNumber}\n                </span>\n            )\n        }\n\n        let abilitySelectUI: ReactElement[] = [];\n\n        for( let abilitySelectNumber = 0; abilitySelectNumber < this.max; abilitySelectNumber++) {\n\n            abilitySelectUI.push(\n                <span\n                    key={\"as\" + abilitySelectNumber}\n                    onClick={() => this.updateAbilityDie(abilitySelectNumber)}\n                    className={this.props.value.attributeDice === abilitySelectNumber ? \"selected\" : \"\"}\n                >\n                    {abilitySelectNumber}\n                </span>\n            )\n        }\n\n        let skillDieView: ReactElement[] = [];\n        let maxValue = 0;\n        let minValue = 0;\n        if( this.props.value.attributeDice > this.props.value.skillDice  ) {\n            maxValue =  this.props.value.attributeDice;\n            minValue =  this.props.value.skillDice;\n        } else {\n            maxValue =  this.props.value.skillDice;\n            minValue =  this.props.value.attributeDice;\n        }\n\n        for( let lCount = 0; lCount < maxValue; lCount++ ) {\n            if( lCount < minValue ) {\n                skillDieView.push(\n                    <span key={\"p\" + lCount} className=\"dice die-proficiency\">c</span>\n                )\n            } else {\n                skillDieView.push(\n                    <span key={\"a\" + lCount} className=\"dice die-ability\">c</span>\n                )\n            }\n        }\n\n        return (\n            <>\n                <label className=\"skill-select\">\n                {this.props.label}: {skillDieView}<br />\n                    <div className=\"number-select text-right\">\n                        Ability Dice: {abilitySelectUI}<br />\n                        Proficiency Dice: {proficiencySelectUI}<br />\n                    </div>\n                </label><br />\n            </>\n        )\n    }\n}\n\n\ninterface ISkillSelectProps {\n    value: ISkillValue;\n    onChange(\n        indexNumber: number,\n        newValue: ISkillValue\n    ): void;\n    index: number;\n    className?: string;\n    label: string;\n  }\n\n  interface ISkillSelectState {\n      updated: boolean;\n\n  }","export interface IDiceResults {\n    rolls: IDieResult[];\n    netSuccesses: number;\n    netAdvantages: number;\n    netFailures: number;\n    netThreats: number;\n    netTriumphs: number;\n    netDespairs: number;\n    netLightSide: number;\n    netDarkSide: number;\n    grossSuccesses: number;\n    grossAdvantages: number;\n    grossFailures: number;\n    grossThreats: number;\n    grossTriumphs: number;\n    grossDespairs: number;\n    grossLightSide: number;\n    grossDarkSide: number;\n\n    total: number;\n}\n\nexport interface IDieResult {\n    type: string;\n    title: string;\n    numSides: number;\n    rawRoll: number;\n    successes: number;\n    advantages: number;\n    failures: number;\n    threats: number;\n    triumphs: number;\n    despairs: number;\n    lightSide: number;\n    darkSide: number;\n}\n\nexport default class Dice {\n\n    private _getRandomInt(numberOfSides: number): number {\n        return Math.floor(Math.random() * Math.floor(numberOfSides));\n    }\n\n    public rollDie( numberOfSides: number = 6 ): number {\n        return this._getRandomInt( numberOfSides) + 1;\n    }\n\n    public rollFGDice(\n        ability: number = 0,\n        proficiency: number = 0,\n        boosts: number = 0,\n\n        difficulty: number = 0,\n        challlenge: number = 0,\n        setback: number = 0,\n\n        force: number = 0,\n    ): IDiceResults {\n\n        let netSuccesses: number = 0;\n        let netAdvantages: number = 0;\n        let netFailures: number = 0;\n        let netThreats: number = 0;\n        let netTriumphs: number = 0;\n        let netDespairs: number = 0;\n        let grossSuccesses: number = 0;\n        let grossAdvantages: number = 0;\n        let grossFailures: number = 0;\n        let grossThreats: number = 0;\n        let grossTriumphs: number = 0;\n        let grossDespairs: number = 0;\n\n        let netLightSide: number = 0;\n        let grossLightSide: number = 0;\n\n        let netDarkSide: number = 0;\n        let grossDarkSide: number = 0;\n\n        let rolls: IDieResult[] = [];\n\n\n        // Proficiency Dice\n        for( let dieCount = 0; dieCount < proficiency; dieCount++) {\n            let roll = this.rollDie(12);\n            let rawRoll = {\n                type: \"proficiency\",\n                title: \"\",\n                numSides: 8,\n                rawRoll: roll,\n                successes: 0,\n                advantages: 0,\n                failures: 0,\n                threats: 0,\n                triumphs: 0,\n                despairs: 0,\n                lightSide: 0,\n                darkSide: 0,\n            }\n            switch( roll ) {\n                case 1: {\n                    // Do nothing, blank side\n                    rawRoll.title = \"(nothing)\";\n                    break;\n                }\n                case 2: {\n                    // one success\n                    rawRoll.successes++;\n                    rawRoll.title = \"One Success\";\n                    break;\n                }\n                case 3: {\n                    // one success\n                    rawRoll.successes++;\n                    rawRoll.title = \"One Success\";\n                    break;\n                }\n                case 4: {\n                    // two successes\n                    rawRoll.successes++;\n                    rawRoll.successes++;\n                    rawRoll.title = \"Two Successes\";\n                    break;\n                }\n                case 5: {\n                    // two successes\n                    rawRoll.successes++;\n                    rawRoll.successes++;\n                    rawRoll.title = \"Two Successes\";\n                    break;\n                }\n                case 6: {\n                    // one advantage\n                    rawRoll.advantages++;\n                    rawRoll.title = \"One Advantage\";\n                    break;\n                }\n                case 7: {\n                    // one advantage, one success\n                    rawRoll.advantages++;\n                    rawRoll.successes++;\n                    rawRoll.title = \"One Advantage, one success\";\n                    break;\n                }\n                case 8: {\n                    // one advantage, one success\n                    rawRoll.advantages++;\n                    rawRoll.successes++;\n                    rawRoll.title = \"One Advantage, one success\";\n\n                    break;\n                }\n                case 9: {\n                    // one advantage, one success\n                    rawRoll.advantages++;\n                    rawRoll.successes++;\n                    rawRoll.title = \"One Advantage, one success\";\n                    break;\n                }\n                case 10: {\n                    // two advantages\n                    rawRoll.advantages++;\n                    rawRoll.advantages++;\n                    rawRoll.title = \"Two Advantages\";\n                    break;\n                }\n                case 11: {\n                    // two advantages\n                    rawRoll.advantages++;\n                    rawRoll.advantages++;\n                    rawRoll.title = \"Two Advantages\";\n                    break;\n                }\n                case 12: {\n                    // one success and a triumph\n                    rawRoll.successes++;\n                    rawRoll.triumphs++;\n                    rawRoll.title = \"One Triumph (counts as success)\";\n                    break;\n                }\n            }\n            rolls.push( rawRoll );\n        }\n\n\n\n        // Ability Dice\n        for( let dieCount = 0; dieCount < ability; dieCount++) {\n            let roll = this.rollDie(8);\n            let rawRoll = {\n                type: \"ability\",\n                title: \"\",\n                numSides: 8,\n                rawRoll: roll,\n                successes: 0,\n                advantages: 0,\n                failures: 0,\n                threats: 0,\n                triumphs: 0,\n                despairs: 0,\n                lightSide: 0,\n                darkSide: 0,\n            }\n            switch( roll ) {\n                case 1: {\n                    // Do nothing, blank side\n                    rawRoll.title = \"( nothing )\";\n                    break;\n                }\n                case 2: {\n                    // one success\n                    rawRoll.successes++;\n                    rawRoll.title = \"One Success\";\n                    break;\n                }\n                case 3: {\n                    // one success\n                    rawRoll.successes++;\n                    rawRoll.title = \"One Success\";\n                    break;\n                }\n                case 4: {\n                    // two successes\n                    rawRoll.successes++;\n                    rawRoll.successes++;\n                    rawRoll.title = \"Two Successes\";\n                    break;\n                }\n                case 5: {\n                    // one advantage\n                    rawRoll.advantages++;\n                    rawRoll.title = \"One Advantage\";\n                    break;\n                }\n                case 6: {\n                    // one advantage\n                    rawRoll.advantages++;\n                    rawRoll.title = \"One Advantage\";\n                    break;\n                }\n                case 7: {\n                    // one advantage, one success\n                    rawRoll.advantages++;\n                    rawRoll.successes++;\n                    rawRoll.title = \"One Advantage, One Success\";\n                    break;\n                }\n                case 8: {\n                    // one advantages\n                    rawRoll.advantages++;\n                    rawRoll.advantages++;\n                    rawRoll.title = \"Two Advantages\";\n                    break;\n                }\n            }\n            rolls.push( rawRoll );\n        }\n\n        // Boost Dice\n        for( let dieCount = 0; dieCount < boosts; dieCount++) {\n            let roll = this.rollDie(6);\n            let rawRoll = {\n                type: \"boost\",\n                title: \"\",\n                numSides: 8,\n                rawRoll: roll,\n                successes: 0,\n                advantages: 0,\n                failures: 0,\n                threats: 0,\n                triumphs: 0,\n                despairs: 0,\n                lightSide: 0,\n                darkSide: 0,\n            }\n            switch( roll ) {\n                case 1: {\n                    // Do nothing, blank side\n                    rawRoll.title = \"(nothing)\";\n                    break;\n                }\n                case 2: {\n                    // Do nothing, blank side\n                    rawRoll.title = \"(nothing)\";\n                    break;\n                }\n                case 3: {\n                    // one success\n                    rawRoll.successes++;\n                    rawRoll.title = \"One Success\";\n                    break;\n                }\n                case 4: {\n                    // one success, one advantage\n                    rawRoll.successes++;\n                    rawRoll.advantages++;\n                    rawRoll.title = \"One Success, One Advantage\";\n                    break;\n                }\n                case 5: {\n                    // two advantages\n                    rawRoll.advantages++;\n                    rawRoll.advantages++;\n                    rawRoll.title = \"Two Advantages\";\n                    break;\n                }\n                case 6: {\n                    // one advantage\n                    rawRoll.advantages++;\n                    rawRoll.title = \"One Advantage\";\n                    break;\n                }\n            }\n            rolls.push( rawRoll );\n        }\n\n        // Difficulty Dice\n        for( let dieCount = 0; dieCount < difficulty; dieCount++) {\n            let roll = this.rollDie(8);\n            let rawRoll = {\n                type: \"difficulty\",\n                title: \"\",\n                numSides: 8,\n                rawRoll: roll,\n                successes: 0,\n                advantages: 0,\n                failures: 0,\n                threats: 0,\n                triumphs: 0,\n                despairs: 0,\n                lightSide: 0,\n                darkSide: 0,\n            }\n            switch( roll ) {\n                case 1: {\n                    // Do nothing, blank side\n                    rawRoll.title = \"(nothing)\";\n                    break;\n                }\n                case 2: {\n                    // one failure\n                    rawRoll.failures++;\n                    rawRoll.title = \"One Failure\";\n                    break;\n                }\n                case 3: {\n                    // two failures\n                    rawRoll.failures++;\n                    rawRoll.failures++;\n                    rawRoll.title = \"Two Failures\";\n                    break;\n                }\n                case 4: {\n                    // one threat\n                    rawRoll.threats++;\n                    rawRoll.title = \"One Threat\";\n                    break;\n                }\n                case 5: {\n                    // one threat\n                    rawRoll.threats++;\n                    rawRoll.title = \"One Threat\";\n                    break;\n                }\n                case 6: {\n                    // one threat\n                    rawRoll.threats++;\n                    rawRoll.title = \"One Threat\";\n                    break;\n                }\n                case 7: {\n                    // two threats\n                    rawRoll.threats++;\n                    rawRoll.threats++;\n                    rawRoll.title = \"Two Threats\";\n\n                    break;\n                }\n                case 8: {\n                    // one threat, one failure\n                    rawRoll.threats++;\n                    rawRoll.failures++;\n                    rawRoll.title = \"One Threat, One Failure\";\n                    break;\n                }\n            }\n            rolls.push( rawRoll );\n        }\n\n        // Setback Dice\n        for( let dieCount = 0; dieCount < setback; dieCount++) {\n            let roll = this.rollDie(6);\n            let rawRoll = {\n                type: \"setback\",\n                title: \"\",\n                numSides: 8,\n                rawRoll: roll,\n                successes: 0,\n                advantages: 0,\n                failures: 0,\n                threats: 0,\n                triumphs: 0,\n                despairs: 0,\n                lightSide: 0,\n                darkSide: 0,\n            }\n            switch( roll ) {\n                case 1: {\n                    // Do nothing, blank side\n                    rawRoll.title = \"(nothing)\";\n                    break;\n                }\n                case 2: {\n                    // Do nothing, blank side\n                    rawRoll.title = \"(nothing)\";\n                    break;\n                }\n                case 3: {\n                    // one failure\n                    rawRoll.failures++;\n                    rawRoll.title = \"One Failure\";\n                    break;\n                }\n                case 4: {\n                    // one failure\n                    rawRoll.failures++;\n                    rawRoll.title = \"One Failure\";\n                    break;\n                }\n                case 5: {\n                    // one threat\n                    rawRoll.threats++;\n                    rawRoll.title = \"One Threat\";\n                    break;\n                }\n                case 6: {\n                    // one threat\n                    rawRoll.threats++;\n                    rawRoll.title = \"One Threat\";\n                    break;\n                }\n            }\n            rolls.push( rawRoll );\n        }\n\n        // Challenge Dice\n        for( let dieCount = 0; dieCount < challlenge; dieCount++) {\n            let roll = this.rollDie(12);\n            let rawRoll = {\n                type: \"challenge\",\n                title: \"\",\n                numSides: 12,\n                rawRoll: roll,\n                successes: 0,\n                advantages: 0,\n                failures: 0,\n                threats: 0,\n                triumphs: 0,\n                despairs: 0,\n                lightSide: 0,\n                darkSide: 0,\n            }\n            switch( roll ) {\n                case 1: {\n                    // Do nothing, blank side\n                    rawRoll.title = \"(nothing)\";\n                    break;\n                }\n                case 2: {\n                    // one failure\n                    rawRoll.failures++;\n                    rawRoll.title = \"One Failure\";\n                    break;\n                }\n                case 3: {\n                    // one failure\n                    rawRoll.failures++;\n                    rawRoll.title = \"One Failure\";\n                    break;\n                }\n                case 4: {\n                    // two failures\n                    rawRoll.failures++;\n                    rawRoll.failures++;\n                    rawRoll.title = \"Two Failures\";\n                    break;\n                }\n                case 5: {\n                    // two failures\n                    rawRoll.failures++;\n                    rawRoll.failures++;\n                    rawRoll.title = \"Two Failures\";\n                    break;\n                }\n                case 6: {\n                    // one threat\n                    rawRoll.threats++;\n                    rawRoll.title = \"One Threat\";\n                    break;\n                }\n                case 7: {\n                    // one threat\n                    rawRoll.threats++;\n                    rawRoll.title = \"One Threat\";\n                    break;\n                }\n                case 8: {\n                    // one threat, one failure\n                    rawRoll.threats++;\n                    rawRoll.failures++;\n                    rawRoll.title = \"One Threat, One Failure\";\n                    break;\n                }\n                case 9: {\n                    // one threat, one failure\n                    rawRoll.threats++;\n                    rawRoll.failures++;\n                    rawRoll.title = \"One Threat, One Failure\";\n                    break;\n                }\n                case 10: {\n                    // two threats\n                    rawRoll.threats++;\n                    rawRoll.threats++;\n                    rawRoll.title = \"Two Threats\";\n                    break;\n                }\n                case 11: {\n                    // two threats\n                    rawRoll.threats++;\n                    rawRoll.threats++;\n                    rawRoll.title = \"Two Threats\";\n                    break;\n                }\n                case 12: {\n                    // one failure and a despair\n                    rawRoll.failures++;\n                    rawRoll.despairs++;\n                    rawRoll.title = \"One Despair (counts as failure)\";\n                    break;\n                }\n            }\n            rolls.push( rawRoll );\n        }\n\n\n        // Force Dice\n        for( let dieCount = 0; dieCount < force; dieCount++) {\n            let roll = this.rollDie(12);\n            let rawRoll = {\n                type: \"force\",\n                title: \"\",\n                numSides: 12,\n                rawRoll: roll,\n                successes: 0,\n                advantages: 0,\n                failures: 0,\n                threats: 0,\n                triumphs: 0,\n                despairs: 0,\n                lightSide: 0,\n                darkSide: 0,\n            }\n            switch( roll ) {\n                case 1: {\n                    // one dark side\n                    rawRoll.darkSide++;\n                    break;\n                }\n                case 2: {\n                    // one dark side\n                    rawRoll.darkSide++;\n                    rawRoll.title = \"One Dark Side Point\";\n                    break;\n                }\n                case 3: {\n                    // one dark side\n                    rawRoll.darkSide++;\n                    rawRoll.title = \"One Dark Side Point\";\n                    break;\n                }\n                case 4: {\n                    // one dark side\n                    rawRoll.darkSide++;\n                    rawRoll.title = \"One Dark Side Point\";\n                    break;\n                }\n                case 5: {\n                    // one dark side\n                    rawRoll.darkSide++;\n                    rawRoll.title = \"One Dark Side Point\";\n                    break;\n                }\n                case 6: {\n                    // one dark side\n                    rawRoll.darkSide++;\n                    rawRoll.title = \"One Dark Side Point\";\n                    break;\n                }\n                case 7: {\n                    // two dark side\n                    rawRoll.darkSide++;\n                    rawRoll.darkSide++;\n                    rawRoll.title = \"Two Dark Side Points\";\n\n                    break;\n                }\n                case 8: {\n                    // one light side\n                    rawRoll.lightSide++;\n                    rawRoll.title = \"One Light Side Point\";\n                    break;\n                }\n                case 9: {\n                    // one light side\n                    rawRoll.lightSide++;\n                    rawRoll.title = \"One Light Side Point\";\n                    break;\n                }\n                case 10: {\n                    // two light side\n                    rawRoll.lightSide++;\n                    rawRoll.lightSide++;\n                    rawRoll.title = \"Two Light Side Points\";\n                    break;\n                }\n                case 11: {\n                    // two light side\n                    rawRoll.lightSide++;\n                    rawRoll.lightSide++;\n                    rawRoll.title = \"Two Light Side Points\";\n                    break;\n                }\n                case 12: {\n                    // two light side\n                    rawRoll.lightSide++;\n                    rawRoll.lightSide++;\n                    rawRoll.title = \"Two Light Side Points\";\n                    break;\n                }\n            }\n            rolls.push( rawRoll );\n        }\n\n        // Calculate gross values...\n        for( let roll of rolls ) {\n            netSuccesses += roll.successes;\n            netAdvantages += roll.advantages;\n            netFailures += roll.failures;\n            netThreats += roll.threats;\n            netDespairs += roll.despairs;\n            netTriumphs += roll.triumphs;\n\n            netLightSide += roll.lightSide;\n            netDarkSide += roll.darkSide;\n        }\n\n        if( netSuccesses > netFailures ) {\n            grossSuccesses = netSuccesses - netFailures;\n        } else {\n            grossFailures = netFailures - netSuccesses;\n        }\n\n        if( netThreats > netAdvantages ) {\n            grossThreats = netThreats - netAdvantages;\n        } else {\n            grossAdvantages = netAdvantages - netThreats;\n        }\n\n        if( netDespairs > netTriumphs ) {\n            grossDespairs = netDespairs - netTriumphs;\n        } else {\n            grossTriumphs = netTriumphs - netDespairs;\n        }\n\n        // if( netDarkSide > netLightSide ) {\n            grossDarkSide = netDarkSide; // - netLightSide;\n        // } else {\n            grossLightSide = netLightSide; // - netDarkSide;\n        // }\n\n        return {\n            rolls: rolls,\n            netSuccesses: netSuccesses,\n            netAdvantages: netAdvantages,\n            netFailures: netFailures,\n            netThreats: netThreats,\n            netTriumphs: netTriumphs,\n            netDespairs: netDespairs,\n            grossSuccesses: grossSuccesses,\n            grossAdvantages: grossAdvantages,\n            grossFailures: grossFailures,\n            grossThreats: grossThreats,\n            grossTriumphs: grossTriumphs,\n            grossDespairs: grossDespairs,\n\n            grossDarkSide: grossDarkSide,\n            grossLightSide: grossLightSide,\n            netLightSide: netLightSide,\n            netDarkSide: netDarkSide,\n\n            total: 0,\n        }\n    }\n}","import React, { ReactElement } from 'react';\nimport './Initiative.scss';\nimport {IAppGlobals} from '../AppRouter';\nimport UIPage from '../Components/UIPage';\nimport { Button, Modal } from 'react-bootstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTrash, faAngleDoubleLeft, faAngleDoubleRight, faCog, faDice, faRecycle } from '@fortawesome/free-solid-svg-icons';\nimport NumberSelect from '../Components/NumberSelect';\nimport SkillSelect from '../Components/SkillSelect';\nimport Dice from '../Classes/Dice';\n\nexport default class Initiative extends React.Component<IInitiativeProps, IInitiativeState> {\n    numPCs = 4;\n    numNPCs = 2;\n\n    currentInitiative = -1;\n\n    initMap: IInitMapItem[] = [];\n    constructor(props: IInitiativeProps) {\n        super(props);\n\n        const lsNumPCs = localStorage.getItem(\"numPCs\");\n        const lsInitMap = localStorage.getItem(\"initMap\");\n        const lsCurrentInitiative = localStorage.getItem(\"currentInitiative\");\n        const lsHideControls = localStorage.getItem(\"hideControls\");\n\n        let hideControls = false;\n        if( lsHideControls && +lsHideControls > 0 ) {\n          hideControls = true;\n        }\n\n        const lsHideRolls = localStorage.getItem(\"hideRolls\");\n\n        let hideRolls = false;\n        if( lsHideRolls && +lsHideRolls > 0 ) {\n          hideRolls = true;\n        }\n\n        const lsRoundNumber = localStorage.getItem(\"roundNumber\");\n        let roundNumber = 1;\n        if( lsRoundNumber && +lsRoundNumber > 1) {\n          roundNumber = +lsRoundNumber;\n        }\n\n\n        if( lsCurrentInitiative ) {\n          this.currentInitiative = +lsCurrentInitiative;\n\n          if( Number.isNaN(this.currentInitiative) ) {\n            this.currentInitiative = -1;\n          }\n        }\n\n        if( lsNumPCs ) {\n          this.numPCs = +lsNumPCs;\n        }\n\n\n        if( lsInitMap ) {\n          this.initMap = JSON.parse( lsInitMap );\n        } else {\n          // Init PC Map\n          for( let count = 0; count < this.numPCs; count++) {\n            this.initMap.push( {\n              label: \"PC\",\n              successes: 0,\n              advantages: 0,\n              triumphs: 0,\n              npc: false,\n              skillCool: {\n                skillDice: 0,\n                attributeDice: 0,\n              },\n              skillVigilance: {\n                skillDice: 0,\n                attributeDice: 0,\n              },\n            });\n          }\n        }\n\n        for( let item of this.initMap ) {\n          if(!item.skillCool) {\n            item.skillCool = {\n              skillDice: 0,\n              attributeDice: 0,\n            }\n          }\n\n          if(!item.skillVigilance) {\n            item.skillVigilance = {\n              skillDice: 0,\n              attributeDice: 0,\n            }\n          }\n\n          if(!item.skillCool.attributeDice) {\n            item.skillCool.attributeDice = 0\n\n          }\n\n          if(!item.skillVigilance.attributeDice) {\n            item.skillVigilance.attributeDice = 0\n\n          }\n        }\n\n        if( this.initMap.length === 0 ) {\n          hideControls = false;\n          localStorage.setItem(\"hideControls\", \"0\");\n        }\n\n        this.state = {\n          updated: false,\n          editItem: null,\n          editItemIndex: -1,\n          hideControls: hideControls,\n          hideRolls: hideRolls,\n          roundNumber: roundNumber,\n        };\n\n        this.updateInitSuccesses = this.updateInitSuccesses.bind(this);\n        this.updateInitAdvantages = this.updateInitAdvantages.bind(this);\n        this.updateInitTriumphs = this.updateInitTriumphs.bind(this);\n        this.updateNumPCs = this.updateNumPCs.bind(this);\n        this.addItem = this.addItem.bind(this);\n        this.sortInit = this.sortInit.bind(this);\n\n        this.initForward = this.initForward.bind(this);\n        this.initBackward = this.initBackward.bind(this);\n\n        this.removeSlot = this.removeSlot.bind(this);\n\n        this.handleClose = this.handleClose.bind(this);\n        this.editSlot = this.editSlot.bind(this);\n\n        this.updateCoolValue = this.updateCoolValue.bind(this);\n        this.updateVigilanceValue = this.updateVigilanceValue.bind(this);\n\n        this.rollVigilance = this.rollVigilance.bind(this);\n        this.rollCool = this.rollCool.bind(this);\n        this.updateNPC = this.updateNPC.bind(this);\n        this.toggleHideControls = this.toggleHideControls.bind(this);\n        this.toggleHideRolls = this.toggleHideRolls.bind(this);\n\n        this.resetRound = this.resetRound.bind(this);\n        this.selectNextItem = this.selectNextItem.bind(this);\n        this.selectPreviousItem = this.selectPreviousItem.bind(this);\n    }\n\n    selectPreviousItem() {\n      let previousItem = null;\n      let previousItemIndex = this.state.editItemIndex - 1;\n      if( previousItemIndex > -1 && previousItemIndex < this.initMap.length ) {\n        previousItem = this.initMap[previousItemIndex]\n      } else {\n        previousItemIndex = -1;\n      }\n      this.setState({\n        editItem: previousItem,\n        editItemIndex: previousItemIndex,\n      })\n    }\n\n    selectNextItem() {\n      let nextItem = null;\n      let nextItemIndex = this.state.editItemIndex + 1;\n      if( nextItemIndex < this.initMap.length ) {\n        nextItem = this.initMap[nextItemIndex]\n      } else {\n        nextItemIndex = -1;\n      }\n      this.setState({\n        editItem: nextItem,\n        editItemIndex: nextItemIndex,\n      })\n    }\n\n    resetRound() {\n      localStorage.setItem(\"currentInitiative\", \"-1\");\n      this.currentInitiative = -1;\n      this.setState({\n        roundNumber: 1,\n        updated: true,\n      })\n    }\n\n    toggleHideRolls() {\n      let hideRolls = !this.state.hideRolls;\n\n      if( hideRolls ) {\n          localStorage.setItem(\"hideRolls\", \"1\");\n      } else {\n          localStorage.setItem(\"hideRolls\", \"0\");\n      }\n      this.setState({\n        hideRolls: hideRolls,\n      })\n    }\n\n    toggleHideControls() {\n      let hideControls = !this.state.hideControls;\n\n      if( hideControls ) {\n          localStorage.setItem(\"hideControls\", \"1\");\n      } else {\n          localStorage.setItem(\"hideControls\", \"0\");\n      }\n      this.setState({\n        hideControls: hideControls,\n      })\n    }\n\n    updateNPC( event: React.FormEvent<HTMLInputElement> ) {\n      if( this.state.editItem && this.state.editItemIndex < this.initMap.length ) {\n        this.initMap[ this.state.editItemIndex].npc = event.currentTarget.checked;\n        // this.state.editItem.npc = event.currentTarget.checked;\n        if( event.currentTarget.checked ) {\n          this.initMap[ this.state.editItemIndex].label = \"NPC\";\n          // this.state.editItem.label = \"NPC\";\n        } else {\n          this.initMap[ this.state.editItemIndex].label = \"PC\";\n          // this.state.editItem.label = \"PC\";\n        }\n        this.setState({\n          updated: true,\n        })\n        localStorage.setItem(\"initMap\", JSON.stringify( this.initMap) );\n      }\n\n    }\n    rollCool(\n      indexNumber: number,\n    ): void {\n      if( indexNumber < this.initMap.length && this.initMap[indexNumber]) {\n        let diceRoll = new Dice();\n        let dieResults = diceRoll.rollFGDice(\n          this.getattributeDice( this.initMap[indexNumber].skillCool), // ability: number = 0,\n          this.getProcidiencyDice( this.initMap[indexNumber].skillCool),// proficiency: number = 0,\n        );\n\n        this.initMap[indexNumber].triumphs = dieResults.netTriumphs;\n        this.initMap[indexNumber].successes = dieResults.netSuccesses;\n        this.initMap[indexNumber].advantages = dieResults.netAdvantages;\n        this.setState({\n          updated: true,\n        });\n        localStorage.setItem(\"initMap\", JSON.stringify( this.initMap) );\n      }\n\n    }\n\n    rollVigilance(\n      indexNumber: number,\n    ): void {\n      if( indexNumber < this.initMap.length && this.initMap[indexNumber]) {\n        let diceRoll = new Dice();\n        let dieResults = diceRoll.rollFGDice(\n          this.getattributeDice( this.initMap[indexNumber].skillVigilance), // ability: number = 0,\n          this.getProcidiencyDice( this.initMap[indexNumber].skillVigilance),// proficiency: number = 0,\n        );\n\n        this.initMap[indexNumber].triumphs = dieResults.netTriumphs;\n        this.initMap[indexNumber].successes = dieResults.netSuccesses;\n        this.initMap[indexNumber].advantages = dieResults.netAdvantages;\n        this.setState({\n          updated: true,\n        })\n        localStorage.setItem(\"initMap\", JSON.stringify( this.initMap) );\n      }\n    }\n\n    getattributeDice( skill: ISkillValue ): number {\n      let maxValue = 0;\n      let minValue = 0;\n      if( skill.attributeDice > skill.skillDice  ) {\n          maxValue =  skill.attributeDice;\n          minValue =  skill.skillDice;\n      } else {\n          maxValue =  skill.skillDice;\n          minValue =  skill.attributeDice;\n      }\n      return (maxValue - minValue);\n    }\n\n    getProcidiencyDice( skill: ISkillValue ): number {\n      let minValue = 0;\n      if( skill.attributeDice > skill.skillDice  ) {\n          minValue =  skill.skillDice;\n      } else {\n          minValue =  skill.attributeDice;\n      }\n\n      return minValue;\n    }\n\n    updateCoolValue(\n      indexNumber: number,\n      newValue: ISkillValue\n    ): void {\n      if( this.initMap.length > indexNumber ) {\n        this.initMap[indexNumber].skillCool = newValue;\n      }\n\n      localStorage.setItem(\"initMap\", JSON.stringify( this.initMap) );\n\n      this.setState({\n        updated: true,\n      })\n    }\n\n    updateVigilanceValue(\n      indexNumber: number,\n      newValue: ISkillValue\n    ): void {\n      if( this.initMap.length > indexNumber ) {\n        this.initMap[indexNumber].skillVigilance = newValue;\n      }\n\n      localStorage.setItem(\"initMap\", JSON.stringify( this.initMap) );\n\n      this.setState({\n        updated: true,\n      })\n    }\n\n    editSlot( editItem: IInitMapItem, editItemIndex: number ) {\n      this.setState({\n        editItem: editItem,\n        editItemIndex: editItemIndex,\n      })\n    }\n\n    initForward() {\n      let init = this.currentInitiative + 1;\n      let roundNumber = this.state.roundNumber;\n\n      if( init > this.initMap.length - 1 ) {\n        roundNumber++;\n        init = 0;\n      }\n\n      this.currentInitiative = init;\n      localStorage.setItem(\"currentInitiative\", init.toString() );\n      this.setState({\n        updated: true,\n        roundNumber: roundNumber,\n      })\n    }\n\n    initBackward() {\n      let init = this.currentInitiative - 1;\n      let roundNumber = this.state.roundNumber;\n      if( init < -1 ) {\n\n        roundNumber--;\n\n        if( roundNumber < 1 ) {\n          roundNumber = 1;\n          if( init < 0 ) {\n            init = -1;\n          }\n        } else {\n          init = this.initMap.length;\n        }\n\n      }\n\n      this.currentInitiative = init;\n      localStorage.setItem(\"currentInitiative\", init.toString() );\n      this.setState({\n        updated: true,\n        roundNumber: roundNumber,\n      })\n    }\n\n    sortInit() {\n      localStorage.setItem(\"currentInitiative\", \"-1\" );\n      localStorage.setItem(\"currentRound\", \"1\" );\n      this.initMap.sort( (a, b) => {\n        if( a.successes < b.successes ) {\n          return 1;\n        } else if( a.successes > b.successes ) {\n          return -1;\n        } else {\n          if( a.advantages < b.advantages ) {\n            return 1;\n          } else if( a.advantages > b.advantages ) {\n            return -1;\n          } else {\n            if( a.label === \"PC\" && b.label === \"NPC\" ) {\n              return -1;\n            } else if( a.label === \"NPC\" && b.label === \"PC\" ) {\n              return 1;\n            } else {\n              return 0;\n            }\n          }\n        }\n      });\n\n      localStorage.setItem(\"initMap\", JSON.stringify( this.initMap) );\n\n      this.setState({\n        updated: true,\n      })\n    }\n\n\n    addItem() {\n      this.initMap.push( {\n        label: \"PC\",\n        successes: 0,\n        advantages: 0,\n        triumphs: 0,\n        npc: false,\n        skillCool: {\n          skillDice: 0,\n          attributeDice: 0,\n        },\n        skillVigilance: {\n          skillDice: 0,\n          attributeDice: 0,\n        },\n      });\n\n      localStorage.setItem(\"initMap\", JSON.stringify( this.initMap) );\n\n\n      this.setState({\n        updated: true,\n        editItem: this.initMap[ this.initMap.length - 1],\n        editItemIndex: this.initMap.length - 1,\n      })\n    }\n\n    removeSlot( indexNumber: number ) {\n\n      if( this.initMap.length > indexNumber) {\n        this.initMap.splice( indexNumber, 1);\n      }\n\n      let hideControls = this.state.hideControls;\n      if( this.initMap.length === 0 ) {\n        hideControls = false;\n        localStorage.setItem(\"hideControls\", \"0\" );\n      }\n\n\n      localStorage.setItem(\"initMap\", JSON.stringify( this.initMap) );\n\n      this.setState({\n        updated: true,\n        hideControls: hideControls,\n      })\n    }\n\n    updateInitAdvantages(\n      indexNumber: number,\n      newValue: number\n    ): void {\n      if( this.initMap.length > indexNumber ) {\n        this.initMap[indexNumber].advantages = newValue;\n      }\n\n      localStorage.setItem(\"initMap\", JSON.stringify( this.initMap) );\n\n      this.setState({\n        updated: true,\n      })\n    }\n\n    updateInitTriumphs(\n      indexNumber: number,\n      newValue: number\n    ): void {\n      if( this.initMap.length > indexNumber ) {\n        this.initMap[indexNumber].triumphs = newValue;\n      }\n\n      localStorage.setItem(\"initMap\", JSON.stringify( this.initMap) );\n\n      this.setState({\n        updated: true,\n      })\n    }\n\n    updateInitSuccesses(\n      indexNumber: number,\n      newValue: number\n    ): void {\n      if( this.initMap.length > indexNumber ) {\n        this.initMap[indexNumber].successes = newValue;\n      }\n\n      localStorage.setItem(\"initMap\", JSON.stringify( this.initMap) );\n\n      this.setState({\n        updated: true,\n      })\n    }\n\n    updateNumPCs( event: React.FormEvent<HTMLSelectElement>) {\n\n      this.numPCs = +event.currentTarget.value;\n      localStorage.setItem(\"numPCs\", event.currentTarget.value);\n\n      this.setState({\n        updated: true,\n      })\n    }\n\n    handleClose() {\n      this.setState({\n        editItem: null,\n      })\n    }\n\n    componentDidMount ()  {\n      this.props.appGlobals.makeDocumentTitle(\"Initiative\");\n    }\n\n    render() {\n      let success = \"s\";\n      let advantage = \"a\";\n      let triumph = \"t\";\n\n\n      if( this.props.appGlobals.settings.dieIconClass === \"starwars\") {\n          success = \"s\";\n          advantage = \"a\";\n          triumph = \"x\";\n      }\n\n      return (\n        <UIPage current=\"initiative\" appGlobals={this.props.appGlobals}>\n            {/* this.initMap.length: {this.initMap.length}<br />\n            this.currentInitiative: {this.currentInitiative}<br /> */}\n            <Modal onHide={this.handleClose} show={this.state.editItem != null}>\n              <Modal.Header closeButton >\n                {this.state.editItem && this.state.editItem.npc ? (\n                  <>NPC Edit</>\n                ) : (\n                  <>PC Edit</>\n                )}\n              </Modal.Header>\n              <Modal.Body>\n              {this.state.editItem ? (\n                <div className=\"form\">\n                  <label>\n                    NPC:&nbsp;\n                    <input\n                      type=\"checkbox\"\n                      checked={this.state.editItem.npc}\n                      onChange={this.updateNPC}\n                    />\n                  </label><br />\n                  <label>\n                    Successes:&nbsp;\n                    <NumberSelect\n                      value={this.state.editItem.successes}\n                      max={8}\n                      index={this.state.editItemIndex}\n                      onChange={this.updateInitSuccesses}\n                    />\n                  </label><br />\n                  <label>\n                    Advantages:&nbsp;\n                    <NumberSelect\n                      value={this.state.editItem.advantages}\n                      max={8}\n                      index={this.state.editItemIndex}\n                      onChange={this.updateInitAdvantages}\n                    />\n                  </label><br />\n                  <label>\n                    Triumphs:&nbsp;\n                    <NumberSelect\n                      value={this.state.editItem.triumphs}\n                      max={8}\n                      index={this.state.editItemIndex}\n                      onChange={this.updateInitTriumphs}\n                    />\n                  </label><br />\n                  <hr />\n                  <SkillSelect\n                      value={this.state.editItem.skillCool}\n                      index={this.state.editItemIndex}\n                      onChange={this.updateCoolValue}\n                      label=\"Cool\"\n                  />\n                  <SkillSelect\n                    value={this.state.editItem.skillVigilance}\n                    index={this.state.editItemIndex}\n                    onChange={this.updateVigilanceValue}\n                    label=\"Vigilance\"\n                  />\n                </div>\n              ) : (\n                <></>\n              )}\n              </Modal.Body>\n              <Modal.Footer className=\"text-center\">\n\n                <Button\n                  variant=\"primary\"\n                  onClick={this.selectPreviousItem}\n                  tabIndex={1}\n                  disabled={this.state.editItemIndex < 1}\n                  title=\"Select the previous Initiative Slot\"\n                >\n                  Previous\n                </Button>\n\n                <Button\n                  variant=\"primary\"\n                  onClick={this.handleClose}\n                  title=\"Close this dialog\"\n                >\n                  Close\n                </Button>\n\n                #{this.state.editItemIndex + 1 } / {this.initMap.length}\n\n                <Button\n                  variant=\"primary\"\n                  onClick={this.addItem}\n                  tabIndex={1}\n                  title=\"Add an Initiative Slot\"\n                >\n                  Add New\n                </Button>\n\n                <Button\n                  variant=\"primary\"\n                  onClick={this.selectNextItem}\n                  tabIndex={1}\n                  title=\"Select the next Initiative Slot\"\n                  disabled={this.state.editItemIndex >= this.initMap.length - 1}\n                >\n                  Next\n                </Button>\n\n\n\n              </Modal.Footer>\n\n            </Modal>\n            <div className=\"text-center control-bar\">\n              <div className=\"text-left\">\n                <Button\n                  variant=\"primary\"\n                  onClick={this.initBackward}\n                  tabIndex={0}\n                  title=\"Move to the last initiative\"\n                >\n                  <FontAwesomeIcon icon={faAngleDoubleLeft} />\n                </Button>\n              </div>\n\n{!this.state.hideControls ? (\n  <>\n              <div className=\"\">\n                <Button\n                  variant=\"primary\"\n                  onClick={this.addItem}\n                  tabIndex={1}\n                  title=\"Add an Initiative Slot\"\n                >\n                  Add\n                </Button>\n              </div>\n\n              <div className=\"\">\n                <Button\n                  variant=\"primary\"\n                  onClick={this.sortInit}\n                  tabIndex={2}\n                  title=\"Sort\"\n                >\n                  Sort\n                </Button>\n              </div>\n  </>\n) : (\n  <></>\n)}\n              <div className=\"grow text-right\">\n                <Button\n                  variant=\"primary\"\n                  onClick={this.initForward}\n                  tabIndex={4}\n                  title=\"Move to the next initiative\"\n                >\n                  Next Turn\n                  &nbsp;<FontAwesomeIcon icon={faAngleDoubleRight} />&nbsp;\n                </Button>\n              </div>\n            </div>\n\n        <div className=\"row\">\n          <div className=\"col-md-6 round-number\">\n            <strong>Round Number:</strong> {this.state.roundNumber}\n            <Button\n              variant=\"primary\"\n              className=\"btn-xs\"\n              onClick={this.resetRound}\n            >\n              <FontAwesomeIcon icon={faRecycle} />\n            </Button>\n          </div>\n          <div className=\"col-md-6 control-visibility\">\n              <label>\n                <input\n                  type=\"checkbox\"\n                  checked={this.state.hideControls}\n                  onChange={this.toggleHideControls}\n                />&nbsp;Hide Edit Controls\n              </label>\n              &nbsp;|&nbsp;\n              <label>\n                <input\n                  type=\"checkbox\"\n                  checked={this.state.hideRolls}\n                  onChange={this.toggleHideRolls}\n                />&nbsp;Hide Rolls\n              </label>\n          </div>\n        </div>\n\n\n        {this.initMap.length === 0 ?\n        (\n          <div className=\"text-center\">\n            <br />\n              You have no initiative slots. Click on the&nbsp;\n                <Button\n                  variant=\"primary\"\n                  onClick={this.addItem}\n                  tabIndex={1}\n                  className=\"btn-xs\"\n                  title=\"Add an Initiative Slot\"\n                >\n                  Add\n                </Button>\n              &nbsp;button above to add a slot.\n          </div>\n        ): (\n           <div className=\"init-labels\">\n          {this.initMap.map( (mapItem, mapIndex ) => {\n            let dieResults: ReactElement[] = [];\n\n            for( let successCount = 0; successCount < mapItem.successes; successCount++ ) {\n              dieResults.push(\n                <span title=\"Success\" key={\"s\" + successCount} className={this.props.appGlobals.settings.dieIconClass + \" icon-single\"}>{success}</span>\n              )\n            }\n\n            for( let successCount = 0; successCount < mapItem.advantages; successCount++ ) {\n              dieResults.push(\n                <span title=\"Advantage\" key={\"a\" + successCount} className={this.props.appGlobals.settings.dieIconClass + \" icon-single\"}>{advantage}</span>\n              )\n            }\n\n            for( let successCount = 0; successCount < mapItem.triumphs; successCount++ ) {\n              dieResults.push(\n                <span title=\"Triumph\" key={\"t\" + successCount} className={this.props.appGlobals.settings.dieIconClass + \" icon-single\"}>{triumph}</span>\n              )\n            }\n\n            let skillCoolDieView: ReactElement[] = [];\n            let maxValue = 0;\n            let minValue = 0;\n            if( mapItem.skillCool.attributeDice > mapItem.skillCool.skillDice  ) {\n                maxValue =  mapItem.skillCool.attributeDice;\n                minValue =  mapItem.skillCool.skillDice;\n            } else {\n                maxValue =  mapItem.skillCool.skillDice;\n                minValue =  mapItem.skillCool.attributeDice;\n            }\n\n            for( let lCount = 0; lCount < maxValue; lCount++ ) {\n                if( lCount < minValue ) {\n                  skillCoolDieView.push(\n                        <span key={lCount} className=\"dice die-proficiency\">c</span>\n                    )\n                } else {\n                  skillCoolDieView.push(\n                        <span key={lCount} className=\"dice die-ability\">c</span>\n                    )\n                }\n            }\n\n            let skillVigilanceDieView: ReactElement[] = [];\n            maxValue = 0;\n            minValue = 0;\n            if( mapItem.skillVigilance.attributeDice > mapItem.skillVigilance.skillDice  ) {\n                maxValue =  mapItem.skillVigilance.attributeDice;\n                minValue =  mapItem.skillVigilance.skillDice;\n            } else {\n                maxValue =  mapItem.skillVigilance.skillDice;\n                minValue =  mapItem.skillVigilance.attributeDice;\n            }\n\n            for( let lCount = 0; lCount < maxValue; lCount++ ) {\n                if( lCount < minValue ) {\n                  skillVigilanceDieView.push(\n                        <span key={lCount} className=\"dice die-proficiency\">c</span>\n                    )\n                } else {\n                  skillVigilanceDieView.push(\n                        <span key={lCount} className=\"dice die-ability\">c</span>\n                    )\n                }\n            }\n\n            return (\n              <div className={mapIndex === this.currentInitiative ? \"init-map-item current\" : \"init-map-item\"} key={mapIndex}>\n                <div className={mapItem.npc ? \"label npc\" : \"label pc\"}>\n                  <div className=\"name-results\">\n                    {mapItem.label}<br />\n{!this.state.hideRolls || !this.state.hideControls ? (\n<>\n  &nbsp;{dieResults}\n</>\n) : (\n  <>\n  </>\n)}\n\n                  </div>\n                    {\n                      !this.state.hideControls && (\n                      mapItem.skillCool.attributeDice > 0\n                      || mapItem.skillCool.skillDice > 0\n                      || mapItem.skillVigilance.attributeDice > 0\n                      || mapItem.skillVigilance.skillDice > 0\n                      )\n                    ? (\n                      <>\n                      <div className=\"skill-values\">\n                        <table>\n                          <tbody>\n                            <tr>\n                              <td className=\"text-right\">\n\n                                Cool:<br />\n                                <Button\n                                  variant=\"primary\"\n                                  onClick={() => this.rollCool( mapIndex )}\n                                  className=\"btn-xs\"\n                                >\n                                  <FontAwesomeIcon icon={faDice} />\n                                </Button>&nbsp;\n                              </td>\n                              <td className=\"text-left\">{skillCoolDieView}</td>\n                            </tr>\n                            <tr>\n                              <td className=\"text-right\">\n\n                                Vigilance:<br />\n                                <Button\n                                  variant=\"primary\"\n                                  onClick={() => this.rollVigilance( mapIndex )}\n                                  className=\"btn-xs\"\n                                >\n                                  <FontAwesomeIcon icon={faDice} />\n                                </Button>&nbsp;\n                              </td>\n                              <td className=\"text-right\">{skillVigilanceDieView}</td>\n                            </tr>\n                          </tbody>\n                        </table>\n                      </div>\n                      </>\n                    ) : (\n                      <></>\n                    )\n                  }\n\n\n                </div>\n\n                <div className=\"controls\">\n                {!this.state.hideControls ? (\n                  <>\n                <Button\n                    variant=\"primary\"\n                    // tabIndex={mapIndex + this.initMap.length + 5}\n                    onClick={() => this.editSlot(mapItem, mapIndex)}\n                    title=\"Edit this initiative slot\"\n                  >\n                    <FontAwesomeIcon icon={faCog} />\n                </Button>\n                  </>\n                ) : (\n                  <></>\n                )}\n\n                  <Button\n                    variant=\"primary\"\n                    tabIndex={mapIndex + this.initMap.length + 5}\n                    onClick={() => this.removeSlot(mapIndex)}\n                    title=\"Remove this initiative slot\"\n                  >\n                    <FontAwesomeIcon icon={faTrash} />\n                  </Button>\n                </div>\n              </div>\n            )\n          })}\n          </div>\n          )}\n        </UIPage>\n      );\n    }\n}\n\n\ninterface IInitMapItem {\n  label: string;\n  successes: number;\n  advantages: number;\n  triumphs: number;\n  npc: boolean;\n  skillVigilance: ISkillValue;\n  skillCool: ISkillValue;\n}\n\nexport interface ISkillValue {\n  attributeDice: number;\n  skillDice: number;\n}\n\ninterface IInitiativeProps {\n  appGlobals: IAppGlobals;\n}\n\ninterface IInitiativeState {\n    updated: boolean;\n    editItem: IInitMapItem | null;\n    editItemIndex: number;\n    hideControls: boolean;\n    hideRolls: boolean;\n    roundNumber: number;\n}","import App from \"../AppRouter\";\n\nexport interface IAlert {\n    level: string;\n    title: string;\n    message: string;\n    messageclass: string;\n    externalURL: string;\n    link: string;\n    dismissable: boolean;\n    extraclass: string;\n    autoDismissSeconds: number;\n    dismissFunction: Function | null,\n}\n\nexport default class Alerts {\n\n    _app: App;\n\n    activeAlerts: IAlert[] = []\n\n    cancelTimeout: number = -1;\n\n    constructor( mainApp: App ) {\n        this._app = mainApp;\n        this.activeAlerts = [];\n    }\n\n    dismissAlert( alertIndex: number ): boolean {\n        if( this.cancelTimeout > -1 ) {\n            window.clearTimeout( this.cancelTimeout );\n        }\n        let alertID = document.getElementById(\"alert-index-\" + alertIndex);\n        if( alertID ) {\n            alertID.style.height = \"0px\";\n            alertID.style.paddingTop = \"0px\";\n            alertID.style.paddingBottom = \"0px\";\n            alertID.style.borderTop = \"0px\";\n            alertID.style.borderBottom = \"0px\";\n        }\n\n        if( this.activeAlerts.length > alertIndex ) {\n            if( this.activeAlerts[alertIndex].dismissable) {\n\n                window.setTimeout(\n                    () => {\n                        let dismissFunction: Function | null = null;\n                        if(  this.activeAlerts[alertIndex].dismissFunction ) {\n                            dismissFunction = this.activeAlerts[alertIndex].dismissFunction;\n                        }\n\n                        this.activeAlerts.splice( alertIndex, 1);\n\n                        if( dismissFunction ) {\n                            dismissFunction();\n                        }\n\n                        this._app.refreshGlobalState();\n                    },\n                    100\n                );\n\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    addAlert(\n        level: string,\n        title: string,\n        message: string,\n        messageclass: string = \"\",\n        dismissable: boolean = true,\n        dismissFunction: Function | null,\n        autoDismissSeconds: number = 0,\n        externalURL: string = \"\",\n        link: string = \"\",\n        extraclass: string = \"\",\n    ) {\n        this.activeAlerts.push(\n            {\n                level: level,\n                title: title,\n                message: message,\n                messageclass: messageclass,\n                externalURL: externalURL,\n                link: link,\n                dismissable: dismissable,\n                extraclass: extraclass,\n                autoDismissSeconds: autoDismissSeconds,\n                dismissFunction: dismissFunction,\n            }\n        );\n\n        let dismissIndex = this.activeAlerts.length - 1;\n        this._app.refreshGlobalState();\n        if( autoDismissSeconds > 0 ) {\n            window.setTimeout(\n                () => {\n                    let alertID = document.getElementById(\"alert-index-\" + dismissIndex);\n                    if( alertID ) {\n                        alertID.className = alertID.className + 'fade-away';\n                    }\n                },\n                (autoDismissSeconds * 1000) - 250\n\n            );\n            window.setTimeout(\n                () => {\n                    let alertID = document.getElementById(\"alert-bar-index-\" + dismissIndex);\n                    if( alertID ) {\n                        alertID.style.width = \"0px\";\n                    }\n                },\n                100\n\n            );\n            this.cancelTimeout = window.setTimeout(\n                () => {\n                    this.activeAlerts.splice(dismissIndex, 1);\n                    if( dismissFunction ) {\n                        dismissFunction();\n                    }\n\n                    this._app.refreshGlobalState();\n                },\n                autoDismissSeconds * 1000\n            );\n        }\n    }\n}\n","export const CONFIGSiteTitle = \"FFG Star Wars/Genesys Helpers\";","import React from 'react';\nimport './About.scss';\nimport {IAppGlobals} from '../AppRouter';\nimport UIPage from '../Components/UIPage';\n\nexport default class About extends React.Component<IAboutProps, IAboutState> {\n    constructor(props: IAboutProps) {\n        super(props);\n        this.state = {\n            updated: false,\n        }\n    }\n\n    componentDidMount ()  {\n      this.props.appGlobals.makeDocumentTitle(\"About\");\n    }\n\n    render() {\n      return (\n        <UIPage current=\"about\" appGlobals={this.props.appGlobals}>\n\n          <p>Genesys and its logo, and Genesys Foundry and its logo, are trademarks of Fantasy Flight Games in the U.S.A. and other countries. All Fantasy Flight Games characters and character names, and the distinctive likenesses thereof, are trademarks of Fantasy Flight Games. <a href=\"http://www.FantasyFlightGames.com\">www.FantasyFlightGames.com</a>.</p>\n\n          <p>All other original material in this work is copyright 2019 by Jeffrey Gordon and published under the GPL. </p>\n\n          <p>Star Wars and its logo are owned by Lucasfilm/Disney.</p>\n\n          <p>Die icons are owned by Fantasy Flight Games and/or Lucasfilm/Disney.</p>\n\n          <p>Some images and icons are from\n\n            &nbsp;<a href=\"https://www.dropbox.com/sh/raqr7usuzwizglm/AACsYe6LVU_-f372tRG6vxtya?dl=0\">DrainSmith's Dispensary of Genesys</a>\n          </p>\n\n          <hr />\n\n          <p className=\"text-center\">This project is licensed under the GPL and you can contribute to the source at <a href=\"https://github.com/jdgwf/ffg-sw-genesys-helpers\">its GitHub repository.</a></p>\n\n        </UIPage>\n      );\n    }\n}\n\ninterface IAboutProps {\n  appGlobals: IAppGlobals;\n}\n\ninterface IAboutState {\n    updated: boolean;\n\n}","import React from 'react';\nimport {IAppGlobals} from '../AppRouter';\nimport UIPage from '../Components/UIPage';\n\nexport default class Settings extends React.Component<ISettingsProps, ISettingsState> {\n    constructor(props: ISettingsProps) {\n        super(props);\n        this.state = {\n            updated: false,\n        }\n\n        this.setUITheme = this.setUITheme.bind(this);\n        this.setDieIconClass = this.setDieIconClass.bind(this);\n    }\n\n    setUITheme( event: React.FormEvent<HTMLSelectElement>) {\n      let settings = this.props.appGlobals.settings;\n      settings.uiTheme = event.currentTarget.value;\n      this.props.appGlobals.saveSettings( settings );\n    }\n\n    setDieIconClass( event: React.FormEvent<HTMLSelectElement>) {\n      let settings = this.props.appGlobals.settings;\n      settings.dieIconClass = event.currentTarget.value;\n      localStorage.setItem(\"forceDice\", \"0\");\n      this.props.appGlobals.saveSettings( settings );\n    }\n\n    componentDidMount ()  {\n      this.props.appGlobals.makeDocumentTitle(\"Settings\");\n    }\n\n    render() {\n      return (\n        <UIPage current=\"settings\" appGlobals={this.props.appGlobals}>\n            <div className=\"row\">\n              <div className=\"col-md-6\">\n                <fieldset className=\"fieldset\">\n                  <legend>User Interface</legend>\n                  {/* <label>\n                    <input\n                      type=\"checkbox\"\n                      checked={this.props.appGlobals.settings.uiDesaturated}\n                      onChange={this.toggleDesaturated}\n                    />&nbsp;Desaturated UI\n                  </label> */}\n                  <select\n                      value={this.props.appGlobals.settings.uiTheme}\n                      onChange={this.setUITheme}\n                  >\n                    <option value=\"\">Default</option>\n                    <option value=\"desaturated\">Desaturated</option>\n                    <option value=\"retro\">Retro</option>\n                  </select>\n                </fieldset>\n\n                <fieldset className=\"fieldset\">\n                  <legend>Die Icons</legend>\n                  {/* <label>\n                    <input\n                      type=\"checkbox\"\n                      checked={this.props.appGlobals.settings.uiDesaturated}\n                      onChange={this.toggleDesaturated}\n                    />&nbsp;Desaturated UI\n                  </label> */}\n                  <select\n                      value={this.props.appGlobals.settings.dieIconClass}\n                      onChange={this.setDieIconClass}\n                  >\n                    <option value=\"\">Genesys</option>\n                    <option value=\"starwars\">Star Wars</option>\n                  </select>\n                </fieldset>\n              </div>\n              {/* <div className=\"col-md-6\">\n                <fieldset className=\"fieldset\">\n                  <legend>Data Syncing </legend>\n                    (TODO: sync settings/logins)\n                  </fieldset>\n              </div> */}\n            </div>\n\n        </UIPage>\n      );\n    }\n}\n\ninterface ISettingsProps {\n  appGlobals: IAppGlobals;\n}\n\ninterface ISettingsState {\n    updated: boolean;\n\n}","import React from 'react';\n// import './Temp.scss';\nimport {IAppGlobals} from '../AppRouter';\nimport UIPage from '../Components/UIPage';\n\nexport default class Temp extends React.Component<ITempProps, ITempState> {\n    constructor(props: ITempProps) {\n        super(props);\n        this.state = {\n            updated: false,\n        }\n    }\n\n    componentDidMount ()  {\n      this.props.appGlobals.makeDocumentTitle(\"Temp\");\n    }\n\n    render() {\n\n      return (\n        <UIPage current=\"Temp\" appGlobals={this.props.appGlobals}>\n\n          <p className=\"text-box\">\n            <span className='symbols'>a</span> = Advantage<br />\n            <span className='symbols'>h</span> = Threat<br />\n            <span className='symbols'>f</span> = Failure<br />\n            <span className='symbols'>s</span> = Success<br />\n            <span className='symbols'>t</span> = Triumph<br />\n            <span className='symbols'>d</span> = Despair<br />\n            <span className='die-setback'>b</span> = Setback Dice<br />\n            <span className='die-boost'>b</span> = Boost Dice<br />\n            <span className='die-difficulty'>d</span> = Difficulty Dice<br />\n            <span className='die-ability'>d</span> = Ability Dice<br />\n            <span className='die-challenge'>c</span> = Challenge Dice<br />\n            <span className='die-proficiency'>c</span> = Proficiency Dice <br />\n          </p>\n          <p>Star Wars<br />\n            <span className='dice'>s</span> = Success<br />\n            <span className='dice'>a</span> = Advantage<br />\n            <span className='dice'>x</span> = Triumph<br />\n            <br />\n            <span className='dice'>f</span> = Failure<br />\n            <span className='dice'>t</span> = Threat<br />\n            <span className='dice'>y</span> = Despair<br />\n\n            <span className='dice'>z</span> = Dark Side<br />\n            <span className='dice'>Z</span> = Light Side<br />\n          </p>\n        </UIPage>\n      );\n    }\n}\n\ninterface ITempProps {\n  appGlobals: IAppGlobals;\n}\n\ninterface ITempState {\n    updated: boolean;\n\n}","import React from 'react';\nimport { IDieResult } from '../Classes/Dice';\nimport { IAppGlobals } from '../AppRouter';\nimport './Die.scss';\n\nexport default class Die extends React.Component<IDieProps, {}> {\n\n    className: string = \"\";\n\n    constructor(props: IDieProps) {\n        super(props);\n        if( this.props.className ) {\n            this.className = this.props.className;\n        }\n    }\n\n    render() {\n        let success = \"s\";\n        let advantage = \"a\";\n        let triumph = \"t\";\n\n        let failure = \"f\";\n        let threat= \"h\";\n        let despair = \"d\";\n\n        let darkSide = \"\";\n        let lightSide = \"\";\n\n        if( this.props.appGlobals.settings.dieIconClass === \"starwars\") {\n            success = \"s\";\n            advantage = \"a\";\n            triumph = \"x\";\n\n            failure = \"f\";\n            threat= \"t\";\n            despair = \"y\";\n\n            darkSide = \"z\";\n            lightSide = \"Z\";\n        }\n\n        return (\n            <>\n            <div\n                className={\"die die-\" + this.props.dieResult.type + \" \" + this.className}\n                title={this.props.dieResult.title + \" (raw #\" + this.props.dieResult.rawRoll + \")\" }\n            >\n\n                <div className=\"die-bg\">\n                    {this.props.dieResult.type === \"setback\" ? (\n                        <span className=\"setback\">b</span>\n                    ) : (\n                        <></>\n                    )}\n                    {this.props.dieResult.type === \"boost\" ? (\n                        <span className=\"boost\">b</span>\n                    ) : (\n                        <></>\n                    )}\n                    {this.props.dieResult.type === \"difficulty\" ? (\n                        <span className=\"difficulty\">d</span>\n                    ) : (\n                        <></>\n                    )}\n                    {this.props.dieResult.type === \"ability\" ? (\n                        <span className=\"ability\">d</span>\n                    ) : (\n                        <></>\n                    )}\n                    {this.props.dieResult.type === \"challenge\" ? (\n                        <span className=\"challenge\">c</span>\n                    ) : (\n                        <></>\n                    )}\n                    {this.props.dieResult.type === \"proficiency\" ? (\n                        <span className=\"proficiency\">c</span>\n                    ) : (\n                        <></>\n                    )}\n                    {this.props.dieResult.type === \"force\" ? (\n                        <span className=\"force\">c</span>\n                    ) : (\n                        <></>\n                    )}\n                </div>\n                <div className={\"die-face \" + this.props.appGlobals.settings.dieIconClass }>\n                    {this.props.dieResult.triumphs === 1 ?\n                    (\n                        <span className=\"icon-single\">{triumph}</span>\n                    ) : (\n                        <>\n                            {this.props.dieResult.despairs === 1 ?\n                            (\n                              <span className=\"icon-single\">{despair}</span>\n                            ) : (\n                                <>\n                                    {this.props.dieResult.successes === 1 ? (\n                                        <>\n                                        {this.props.dieResult.advantages === 1 ? (\n                                            <>\n                                                <span className=\"icon-1\">{success}</span>\n                                                <span className=\"icon-2\">{advantage}</span>\n                                            </>\n                                        ) : (\n                                            <span className=\"icon-single\">{success}</span>\n                                        )}\n                                        </>\n                                    ) : (\n                                        <></>\n                                    )}\n                                    {this.props.dieResult.successes === 2 ? (\n                                        <>\n                                            <span className=\"icon-1\">{success}</span>\n                                            <span className=\"icon-2\">{success}</span>\n                                        </>\n                                    ) : (\n                                        <></>\n                                    )}\n\n                                    {this.props.dieResult.advantages === 1 ? (\n                                        <>\n                                        {this.props.dieResult.successes === 1 ? (\n                                            <>\n                                                <span className=\"icon-1\">{success}</span>\n                                                <span className=\"icon-2\">{advantage}</span>\n                                            </>\n                                        ) : (\n                                            <span className=\"icon-single\">{advantage}</span>\n                                        )}\n                                        </>\n                                    ) : (\n                                        <></>\n                                    )}\n                                    {this.props.dieResult.advantages === 2 ? (\n                                        <>\n                                            <span className=\"icon-1\">{advantage}</span>\n                                            <span className=\"icon-2\">{advantage}</span>\n                                        </>\n                                    ) : (\n                                        <></>\n                                    )}\n\n                                    {this.props.dieResult.failures === 1 ? (\n                                        <>\n                                        {this.props.dieResult.threats === 1 ? (\n                                            <>\n                                                <span className=\"icon-1\">{failure}</span>\n                                                <span className=\"icon-2\">{threat}</span>\n                                            </>\n                                        ) : (\n                                            <span className=\"icon-single\">{failure}</span>\n                                        )}\n                                        </>\n                                    ) : (\n                                        <></>\n                                    )}\n                                    {this.props.dieResult.failures === 2 ? (\n                                        <>\n                                            <span className=\"icon-1\">{failure}</span>\n                                            <span className=\"icon-2\">{failure}</span>\n                                        </>\n                                    ) : (\n                                        <></>\n                                    )}\n\n                                    {this.props.dieResult.threats === 1 ? (\n                                        <>\n                                        {this.props.dieResult.failures === 1 ? (\n                                            <>\n                                                <span className=\"icon-1\">{failure}</span>\n                                                <span className=\"icon-2\">{threat}</span>\n                                            </>\n                                        ) : (\n                                            <span className=\"icon-single\">{threat}</span>\n                                        )}\n                                        </>\n                                    ) : (\n                                        <></>\n                                    )}\n                                    {this.props.dieResult.threats === 2 ? (\n                                        <>\n                                            <span className=\"icon-1\">{threat}</span>\n                                            <span className=\"icon-2\">{threat}</span>\n                                        </>\n                                    ) : (\n                                        <></>\n                                    )}\n\n                                    {this.props.dieResult.darkSide === 1 ? (\n                                        <>\n                                            <span className=\"icon-single\">{darkSide}</span>\n                                        </>\n                                    ) : (\n                                        <></>\n                                    )}\n                                    {this.props.dieResult.darkSide === 2 ? (\n                                        <>\n                                            <span className=\"icon-1\">{darkSide}</span>\n                                            <span className=\"icon-2\">{darkSide}</span>\n                                        </>\n                                    ) : (\n                                        <></>\n                                    )}\n                                    {this.props.dieResult.lightSide === 1 ? (\n                                        <>\n                                            <span className=\"icon-single\">{lightSide}</span>\n                                        </>\n                                    ) : (\n                                        <></>\n                                    )}\n                                    {this.props.dieResult.lightSide === 2 ? (\n                                        <>\n                                            <span className=\"icon-1\">{lightSide}</span>\n                                            <span className=\"icon-2\">{lightSide}</span>\n                                        </>\n                                    ) : (\n                                        <></>\n                                    )}\n                                </>\n                            )}\n                        </>\n                    )}\n\n                </div>\n\n                <div className=\"raw-roll\">{\"#\" + this.props.dieResult.rawRoll}</div>\n            </div>\n            </>\n        )\n    }\n}\n\n\ninterface IDieProps {\n    appGlobals: IAppGlobals;\n    dieResult: IDieResult;\n    className?: string;\n}\n\n","import React from 'react';\nimport './Dice.scss';\nimport {IAppGlobals} from '../AppRouter';\nimport UIPage from '../Components/UIPage';\nimport Dice, { IDiceResults } from '../Classes/Dice';\nimport Die from '../Components/Die';\nimport { Button } from 'react-bootstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPlus, faMinus } from '@fortawesome/free-solid-svg-icons';\n\nexport default class DicePage extends React.Component<IDiceProps, IDiceState> {\n    dieRolls: IDiceResults | null = null;\n    diceObj = new Dice();\n    constructor(props: IDiceProps) {\n        super(props);\n\n        let abilityDice = 3;\n        let proficiencyDice = 1;\n        let boostsDice = 0;\n        let difficultyDice = 2;\n        let challengeDice = 0;\n        let setbackDice = 0;\n        let forceDice = 0;\n\n        let abilityDiceLS = localStorage.getItem(\"abilityDice\");\n        if( abilityDiceLS ) {\n          abilityDice = +abilityDiceLS;\n        }\n\n        let proficiencyDiceLS = localStorage.getItem(\"proficiencyDice\");\n        if( proficiencyDiceLS ) {\n          proficiencyDice = +proficiencyDiceLS;\n        }\n\n        let boostsDiceLS = localStorage.getItem(\"boostsDice\");\n        if( boostsDiceLS ) {\n          boostsDice = +boostsDiceLS;\n        }\n\n        let difficultyDiceLS = localStorage.getItem(\"difficultyDice\");\n        if( difficultyDiceLS ) {\n          difficultyDice = +difficultyDiceLS;\n        }\n\n        let challengeDiceLS = localStorage.getItem(\"challengeDice\");\n        if( challengeDiceLS ) {\n          challengeDice = +challengeDiceLS;\n        }\n\n        let setbackDiceLS = localStorage.getItem(\"setbackDice\");\n        if( setbackDiceLS ) {\n          setbackDice = +setbackDiceLS;\n        }\n\n        let forceDiceLS = localStorage.getItem(\"forceDice\");\n        if( forceDiceLS ) {\n          forceDice = +forceDiceLS;\n        }\n\n        this.state = {\n            updated: false,\n\n            abilityDice: abilityDice,\n            proficiencyDice: proficiencyDice,\n            boostsDice: boostsDice,\n            difficultyDice: difficultyDice,\n            challengeDice: challengeDice,\n            setbackDice: setbackDice,\n            forceDice: forceDice,\n        }\n\n        this.rollDice = this.rollDice.bind(this);\n\n        this.rollDice();\n    }\n\n    componentDidMount ()  {\n      this.props.appGlobals.makeDocumentTitle(\"Dice\");\n    }\n\n    rollDice() {\n      this.dieRolls = this.diceObj.rollFGDice(\n        this.state.abilityDice, // ability\n        this.state.proficiencyDice, // proficiency\n        this.state.boostsDice, // boosts\n\n        this.state.difficultyDice, // difficulty\n        this.state.challengeDice, // challenge\n        this.state.setbackDice, // setback\n\n        this.state.forceDice, // force\n      );\n      this.setState({\n        updated: true,\n      })\n    }\n\n    incrementDie(dieType: string, incrementCount: number = 1) {\n      switch( dieType.toLowerCase().trim() ) {\n        case \"ability\": {\n          let newValue = this.state.abilityDice + incrementCount;\n          if( newValue < 0 ) {\n            newValue = 0;\n          }\n          localStorage.setItem(\"abilityDice\", (newValue).toString())\n          this.setState({\n            abilityDice: newValue,\n          })\n          break;\n        }\n\n        case \"proficiency\": {\n          let newValue = this.state.proficiencyDice + incrementCount;\n          if( newValue < 0 ) {\n            newValue = 0;\n          }\n          localStorage.setItem(\"proficiencyDice\", (newValue).toString())\n          this.setState({\n            proficiencyDice: newValue,\n          })\n          break;\n        }\n\n        case \"setback\": {\n          let newValue = this.state.setbackDice + incrementCount;\n          if( newValue < 0 ) {\n            newValue = 0;\n          }\n          localStorage.setItem(\"setbackDice\", (newValue).toString())\n          this.setState({\n            setbackDice: newValue,\n          })\n          break;\n        }\n\n        case \"difficulty\": {\n          let newValue = this.state.difficultyDice + incrementCount;\n          if( newValue < 0 ) {\n            newValue = 0;\n          }\n          localStorage.setItem(\"difficultyDice\", (newValue).toString())\n          this.setState({\n            difficultyDice: newValue,\n          })\n          break;\n        }\n\n        case \"force\": {\n          let newValue = this.state.forceDice + incrementCount;\n          if( newValue < 0 ) {\n            newValue = 0;\n          }\n          localStorage.setItem(\"forceDice\", (newValue).toString())\n          this.setState({\n            forceDice: newValue,\n          })\n          break;\n        }\n\n        case \"boost\": {\n          let newValue = this.state.boostsDice + incrementCount;\n          if( newValue < 0 ) {\n            newValue = 0;\n          }\n          localStorage.setItem(\"boostsDice\", (newValue).toString())\n          this.setState({\n            boostsDice: newValue,\n          })\n          break;\n        }\n\n        case \"challenge\": {\n          let newValue = this.state.challengeDice + incrementCount;\n          if( newValue < 0 ) {\n            newValue = 0;\n          }\n          localStorage.setItem(\"challengeDice\", (newValue).toString())\n          this.setState({\n            challengeDice: newValue,\n          })\n          break;\n        }\n      }\n    }\n\n    render() {\n      return (\n        <UIPage current=\"dice\" appGlobals={this.props.appGlobals}>\n\n        <div className=\"dice-select-container\">\n\n        <div className=\"text-center dice-select\">\n              <span className=\"title\">Proficiency</span>\n              <span className=\"bigger-font\">\n                <span className=\"dice die-proficiency\">c</span>&nbsp;x{this.state.proficiencyDice}<br />\n              </span>\n              <Button\n                variant=\"primary\"\n                className=\"btn-xs\"\n                onClick={() => this.incrementDie(\"proficiency\", -1)}\n                disabled={this.state.proficiencyDice < 1}\n              >\n                <FontAwesomeIcon icon={faMinus} />\n              </Button>\n              &nbsp;\n\n              <Button\n                variant=\"primary\"\n                className=\"btn-xs\"\n                onClick={() => this.incrementDie(\"proficiency\", 1)}\n              >\n                <FontAwesomeIcon icon={faPlus} />\n              </Button>\n          </div>\n\n          <div className=\"text-center dice-select\">\n              <span className=\"title\">Ability</span>\n              <span className=\"bigger-font\">\n                <span className=\"dice die-ability\">d</span>&nbsp;x{this.state.abilityDice}<br />\n              </span>\n              <Button\n                variant=\"primary\"\n                className=\"btn-xs\"\n                onClick={() => this.incrementDie(\"ability\", -1)}\n                disabled={this.state.abilityDice < 1}\n              >\n                <FontAwesomeIcon icon={faMinus} />\n              </Button>\n              &nbsp;\n\n              <Button\n                variant=\"primary\"\n                className=\"btn-xs\"\n                onClick={() => this.incrementDie(\"ability\", 1)}\n              >\n                <FontAwesomeIcon icon={faPlus} />\n              </Button>\n          </div>\n\n\n          <div className=\"text-center dice-select\">\n              <span className=\"title\">Boost</span>\n              <span className=\"bigger-font\">\n                <span className=\"dice die-boost\">b</span>&nbsp;x{this.state.boostsDice}<br />\n              </span>\n              <Button\n                variant=\"primary\"\n                className=\"btn-xs\"\n                onClick={() => this.incrementDie(\"boost\", -1)}\n                disabled={this.state.boostsDice < 1}\n              >\n                <FontAwesomeIcon icon={faMinus} />\n              </Button>\n              &nbsp;\n\n              <Button\n                variant=\"primary\"\n                className=\"btn-xs\"\n                onClick={() => this.incrementDie(\"boost\", 1)}\n              >\n                <FontAwesomeIcon icon={faPlus} />\n              </Button>\n          </div>\n\n          <div className=\"text-center dice-select\">\n            <span className=\"title\">Setback</span>\n              <span className=\"bigger-font\">\n                <span className=\"dice die-setback\">b</span>&nbsp;x{this.state.setbackDice}<br />\n              </span>\n              <Button\n                variant=\"primary\"\n                className=\"btn-xs\"\n                onClick={() => this.incrementDie(\"setback\", -1)}\n                disabled={this.state.setbackDice < 1}\n              >\n                <FontAwesomeIcon icon={faMinus} />\n              </Button>\n              &nbsp;\n\n              <Button\n                variant=\"primary\"\n                className=\"btn-xs\"\n                onClick={() => this.incrementDie(\"setback\", 1)}\n              >\n                <FontAwesomeIcon icon={faPlus} />\n              </Button>\n          </div>\n\n\n          <div className=\"text-center dice-select\">\n              <span className=\"title\">Difficulty</span>\n              <span className=\"bigger-font\">\n                <span className=\"dice die-difficulty\">d</span>&nbsp;x{this.state.difficultyDice}<br />\n              </span>\n              <Button\n                variant=\"primary\"\n                className=\"btn-xs\"\n                onClick={() => this.incrementDie(\"difficulty\", -1)}\n                disabled={this.state.difficultyDice < 1}\n              >\n                <FontAwesomeIcon icon={faMinus} />\n              </Button>\n              &nbsp;\n\n              <Button\n                variant=\"primary\"\n                className=\"btn-xs\"\n                onClick={() => this.incrementDie(\"difficulty\", 1)}\n              >\n                <FontAwesomeIcon icon={faPlus} />\n              </Button>\n          </div>\n\n          <div className=\"text-center dice-select\">\n            <span className=\"title\">Challenge</span>\n              <span className=\"bigger-font\">\n                <span className=\"dice die-challenge\">c</span>&nbsp;x{this.state.challengeDice}<br />\n              </span>\n              <Button\n                variant=\"primary\"\n                className=\"btn-xs\"\n                onClick={() => this.incrementDie(\"challenge\", -1)}\n                disabled={this.state.challengeDice < 1}\n              >\n                <FontAwesomeIcon icon={faMinus} />\n              </Button>\n              &nbsp;\n\n              <Button\n                variant=\"primary\"\n                className=\"btn-xs\"\n                onClick={() => this.incrementDie(\"challenge\", 1)}\n              >\n                <FontAwesomeIcon icon={faPlus} />\n              </Button>\n          </div>\n\n{this.props.appGlobals.settings.dieIconClass === \"starwars\" ? (\n  <>\n          <div className=\"text-center dice-select\">\n            <span className=\"title\">Force</span>\n              <span className=\"bigger-font\">\n                <span className=\"dice die-force\">c</span>&nbsp;x{this.state.forceDice}<br />\n              </span>\n              <Button\n                variant=\"primary\"\n                className=\"btn-xs\"\n                onClick={() => this.incrementDie(\"force\", -1)}\n                disabled={this.state.forceDice < 1}\n              >\n                <FontAwesomeIcon icon={faMinus} />\n              </Button>\n              &nbsp;\n\n              <Button\n                variant=\"primary\"\n                className=\"btn-xs\"\n                onClick={() => this.incrementDie(\"force\", 1)}\n              >\n                <FontAwesomeIcon icon={faPlus} />\n              </Button>\n          </div>\n  </>\n) :\n(\n  <></>\n)}\n\n\n        </div>\n        <div className=\"text-center\">\n          <Button\n            variant=\"primary\"\n            onClick={this.rollDice}\n          >Roll</Button>\n        </div>\n\n        {this.dieRolls ? (\n          <>\n          <div className=\"die-box text-center\">\n            {this.dieRolls.rolls.map( (result, resultIndex) => {\n              return (\n                <>\n                <Die\n                  key={resultIndex}\n                  appGlobals={this.props.appGlobals}\n                  dieResult={result}\n                  className=\"\"\n                />\n                </>\n              )\n            })}\n            <p>\n\n              {this.dieRolls.grossSuccesses !== 0 ? (\n                <>\n                Successes: {this.dieRolls.grossSuccesses}<br />\n                </>\n              ) :\n              (\n                <></>\n              )}\n\n              {this.dieRolls.grossAdvantages !== 0 ? (\n                <>\n                  Advantages: {this.dieRolls.grossAdvantages}<br />\n                </>\n              ) :\n              (\n                <></>\n              )}\n\n              {this.dieRolls.grossFailures !== 0 ? (\n                <>\n                  Failures: {this.dieRolls.grossFailures}<br />\n                </>\n              ) :\n              (\n                <></>\n              )}\n\n              {this.dieRolls.grossThreats !== 0 ? (\n                <>\n                  Threats: {this.dieRolls.grossThreats}<br />\n                </>\n              ) :\n              (\n                <></>\n              )}\n\n\n              {this.dieRolls.grossTriumphs !== 0 ? (\n                <>\n                  Triumphs: {this.dieRolls.grossTriumphs}<br />\n                </>\n              ) :\n              (\n                <></>\n              )}\n\n              {this.dieRolls.grossDespairs !== 0 ? (\n                <>\n                  Despairs: {this.dieRolls.grossDespairs}<br />\n                </>\n              ) :\n              (\n                <></>\n              )}\n\n              {this.dieRolls.grossLightSide !== 0 ? (\n                <>\n                  Light Side: {this.dieRolls.grossLightSide}<br />\n                </>\n              ) :\n              (\n                <></>\n              )}\n\n              {this.dieRolls.grossDarkSide !== 0 ? (\n                <>\n                  Dark Side: {this.dieRolls.grossDarkSide}<br />\n                </>\n              ) :\n              (\n                <></>\n              )}\n            </p>\n          </div>\n          </>\n        ) : (\n          <></>\n        )}\n\n        </UIPage>\n      );\n    }\n}\n\ninterface IDiceProps {\n  appGlobals: IAppGlobals;\n}\n\ninterface IDiceState {\n    updated: boolean;\n\n    abilityDice: number;\n    proficiencyDice: number;\n    boostsDice: number;\n    difficultyDice: number;\n    challengeDice: number;\n    setbackDice: number;\n    forceDice: number;\n}","/*\nImportant: The data and text in this file are not covered by the GPL\nDescriptions and some names are copyright and owned by Fantasy Flight Games, no copyright\nclaim is intended by application author(s)\n*/\nimport { IPowerLevels, ICharacteristics } from \"../Classes/Adversary\";\n\nexport interface IAdversaryCharacteristicArray {\n    name: string;\n    characteristics: ICharacteristics;\n    powerLevels: IPowerLevels;\n    examples: string;\n}\n\nexport const AdversaryCharacteristicArrays: IAdversaryCharacteristicArray[] = [\n    {\n        name: \"Small Creature\",\n        characteristics: {\n            brawn: 1,\n            agility: 2,\n            intellect: 3,\n            cunning: 1,\n            willpower: 1,\n            presence: 1,\n        },\n        powerLevels: {\n            combat: -1,\n            social: -1,\n            general: 0,\n        },\n        examples: \"Mouse, bird, snake, cat\"\n    },\n    {\n        name: \"Large Creature\",\n        characteristics: {\n            brawn: 4,\n            agility: 2,\n            intellect: 2,\n            cunning: 1,\n            willpower: 1,\n            presence: 1,\n        },\n        powerLevels: {\n            combat: 1,\n            social: -1,\n            general: 0,\n        },\n        examples: \"Bear, ox, horse, cow, ram\"\n    },\n    {\n        name: \"Stealthy Creature\",\n        characteristics: {\n            brawn: 2,\n            agility: 3,\n            intellect: 3,\n            cunning: 1,\n            willpower: 1,\n            presence: 1,\n        },\n        powerLevels: {\n            combat: 0,\n            social: -1,\n            general: 0,\n        },\n        examples: \"Puma, deer, shark\"\n    },\n    {\n        name: \"Huge Creature\",\n        characteristics: {\n            brawn: 5,\n            agility: 1,\n            intellect: 1,\n            cunning: 1,\n            willpower: 1,\n            presence: 2,\n        },\n        powerLevels: {\n            combat: 1,\n            social: -1,\n            general: -1,\n        },\n        examples: \"Elephant, dinosaur\"\n    },\n    {\n        name: \"Average Person\",\n        characteristics: {\n            brawn: 2,\n            agility: 2,\n            intellect: 2,\n            cunning: 2,\n            willpower: 2,\n            presence: 2,\n        },\n        powerLevels: {\n            combat: 0,\n            social: 0,\n            general: 0,\n        },\n        examples: \"Any regular person\"\n    },\n    {\n        name: \"Tough Person\",\n        characteristics: {\n            brawn: 3,\n            agility: 2,\n            intellect: 2,\n            cunning: 2,\n            willpower: 2,\n            presence: 1,\n        },\n        powerLevels: {\n            combat: 0,\n            social: -1,\n            general: 0,\n        },\n        examples: \"Laborer, mob tough, soldier\"\n    },\n    {\n        name: \"Smart Person\",\n        characteristics: {\n            brawn: 1,\n            agility: 2,\n            intellect: 2,\n            cunning: 3,\n            willpower: 2,\n            presence: 2,\n        },\n        powerLevels: {\n            combat: -1,\n            social: 0,\n            general: 0,\n        },\n        examples: \"Student, medic, hacker\"\n    },\n    {\n        name: \"Sociable Person\",\n        characteristics: {\n            brawn: 2,\n            agility: 2,\n            intellect: 2,\n            cunning: 2,\n            willpower: 1,\n            presence: 3,\n        },\n        powerLevels: {\n            combat: 0,\n            social: 0,\n            general: 0,\n        },\n        examples: \"Politician, manager\"\n    },\n    {\n        name: \"Jack of All Trades\",\n        characteristics: {\n            brawn: 3,\n            agility: 3,\n            intellect: 3,\n            cunning: 3,\n            willpower: 3,\n            presence: 3,\n        },\n        powerLevels: {\n            combat: 1,\n            social: 1,\n            general: 1,\n        },\n        examples: \"Any competent person\"\n    },\n    {\n        name: \"Skilled Warrior\",\n        characteristics: {\n            brawn: 4,\n            agility: 3,\n            intellect: 2,\n            cunning: 2,\n            willpower: 3,\n            presence: 1,\n        },\n        powerLevels: {\n            combat: 2,\n            social: 0,\n            general: 0,\n        },\n        examples: \"Knight, berserker, veteran\"\n    },\n    {\n        name: \"Savant\",\n        characteristics: {\n            brawn: 2,\n            agility: 1,\n            intellect: 2,\n            cunning: 5,\n            willpower: 2,\n            presence: 1,\n        },\n        powerLevels: {\n            combat: -1,\n            social: -1,\n            general: 1,\n        },\n        examples: \"Scholar, researcher, surgeon\"\n    },\n    {\n        name: \"Born Leader\",\n        characteristics: {\n            brawn: 2,\n            agility: 2,\n            intellect: 3,\n            cunning: 2,\n            willpower: 3,\n            presence: 5,\n        },\n        powerLevels: {\n            combat: 0,\n            social: 2,\n            general: 0,\n        },\n        examples: \"President, ruler, general\"\n    },\n    {\n        name: \"Cunning Foe\",\n        characteristics: {\n            brawn: 2,\n            agility: 4,\n            intellect: 4,\n            cunning: 2,\n            willpower: 2,\n            presence: 2,\n        },\n        powerLevels: {\n            combat: 1,\n            social: 0,\n            general: 1,\n        },\n        examples: \"Spy, assassin, military scout\"\n    },\n    {\n        name: \"Mastermind\",\n        characteristics: {\n            brawn: 3,\n            agility: 3,\n            intellect: 4,\n            cunning: 4,\n            willpower: 5,\n            presence: 3,\n        },\n        powerLevels: {\n            combat: 1,\n            social: 2,\n            general: 2,\n        },\n        examples: \"The main villain in a story\"\n    }\n];","/*\nImportant: The data and text in this file are not covered by the GPL\nDescriptions and some names are copyright and owned by Fantasy Flight Games, no copyright\nclaim is intended by application author(s)\n*/\nexport const AdversaryTypes: string[] = [\n    \"Minion\",\n    \"Rival\",\n    \"Nemesis\",\n]","/*\nImportant: The data and text in this file are not covered by the GPL\nDescriptions and some names are copyright and owned by Fantasy Flight Games, no copyright\nclaim is intended by application author(s)\n*/\nexport interface ISkill {\n    name: string;\n    attribute: string;\n    value: number;\n    book: string;\n    page: string;\n    settings: string[];\n}\n\nexport const SkillList: ISkill[] = [\n    {\n        name: \"Alchemy\",\n        attribute: \"intellect\",\n        value: 0,\n        book: \"Core\",\n        page: \"57\",\n        settings: [\"Fantasy\", \"steampunk\", \"Weird War\"],\n    },\n    {\n        name: \"Arcana\",\n        attribute: \"intellect\",\n        value: 0,\n        book: \"Core\",\n        page: \"70\",\n        settings: [],\n    },\n    {\n        name: \"Astrocartography\",\n        attribute: \"intellect\",\n        value: 0,\n        book: \"Core\",\n        page: \"57\",\n        settings: [\"Space Opera\"],\n    },\n    {\n        name: \"Athletics\",\n        attribute: \"brawn\",\n        value: 0,\n        book: \"Core\",\n        page: \"58\",\n        settings: [\"All\"],\n    },\n    {\n        name: \"Brawl\",\n        attribute: \"brawn\",\n        value: 0,\n        book: \"Core\",\n        page: \"67\",\n        settings: [\"All\"],\n    },\n    {\n        name: \"Charm\",\n        attribute: \"presence\",\n        value: 0,\n        book: \"Core\",\n        page: \"54\",\n        settings: [\"All\"],\n    },\n    {\n        name: \"Coercion\",\n        attribute: \"presence\",\n        value: 0,\n        book: \"Core\",\n        page: \"55\",\n        settings: [\"All\"],\n    },\n    {\n        name: \"Computers\",\n        attribute: \"intellect\",\n        value: 0,\n        book: \"Core\",\n        page: \"55\",\n        settings: [\"Modern Day\", \"Science Fiction\", \"space opera\"],\n    },\n    {\n        name: \"Cool\",\n        attribute: \"presence\",\n        value: 0,\n        book: \"Core\",\n        page: \"59\",\n        settings: [\"All\"],\n    },\n    {\n        name: \"Coordination\",\n        attribute: \"agility\",\n        value: 0,\n        book: \"Core\",\n        page: \"59\",\n        settings: [\"All\"],\n    },\n    {\n        name: \"Deception\",\n        attribute: \"cunning\",\n        value: 0,\n        book: \"Core\",\n        page: \"56\",\n        settings: [\"All\"],\n    },\n    {\n        name: \"Discipline\",\n        attribute: \"willpower\",\n        value: 0,\n        book: \"Core\",\n        page: \"60\",\n        settings: [\"All\"],\n    },\n    {\n        name: \"Divine\",\n        attribute: \"willpower\",\n        value: 0,\n        book: \"Core\",\n        page: \"70\",\n        settings: [\"All\"],\n    },\n    {\n        name: \"Driving\",\n        attribute: \"agility\",\n        value: 0,\n        book: \"Core\",\n        page: \"60\",\n        settings: [\"Steampunk\", \"Weird War\", \"Modern Day\", \"Science Fiction\", \"Space Opera\"],\n    },\n    {\n        name: \"Gunnery\",\n        attribute: \"intellect\",\n        value: 0,\n        book: \"Core\",\n        page: \"69\",\n        settings: [\"Steampunk\", \"Weird War\", \"Modern Day\", \"Science Fiction\", \"Space Opera\"],\n    },\n    {\n        name: \"Knowledge\",\n        attribute: \"intellect\",\n        value: 0,\n        book: \"Core\",\n        page: \"66\",\n        settings: [\"All\"],\n    },\n    {\n        name: \"Leadership\",\n        attribute: \"presence\",\n        value: 0,\n        book: \"Core\",\n        page: \"56\",\n        settings: [\"All\"],\n    },\n    {\n        name: \"Mechanics\",\n        attribute: \"intellect\",\n        value: 0,\n        book: \"Core\",\n        page: \"60\",\n        settings: [\"All\"],\n    },\n    {\n        name: \"Medicine\",\n        attribute: \"intellect\",\n        value: 0,\n        book: \"Core\",\n        page: \"61\",\n        settings: [\"All\"],\n    },\n    {\n        name: \"Melee\",\n        attribute: \"brawn\",\n        value: 0,\n        book: \"Core\",\n        page: \"67\",\n        settings: [\"Steampunk\", \"Weird War\", \"Modern Day\", \"Science Fiction\", \"space opera\"],\n    },\n    {\n        name: \"Melee (Heavy)\",\n        attribute: \"brawn\",\n        value: 0,\n        book: \"Core\",\n        page: \"68\",\n        settings: [\"Fantasy\"],\n    },\n    {\n        name: \"Melee (Light)\",\n        attribute: \"brawn\",\n        value: 0,\n        book: \"Core\",\n        page: \"68\",\n        settings: [\"Fantasy\"],\n    },\n    {\n        name: \"Negotiation\",\n        attribute: \"presence\",\n        value: 0,\n        book: \"Core\",\n        page: \"56\",\n        settings: [\"All\"],\n    },\n    {\n        name: \"Operating\",\n        attribute: \"intellect\",\n        value: 0,\n        book: \"Core\",\n        page: \"62\",\n        settings: [\"All\"],\n    },\n    {\n        name: \"Perception\",\n        attribute: \"cunning\",\n        value: 0,\n        book: \"Core\",\n        page: \"62\",\n        settings: [\"All\"],\n    },\n    {\n        name: \"Piloting\",\n        attribute: \"agility\",\n        value: 0,\n        book: \"Core\",\n        page: \"62\",\n        settings: [\"Weird War\", \"Modern Day\", \"Science Fiction\", \"Space Opera\"],\n    },\n    {\n        name: \"Primal\",\n        attribute: \"cunning\",\n        value: 0,\n        book: \"Core\",\n        page: \"70\",\n        settings: [\"All\"],\n    },\n    {\n        name: \"Ranged\",\n        attribute: \"agility\",\n        value: 0,\n        book: \"Core\",\n        page: \"67\",\n        settings: [\"Fantasy\"],\n    },\n    {\n        name: \"Ranged (Heavy)\",\n        attribute: \"agility\",\n        value: 0,\n        book: \"Core\",\n        page: \"68\",\n        settings: [\"Steampunk\", \"Weird War\", \"Modern Day\", \"Science Fiction\", \"space opera\"],\n    },\n    {\n        name: \"Ranged (Light)\",\n        attribute: \"agility\",\n        value: 0,\n        book: \"Core\",\n        page: \"68\",\n        settings: [\"Steampunk\", \"Weird War\", \"Modern Day\", \"Science Fiction\", \"space opera\"],\n    },\n    {\n        name: \"Resilience\",\n        attribute: \"brawn\",\n        value: 0,\n        book: \"Core\",\n        page: \"63\",\n        settings: [\"All\"],\n    },\n    {\n        name: \"Riding\",\n        attribute: \"agility\",\n        value: 0,\n        book: \"Core\",\n        page: \"63\",\n        settings: [\"Fantasy\", \"Steampunk\"],\n    },\n    {\n        name: \"Skulduggery\",\n        attribute: \"cunning\",\n        value: 0,\n        book: \"Core\",\n        page: \"64\",\n        settings: [\"All\"],\n    },\n    {\n        name: \"Stealth\",\n        attribute: \"agility\",\n        value: 0,\n        book: \"Core\",\n        page: \"64\",\n        settings: [\"All\"],\n    },\n    {\n        name: \"Streetwise\",\n        attribute: \"cunning\",\n        value: 0,\n        book: \"Core\",\n        page: \"65\",\n        settings: [\"All\"],\n    },\n    {\n        name: \"Survival\",\n        attribute: \"cunning\",\n        value: 0,\n        book: \"Core\",\n        page: \"65\",\n        settings: [\"All\"],\n    },\n    {\n        name: \"Vigilance\",\n        attribute: \"willpower\",\n        value: 0,\n        book: \"Core\",\n        page: \"65\",\n        settings: [\"All\"],\n    }\n\n];\n\n","import { IAdversaryCharacteristicArray, AdversaryCharacteristicArrays } from \"../Data/AdversaryCharacteristicArrays\";\nimport { IAdversaryTalent } from \"../Data/AdversaryTalents\";\nimport { IAdversarySkillPackage } from \"../Data/AdversarySkillPackages\";\nimport { IAdversarySpecialAbility } from \"../Data/AdversarySpecialAbilities\";\nimport { AdversaryTypes } from \"../Data/AdversaryTypes\";\nimport { IAdversarySoakDefWoundStrain } from \"../Data/AdversarySoakDefWoundStrain\";\nimport { ISkill, SkillList } from \"../Data/SkillList\";\n\nexport interface ICharacteristics {\n    brawn: number;\n    agility: number;\n    intellect: number;\n    cunning: number;\n    willpower: number;\n    presence: number;\n}\n\nexport interface IPowerLevels {\n    combat: number;\n    social: number;\n    general: number;\n}\n\n\nexport interface IAdversarySave {\n    name: string;\n    adversaryType: string;\n    description: string[];\n    selectedAdversaryCharacteristicArray: IAdversaryCharacteristicArray;\n    selectedSkillPackages: IAdversarySkillPackage[];\n    selectedSoakDefWoundStrain: IAdversarySoakDefWoundStrain[];\n    selectedSpecialAbilities: IAdversarySpecialAbility[];\n    selectedTalents: IAdversaryTalent[];\n}\n\nexport class Adversary {\n    public name: string = \"\";\n    public description: string[] = [];\n    public adversaryType: string = AdversaryTypes[0];\n    public selectedAdversaryCharacteristicArray: IAdversaryCharacteristicArray = AdversaryCharacteristicArrays[0];\n    public selectedSkillPackages: IAdversarySkillPackage[] = [];\n    public selectedSoakDefWoundStrain: IAdversarySoakDefWoundStrain[] = [];\n    public selectedSpecialAbilities: IAdversarySpecialAbility[] = [];\n    public selectedTalents: IAdversaryTalent[] = [];\n\n    private _skills: ISkill[] = [];\n\n    constructor( saveData: IAdversarySave | null ) {\n        this.loadData( saveData );\n    }\n\n    loadData( saveData: IAdversarySave | null ) {\n\n        for( let skill of SkillList ) {\n            this._skills.push(\n                {\n                    name: skill.name,\n                    attribute: skill.attribute,\n                    value: 0,\n                    book: skill.book,\n                    page: skill.page,\n                    settings: skill.settings,\n                }\n             )\n        }\n\n        if( saveData ) {\n            this.name = saveData.name;\n            this.description = saveData.description;\n            this.adversaryType = saveData.adversaryType;\n            this.selectedAdversaryCharacteristicArray = saveData.selectedAdversaryCharacteristicArray;\n            this.selectedSkillPackages = saveData.selectedSkillPackages;\n            this.selectedSoakDefWoundStrain = saveData.selectedSoakDefWoundStrain;\n            this.selectedSpecialAbilities = saveData.selectedSpecialAbilities;\n            this.selectedTalents = saveData.selectedTalents;\n        }\n    }\n\n    exportData(): IAdversarySave {\n        let exportData: IAdversarySave = {\n            name: this.name,\n            description: this.description,\n            adversaryType: this.adversaryType,\n            selectedAdversaryCharacteristicArray: this.selectedAdversaryCharacteristicArray,\n            selectedSkillPackages: this.selectedSkillPackages,\n            selectedSoakDefWoundStrain: this.selectedSoakDefWoundStrain,\n            selectedSpecialAbilities: this.selectedSpecialAbilities,\n            selectedTalents: this.selectedTalents,\n        }\n\n        return exportData;\n    }\n\n    public getSoak(): number {\n        // TODO\n        let soakValue = this.getBrawn();\n\n        // for( let equipment of this.selectedEquipment ) {\n\n        // }\n\n        for( let advSoakDefWoundStrain of this.selectedSoakDefWoundStrain ) {\n            if( advSoakDefWoundStrain.derivedAttribute.soakThreshold ) {\n                soakValue += advSoakDefWoundStrain.derivedAttribute.soakThreshold;\n            }\n        }\n\n        return soakValue;\n    }\n    public getWoundThreshold(): number {\n        let woundThreshold = 0;\n        switch( this.adversaryType.toLowerCase().trim() ) {\n            case \"minion\": {\n                if( this.getBrawn() < 2 ) {\n                    woundThreshold = 3;\n                } else {\n                    woundThreshold = 5;\n                }\n                break;\n            }\n            case \"rival\": {\n                woundThreshold = 8;\n                break;\n            }\n            case \"nemesis\": {\n                woundThreshold = 12 + this.getBrawn();\n                break;\n            }\n        }\n\n        for( let advSoakDefWoundStrain of this.selectedSoakDefWoundStrain ) {\n            if( advSoakDefWoundStrain.derivedAttribute.woundThreshold ) {\n                woundThreshold += advSoakDefWoundStrain.derivedAttribute.woundThreshold;\n            }\n        }\n\n        return woundThreshold;\n    }\n\n    public getStrainThreshold(): number {\n        let strainThreshold = 0;\n        if( this.adversaryType.toLowerCase().trim() === \"nemesis\" ) {\n            strainThreshold = 10 + this.getWillpower();\n        }\n\n        for( let advSoakDefWoundStrain of this.selectedSoakDefWoundStrain ) {\n            if( advSoakDefWoundStrain.derivedAttribute.strainThreshold ) {\n                strainThreshold += advSoakDefWoundStrain.derivedAttribute.strainThreshold;\n            }\n        }\n\n        return strainThreshold;\n    }\n\n    public getRangedDefense(): number {\n        // TODO\n        let rangedDefenseValue = 0;\n\n        // for( let equipment of this.selectedEquipment ) {\n\n        // }\n\n        for( let advSoakDefWoundStrain of this.selectedSoakDefWoundStrain ) {\n            if( advSoakDefWoundStrain.derivedAttribute.rangedDefense ) {\n                rangedDefenseValue += advSoakDefWoundStrain.derivedAttribute.rangedDefense;\n            }\n        }\n\n        return rangedDefenseValue;\n    }\n\n    public getMeleeDefense(): number {\n        // TODO\n        let meleeDefenseValue = 0;\n\n        // for( let equipment of this.selectedEquipment ) {\n\n        // }\n\n        for( let advSoakDefWoundStrain of this.selectedSoakDefWoundStrain ) {\n            if( advSoakDefWoundStrain.derivedAttribute.meleeDefense ) {\n                meleeDefenseValue += advSoakDefWoundStrain.derivedAttribute.meleeDefense;\n            }\n        }\n\n        return meleeDefenseValue;\n    }\n\n    private _getAttributeValue( attribute: string ): number {\n        switch( attribute.toLowerCase().trim() ) {\n            case \"brawn\":\n                return this.getBrawn();\n            case \"agility\":\n                return this.getAgility();\n            case \"intellect\":\n                return this.getIntellect();\n            case \"cunning\":\n                return this.getCunning();\n            case \"willpower\":\n                return this.getWillpower();\n            case \"presence\":\n                return this.getPresence();\n        }\n        return 0;\n    }\n\n    public getBrawn(): number {\n        return this.selectedAdversaryCharacteristicArray.characteristics.brawn;\n    }\n    public getAgility(): number {\n        return this.selectedAdversaryCharacteristicArray.characteristics.agility;\n    }\n    public getIntellect(): number {\n        return this.selectedAdversaryCharacteristicArray.characteristics.intellect;\n    }\n    public getCunning(): number {\n        return this.selectedAdversaryCharacteristicArray.characteristics.cunning;\n    }\n    public getWillpower(): number {\n        return this.selectedAdversaryCharacteristicArray.characteristics.willpower;\n    }\n    public getPresence(): number {\n        return this.selectedAdversaryCharacteristicArray.characteristics.presence;\n    }\n\n/*\n    private _setSkill(\n        skillName: string,\n        newValue: number,\n        attribute: string\n    ): ISkill {\n        let foundSkill = false;\n\n        for( let skill of this._skills ) {\n            if( skill.name.toLowerCase().trim() === skillName.toLowerCase().trim() ) {\n                foundSkill = true;\n                if( skill.value < newValue ) {\n                    skill.value = newValue;\n                }\n                return skill;\n            }\n        }\n\n        let newSkill: ISkill = {\n            name: skillName,\n            value: newValue,\n            attribute: attribute,\n            book: \"Custom\",\n            settings: [],\n            page: \"\",\n        }\n\n        this._skills.push( newSkill );\n\n        return newSkill;\n\n    }\n*/\n    private _setSkills() {\n\n        for( let skill of this._skills ) {\n            skill.value = 0;\n            for( let skillPackage of this.selectedSkillPackages ) {\n                for( let packageSkill of skillPackage.skills ) {\n                    if( skill.name.toLowerCase().trim() === packageSkill.name.toLowerCase().trim() ) {\n                        if( skill.value < packageSkill.value ) {\n                            skill.value = packageSkill.value;\n                        }\n                    }\n                }\n            }\n        }\n\n    }\n\n    public calc() {\n\n    }\n\n    public getSkillList(\n        valuesAsDice: boolean = false,\n    ): string {\n\n        this._setSkills();\n\n        let activeSkills: ISkill[] = [];\n\n        for( let skill of this._skills ) {\n            if( skill.value > 0 ) {\n                activeSkills.push( skill );\n            }\n        }\n\n        activeSkills.sort( (a: ISkill, b: ISkill) => {\n            if( a.name > b.name ) {\n                return 1;\n            } else if( a.name < b.name ) {\n                return -1;\n            } else {\n                return 0;\n            }\n        })\n\n        let returnValue: string = \"\";\n        for( let skill of activeSkills ) {\n            if( valuesAsDice === false ) {\n                returnValue += skill.name + \": \" + skill.value.toString() + \", \";\n            } else {\n                let abilityValue = this._getAttributeValue( skill.attribute );\n                let maxValue = 0;\n                let minValue = 0;\n                if( abilityValue > skill.value  ) {\n                    maxValue =  abilityValue;\n                    minValue =  skill.value;\n                } else {\n                    maxValue =  skill.value;\n                    minValue =  abilityValue;\n                }\n\n                let dieValue = \"\";\n\n                for( let lCount = 0; lCount < maxValue; lCount++ ) {\n                    if( lCount < minValue ) {\n                        dieValue += '[proficiency]';\n                    } else {\n                        dieValue += '[ability]';\n                    }\n                }\n\n                returnValue += \"<div class=\\\"inline-block\\\">\" + skill.name + \": \" + dieValue + \",</div> \";\n\n            }\n        }\n        if( returnValue ) {\n            if( valuesAsDice )  {\n                returnValue = returnValue.substr( 0, returnValue.length - 8 );\n                returnValue += \"</div>\";\n            } else  {\n                returnValue = returnValue.substr( 0, returnValue.length - 2 );\n            }\n\n        } else {\n            returnValue = \"No Skills\"\n        }\n\n        return returnValue;\n    }\n\n    public getPowerLevel(): IPowerLevels {\n        let returnValue = {\n            combat: 0,\n            social: 0,\n            general: 0,\n        }\n\n        if( this.selectedAdversaryCharacteristicArray ) {\n            console.log(\"this.selectedAdversaryCharacteristicArray.powerLevels\", this.selectedAdversaryCharacteristicArray.powerLevels)\n            returnValue.combat += this.selectedAdversaryCharacteristicArray.powerLevels.combat;\n            returnValue.general += this.selectedAdversaryCharacteristicArray.powerLevels.general;\n            returnValue.social += this.selectedAdversaryCharacteristicArray.powerLevels.social;\n        }\n\n        for( let advSoakDefWoundStrain of this.selectedSoakDefWoundStrain ) {\n            console.log(\"this.selectedSoakDefWoundStrain.powerLevels\", advSoakDefWoundStrain.powerLevels)\n            returnValue.combat += advSoakDefWoundStrain.powerLevels.combat;\n            returnValue.general += advSoakDefWoundStrain.powerLevels.general;\n            returnValue.social += advSoakDefWoundStrain.powerLevels.social;\n        }\n\n        for( let skillPackage of this.selectedSkillPackages ) {\n            console.log(\"this.selectedSkillPackages.powerLevels\", skillPackage.powerLevels)\n            returnValue.combat += skillPackage.powerLevels.combat;\n            returnValue.general += skillPackage.powerLevels.general;\n            returnValue.social += skillPackage.powerLevels.social;\n        }\n\n        for( let talent of this.selectedTalents ) {\n            console.log(\"this.selectedTalents.powerLevels\", talent.powerLevels)\n            returnValue.combat += talent.powerLevels.combat;\n            returnValue.general += talent.powerLevels.general;\n            returnValue.social += talent.powerLevels.social;\n        }\n\n        for( let specialAbility of this.selectedSpecialAbilities ) {\n            console.log(\"this.advSoakDefWoundStrain.powerLevels\", specialAbility.powerLevels)\n            returnValue.combat += specialAbility.powerLevels.combat;\n            returnValue.general += specialAbility.powerLevels.general;\n            returnValue.social += specialAbility.powerLevels.social;\n        }\n\n        // for( let equipment of this.selectedEquipment ) {\n        //     returnValue.combat += equipment.powerLevels.combat;\n        //     returnValue.general += equipment.powerLevels.general;\n        //     returnValue.social += equipment.powerLevels.social;\n        // }\n\n        if( returnValue.combat  < 1 ) {\n            returnValue.combat = 1\n        }\n\n        if( returnValue.social  < 1 ) {\n            returnValue.social = 1\n        }\n\n        if( returnValue.general  < 1 ) {\n            returnValue.general = 1\n        }\n\n        return returnValue;\n    }\n\n    public getTalentList(): string {\n        let returnValue: string = \"\";\n        for( let talent of this.selectedTalents ) {\n           returnValue += talent.name + \" (\" + talent.description + \"), \";\n        }\n        if( returnValue ) {\n            returnValue = returnValue.substr( 0, returnValue.length - 2 );\n        }\n        return returnValue;\n    }\n\n    public getAbilitiesList(): string {\n        let returnValue: string = \"\";\n\n        for( let ability of this.selectedSpecialAbilities ) {\n            returnValue += ability.name + \" (\" + ability.description + \"), \";\n        }\n        if( returnValue ) {\n            returnValue = returnValue.substr( 0, returnValue.length - 2 );\n        }\n\n        return returnValue;\n    }\n\n    public getEquipmentList(): string {\n        let returnValue: string = \"\";\n        return returnValue;\n    }\n\n    public addTalent( selectedTalent: IAdversaryTalent ) {\n        this.selectedTalents.push( selectedTalent );\n    }\n\n\n}","/*\nImportant: The data and text in this file are not covered by the GPL\nDescriptions and some names are copyright and owned by Fantasy Flight Games, no copyright\nclaim is intended by application author(s)\n*/\nimport { IPowerLevels } from \"../Classes/Adversary\";\n\nexport interface IAdversarySoakDefWoundStrain {\n    name: string;\n    derivedAttribute: IDerivedAttribute;\n    powerLevels: IPowerLevels;\n    examples: string;\n}\n\ninterface IDerivedAttribute {\n    soakThreshold?: number;\n    woundThreshold?: number;\n    meleeDefense?: number;\n    rangedDefense?: number;\n    strainThreshold?: number;\n}\n\n\nexport const AdversarySoakDefWoundStrain: IAdversarySoakDefWoundStrain[] = [\n\n    {\n        name: \"Tough Skin\",\n        derivedAttribute: {\n            soakThreshold: 1,\n            woundThreshold: 1,\n        },\n        powerLevels: {\n            combat: 0,\n            social: 0,\n            general: 0,\n        },\n        examples: \"Minions, rivals, nemesis\"\n    },\n    {\n        name: \"Armored Hide\",\n        derivedAttribute: {\n            soakThreshold: 2,\n            woundThreshold: 5,\n        },\n        powerLevels: {\n            combat: 1,\n            social: 0,\n            general: 0,\n        },\n        examples: \"Rival or nemesis animals or non-humans\"\n    },\n    {\n        name: \"Dodgy\",\n        derivedAttribute: {\n            rangedDefense: 1,\n            meleeDefense: 1,\n        },\n        powerLevels: {\n            combat: 0,\n            social: 0,\n            general: 0,\n        },\n        examples: \"Minions, rivals, nemesis\"\n    },\n    {\n        name: \"Close Combatant\",\n        derivedAttribute: {\n            meleeDefense: 2,\n        },\n        powerLevels: {\n            combat: 0,\n            social: 0,\n            general: 0,\n        },\n        examples: \"Rivals, nemesis\"\n    },\n    {\n        name: \"Camouflaged\",\n        derivedAttribute: {\n            rangedDefense: 2,\n            meleeDefense: 1,\n        },\n        powerLevels: {\n            combat: 1,\n            social: 0,\n            general: 0,\n        },\n        examples: \"Rival or nemesis animal or non-human\"\n    },\n    {\n        name: \"Hardy\",\n        derivedAttribute: {\n            woundThreshold: 5,\n        },\n        powerLevels: {\n            combat: 0,\n            social: 0,\n            general: 0,\n        },\n        examples: \"Rivals, nemesis\"\n    },\n    {\n        name: \"Very Tough\",\n        derivedAttribute: {\n            woundThreshold: 10,\n        },\n        powerLevels: {\n            combat: 1,\n            social: 0,\n            general: 0,\n        },\n        examples: \"Rival or nemesis animal or non-human\"\n    },\n    {\n        name: \"Giant Body\",\n        derivedAttribute: {\n            woundThreshold: 25,\n        },\n        powerLevels: {\n            combat: 2,\n            social: 0,\n            general: 0,\n        },\n        examples: \"Silhouette 3 or higher animal rivals and nemeses\"\n    },\n    {\n        name: \"Savvy\",\n        derivedAttribute: {\n            strainThreshold: 5,\n        },\n        powerLevels: {\n            combat: 0,\n            social: 0,\n            general: 0,\n        },\n        examples: \"Nemeses\"\n    },\n    {\n        name: \"Mental Giant\",\n        derivedAttribute: {\n            strainThreshold: 10,\n        },\n        powerLevels: {\n            combat: 0,\n            social: 1,\n            general: 0,\n        },\n        examples: \"Main character nemeses\"\n    }\n]","/*\nImportant: The data and text in this file are not covered by the GPL\nDescriptions and some names are copyright and owned by Fantasy Flight Games, no copyright\nclaim is intended by application author(s)\n*/\nimport { IPowerLevels } from \"../Classes/Adversary\";\n\nexport interface IAdversarySkillPackage {\n    name: string;\n    powerLevels: IPowerLevels;\n    skills: {\n        name: string,\n        value: number,\n    }[];\n\n}\n\n\nexport const AdversarySkillPackages: IAdversarySkillPackage[] = [\n    {\n        name: \"Basic Creature\",\n        powerLevels: {\n            combat: 0,\n            social: 0,\n            general: 0,\n        },\n        skills: [\n            {\n                name: \"Athletics\",\n                value: 1,\n            },\n            {\n                name: \"Brawl\",\n                value: 1,\n            },\n            {\n                name: \"Survival\",\n                value: 1,\n            },\n            {\n                name: \"Vigilance\",\n                value: 1,\n            },\n        ]\n    },\n    {\n        name: \"Ferocious Creature\",\n        powerLevels: {\n            combat: 1,\n            social: 0,\n            general: 1,\n        },\n        skills: [\n            {\n                name: \"Athletics\",\n                value: 3,\n            },\n            {\n                name: \"Brawl\",\n                value: 4,\n            },\n            {\n                name: \"Perception\",\n                value: 2,\n            },\n            {\n                name: \"Survival\",\n                value: 3,\n            },\n            {\n                name: \"Vigilance\",\n                value: 1,\n            },\n        ],\n    },\n    {\n        name: \"Predatory Creature\",\n        powerLevels: {\n            combat: 1,\n            social: 0,\n            general: 1,\n        },\n        skills: [\n            {\n                name: \"Coordination\",\n                value: 3,\n            },\n            {\n                name: \"Brawl\",\n                value: 3,\n            },\n            {\n                name: \"Perception\",\n                value: 4,\n            },\n            {\n                name: \"Survival\",\n                value: 2,\n            },\n            {\n                name: \"Stealth\",\n                value: 3,\n            },\n        ],\n    },\n    {\n        name: \"Territorial Creature\",\n        powerLevels: {\n            combat: 0,\n            social: 0,\n            general: 0,\n        },\n        skills: [\n            {\n                name: \"Brawl\",\n                value: 1,\n            },\n            {\n                name: \"Resiliance\",\n                value: 3,\n            },\n            {\n                name: \"Survival\",\n                value: 4,\n            },\n            {\n                name: \"Vigilance\",\n                value: 4,\n            },\n        ],\n    },\n    {\n        name: \"Soldier\",\n        powerLevels: {\n            combat: 1,\n            social: 0,\n            general: 1,\n        },\n        skills: [\n            {\n                name: \"Athletics\",\n                value: 2,\n            },\n            {\n                name: \"Discipline\",\n                value: 1,\n            },\n            {\n                name: \"Melee\",\n                value: 2,\n            },\n            {\n                name: \"Ranged\",\n                value: 2,\n            },\n            {\n                name: \"Resilience\",\n                value: 2,\n            },\n            {\n                name: \"Vigilance\",\n                value: 2,\n            },\n        ],\n    },\n    {\n        name: \"Duelist\",\n        powerLevels: {\n            combat: 1,\n            social: 0,\n            general: 0,\n        },\n        skills: [\n            {\n                name: \"Cool\",\n                value: 3,\n            },\n            {\n                name: \"Coordination\",\n                value: 3,\n            },\n            {\n                name: \"Melee\",\n                value: 5,\n            },\n            {\n                name: \"Stealth\",\n                value: 1,\n            },\n        ],\n    },\n    {\n        name: \"Scout/Sniper\",\n        powerLevels: {\n            combat: 2,\n            social: 0,\n            general: 2,\n        },\n        skills: [\n            {\n                name: \"Cool\",\n                value: 2,\n            },\n            {\n                name: \"Perception\",\n                value: 3,\n            },\n            {\n                name: \"Ranged\",\n                value: 5,\n            },\n            {\n                name: \"Stealth\",\n                value: 4,\n            },\n            {\n                name: \"Survival\",\n                value: 3,\n            },\n            {\n                name: \"Vigilance\",\n                value: 3,\n            },\n        ],\n    },\n    {\n        name: \"Brawler/Laborer\",\n        powerLevels: {\n            combat: 0,\n            social: 0,\n            general: 0,\n        },\n        skills: [\n            {\n                name: \"Athletics\",\n                value: 3,\n            },\n            {\n                name: \"Brawl\",\n                value: 2,\n            },\n            {\n                name: \"Resilience\",\n                value: 3,\n            },\n        ],\n    },\n    {\n        name: \"Gunslinger\",\n        powerLevels: {\n            combat: 1,\n            social: 0,\n            general: 0,\n        },\n        skills: [\n            {\n                name: \"Cool\",\n                value: 2,\n            },\n            {\n                name: \"Coordination\",\n                value: 2,\n            },\n            {\n                name: \"Ranged\",\n                value: 4,\n            },\n            {\n                name: \"Skulduggery\",\n                value: 3,\n            },\n        ],\n    },\n    {\n        name: \"Sailor\",\n        powerLevels: {\n            combat: 0,\n            social: 0,\n            general: 1,\n        },\n        skills: [\n            {\n                name: \"Athletics\",\n                value: 2,\n            },\n            {\n                name: \"Operating\",\n                value: 3,\n            },\n            {\n                name: \"Perception\",\n                value: 2,\n            },\n            {\n                name: \"Ranged\",\n                value: 1,\n            },\n            {\n                name: \"Vigilance\",\n                value: 1,\n            }\n        ],\n    },\n    {\n        name: \"Spy/Con Artist\",\n        powerLevels: {\n            combat: 0,\n            social: 2,\n            general: 2,\n        },\n        skills: [\n            {\n                name: \"Cool\",\n                value: 2,\n            },\n            {\n                name: \"Charm\",\n                value: 3,\n            },\n            {\n                name: \"Deception\",\n                value: 4,\n            },\n            {\n                name: \"Knowledge\",\n                value: 1,\n            },\n            {\n                name: \"Skulduggery\",\n                value: 4,\n            },\n            {\n                name: \"Stealth\",\n                value: 3,\n            }\n        ],\n    },\n    {\n        name: \"Thief/Assassin\",\n        powerLevels: {\n            combat: 1,\n            social: 0,\n            general: 4,\n        },\n        skills: [\n            {\n                name: \"Coordination\",\n                value: 3,\n            },\n            {\n                name: \"Deception\",\n                value: 2,\n            },\n            {\n                name: \"Melee\",\n                value: 3,\n            },\n            {\n                name: \"Skulduggery\",\n                value: 4,\n            },\n            {\n                name: \"Stealth\",\n                value: 5,\n            },\n            {\n                name: \"Streetwise\",\n                value: 3,\n            },\n            {\n                name: \"Vigilance\",\n                value: 1,\n            }\n        ],\n    },\n    {\n        name: \"Researcher\",\n        powerLevels: {\n            combat: 0,\n            social: 0,\n            general: 5,\n        },\n        skills: [\n            {\n                name: \"Astrocartography\",\n                value: 5,\n            },\n            {\n                name: \"Computers\",\n                value: 3,\n            },\n            {\n                name: \"Discipline\",\n                value: 2,\n            },\n            {\n                name: \"Skulduggery\",\n                value: 4,\n            },\n            {\n                name: \"Knowledge\",\n                value: 5,\n            },\n            {\n                name: \"Perception\",\n                value: 4,\n            }\n        ],\n    },\n    {\n        name: \"Natural Philosopher\",\n        powerLevels: {\n            combat: 0,\n            social: 0,\n            general: 3,\n        },\n        skills: [\n            {\n                name: \"Alchemy\",\n                value: 4,\n            },\n            {\n                name: \"Knowledge\",\n                value: 4,\n            },\n            {\n                name: \"Medicine\",\n                value: 2,\n            },\n            {\n                name: \"Negotiation\",\n                value: 1,\n            },\n            {\n                name: \"Perception\",\n                value: 2,\n            }\n        ],\n    },\n    {\n        name: \"Doctor\",\n        powerLevels: {\n            combat: 0,\n            social: 1,\n            general: 2,\n        },\n        skills: [\n            {\n                name: \"Cool\",\n                value: 2,\n            },\n            {\n                name: \"Discipline\",\n                value: 2,\n            },\n            {\n                name: \"Leadership\",\n                value: 1,\n            },\n            {\n                name: \"Medicine\",\n                value: 4,\n            },\n            {\n                name: \"Melee\",\n                value: 1,\n            }\n        ],\n    },\n    {\n        name: \"Knight/Warrior Leader\",\n        powerLevels: {\n            combat: 1,\n            social: 2,\n            general: 2,\n        },\n        skills: [\n            {\n                name: \"Athletics\",\n                value: 1,\n            },\n            {\n                name: \"Discipline\",\n                value: 2,\n            },\n            {\n                name: \"Driving\",\n                value: 3,\n            },\n            {\n                name: \"Leadership\",\n                value: 3,\n            },\n            {\n                name: \"Melee\",\n                value: 4,\n            },\n            {\n                name: \"Riding\",\n                value: 3,\n            }\n        ],\n    },\n    {\n        name: \"Captain of a Vessel\",\n        powerLevels: {\n            combat: 1,\n            social: 2,\n            general: 3,\n        },\n        skills: [\n            {\n                name: \"Astrocartography\",\n                value: 4,\n            },\n            {\n                name: \"Coercion\",\n                value: 2,\n            },\n            {\n                name: \"Discipline\",\n                value: 3,\n            },\n            {\n                name: \"Leadership\",\n                value: 4,\n            },\n            {\n                name: \"Operating\",\n                value: 4,\n            },\n            {\n                name: \"Ranged\",\n                value: 3,\n            }\n        ],\n    },\n    {\n        name: \"Politician/Official\",\n        powerLevels: {\n            combat: 0,\n            social: 3,\n            general: 1,\n        },\n        skills: [\n            {\n                name: \"Charm\",\n                value: 4,\n            },\n            {\n                name: \"Coercion\",\n                value: 2,\n            },\n            {\n                name: \"Cool\",\n                value: 2,\n            },\n            {\n                name: \"Leadership\",\n                value: 3,\n            },\n            {\n                name: \"Negotiation\",\n                value: 5,\n            },\n            {\n                name: \"Vigilance\",\n                value: 1,\n            }\n        ],\n    },\n    {\n        name: \"Mage\",\n        powerLevels: {\n            combat: 2,\n            social: 0,\n            general: 2,\n        },\n        skills: [\n            {\n                name: \"Alchemy\",\n                value: 2,\n            },\n            {\n                name: \"Arcana\",\n                value: 4,\n            },\n            {\n                name: \"Coercion\",\n                value: 2,\n            },\n            {\n                name: \"Knowledge\",\n                value: 4,\n            },\n        ],\n    },\n    {\n        name: \"Priest\",\n        powerLevels: {\n            combat: 2,\n            social: 1,\n            general: 2,\n        },\n        skills: [\n            {\n                name: \"Charm\",\n                value: 2,\n            },\n            {\n                name: \"Discipline\",\n                value: 3,\n            },\n            {\n                name: \"Divine\",\n                value: 4,\n            },\n            {\n                name: \"Knowledge\",\n                value: 4,\n            },\n        ],\n    },\n    {\n        name: \"Druid\",\n        powerLevels: {\n            combat: 2,\n            social: 0,\n            general: 2,\n        },\n        skills: [\n            {\n                name: \"Knowledge\",\n                value: 4,\n            },\n            {\n                name: \"Primal\",\n                value: 4,\n            },\n            {\n                name: \"Survival\",\n                value: 3,\n            },\n            {\n                name: \"Vigilance\",\n                value: 2,\n            },\n        ],\n    },\n    {\n        name: \"Pilot/Driver/Rider\",\n        powerLevels: {\n            combat: 1,\n            social: 0,\n            general: 3,\n        },\n        skills: [\n            {\n                name: \"Cool\",\n                value: 2,\n            },\n            {\n                name: \"Coordination\",\n                value: 3,\n            },\n            {\n                name: \"Driving\",\n                value: 4,\n            },\n            {\n                name: \"Piloting\",\n                value: 4,\n            },\n            {\n                name: \"Ranged\",\n                value: 3,\n            },\n            {\n                name: \"Riding\",\n                value: 4,\n            }\n        ],\n    },\n    {\n        name: \"Merchant\",\n        powerLevels: {\n            combat: 0,\n            social: 3,\n            general: 0,\n        },\n        skills: [\n            {\n                name: \"Charm\",\n                value: 2,\n            },\n            {\n                name: \"Deception\",\n                value: 3,\n            },\n            {\n                name: \"Negotiation\",\n                value: 3,\n            },\n            {\n                name: \"Perception\",\n                value: 2,\n            },\n            {\n                name: \"Vigilance\",\n                value: 3,\n            }\n        ],\n    },\n    {\n        name: \"Crime Boss\",\n        powerLevels: {\n            combat: 2,\n            social: 3,\n            general: 1,\n        },\n        skills: [\n            {\n                name: \"Brawl\",\n                value: 4,\n            },\n            {\n                name: \"Coercion\",\n                value: 5,\n            },\n            {\n                name: \"Discipline\",\n                value: 2,\n            },\n            {\n                name: \"Leadership\",\n                value: 2,\n            },\n            {\n                name: \"Ranged\",\n                value: 2,\n            },\n            {\n                name: \"Streetwise\",\n                value: 4,\n            }\n        ],\n    },\n    {\n        name: \"Bureaucrat\",\n        powerLevels: {\n            combat: 0,\n            social: 3,\n            general: 1,\n        },\n        skills: [\n            {\n                name: \"Cool\",\n                value: 3,\n            },\n            {\n                name: \"Discipline\",\n                value: 3,\n            },\n            {\n                name: \"Knowledge\",\n                value: 2,\n            },\n            {\n                name: \"Negotiation\",\n                value: 2,\n            },\n            {\n                name: \"Vigilance\",\n                value: 3,\n            }\n        ],\n    },\n    {\n        name: \"Mechanic\",\n        powerLevels: {\n            combat: 0,\n            social: 0,\n            general: 3,\n        },\n        skills: [\n            {\n                name: \"Athletics\",\n                value: 2,\n            },\n            {\n                name: \"Brawl\",\n                value: 1,\n            },\n            {\n                name: \"Computers\",\n                value: 1,\n            },\n            {\n                name: \"Mechanics\",\n                value: 4,\n            },\n            {\n                name: \"Resilience\",\n                value: 3,\n            }\n        ],\n    },\n    {\n        name: \"Hacker\",\n        powerLevels: {\n            combat: 0,\n            social: 1,\n            general: 3,\n        },\n        skills: [\n            {\n                name: \"Computers\",\n                value: 5,\n            },\n            {\n                name: \"Cool\",\n                value: 2,\n            },\n            {\n                name: \"Deception\",\n                value: 2,\n            },\n            {\n                name: \"Streetwise\",\n                value: 2,\n            }\n        ],\n    },\n    {\n        name: \"Criminal Tough\",\n        powerLevels: {\n            combat: 0,\n            social: 1,\n            general: 2,\n        },\n        skills: [\n            {\n                name: \"Brawl\",\n                value: 2,\n            },\n            {\n                name: \"Coercion\",\n                value: 3,\n            },\n            {\n                name: \"Resilience\",\n                value: 3,\n            },\n            {\n                name: \"Skulduggery\",\n                value: 3,\n            },\n            {\n                name: \"Streetwise\",\n                value: 2,\n            }\n        ],\n    },\n    {\n        name: \"Investigator\",\n        powerLevels: {\n            combat: 0,\n            social: 2,\n            general: 3,\n        },\n        skills: [\n            {\n                name: \"Charm\",\n                value: 2,\n            },\n            {\n                name: \"Coercion\",\n                value: 2,\n            },\n            {\n                name: \"Discipline\",\n                value: 3,\n            },\n            {\n                name: \"Perception\",\n                value: 3,\n            },\n            {\n                name: \"Streetwise\",\n                value: 3,\n            },\n            {\n                name: \"Survival\",\n                value: 3,\n            },\n            {\n                name: \"Vigilance\",\n                value: 3,\n            }\n        ],\n    },\n    {\n        name: \"Wrangler/Survivalist\",\n        powerLevels: {\n            combat: 0,\n            social: 0,\n            general: 3,\n        },\n        skills: [\n            {\n                name: \"Athletics\",\n                value: 4,\n            },\n            {\n                name: \"Coordination\",\n                value: 2,\n            },\n            {\n                name: \"Perception\",\n                value: 3,\n            },\n            {\n                name: \"Ranged\",\n                value: 2,\n            },\n            {\n                name: \"Riding\",\n                value: 3,\n            },\n            {\n                name: \"Survival\",\n                value: 4,\n            }\n        ],\n    },\n    {\n        name: \"Cop/Town Guard\",\n        powerLevels: {\n            combat: 1,\n            social: 1,\n            general: 0,\n        },\n        skills: [\n            {\n                name: \"Coercion\",\n                value: 2,\n            },\n            {\n                name: \"Driving\",\n                value: 2,\n            },\n            {\n                name: \"Leadership\",\n                value: 2,\n            },\n            {\n                name: \"Melee\",\n                value: 2,\n            },\n            {\n                name: \"Ranged\",\n                value: 2,\n            }\n        ],\n    }\n];\n","/*\nImportant: The data and text in this file are not covered by the GPL\nDescriptions and some names are copyright and owned by Fantasy Flight Games, no copyright\nclaim is intended by application author(s)\n*/\nimport { IPowerLevels } from \"../Classes/Adversary\";\n\nexport interface IAdversaryTalent {\n    name: string;\n    book: string;\n    page: string;\n    description: string;\n    powerLevels: IPowerLevels;\n}\n\nexport const AdversaryTalents: IAdversaryTalent[] = [\n    {\n        name: \"Adversary 1\",\n        description: \"upgrade difficulty of all combat checks against this by [rank]\",\n        book: \"Core\",\n        page: \"131\",\n        powerLevels: {\n            combat: 0,\n            social: 0,\n            general: 0,\n        }\n    },\n    {\n        name: \"Adversary 2\",\n        description: \"upgrade difficulty of all combat checks against this target twice\",\n        book: \"Core\",\n        page: \"131\",\n        powerLevels: {\n            combat: 1,\n            social: 0,\n            general: 0,\n        }\n    },\n    {\n        name: \"Adversary 3\",\n        description: \"upgrade difficulty of all combat checks against this target three times\",\n        book: \"Core\",\n        page: \"131\",\n        powerLevels: {\n            combat: 2,\n            social: 0,\n            general: 0,\n        }\n    },\n    {\n        name: \"Animal Companion\",\n        description: \"has a silhouette 0 animal companion; once per round, may spend a maneuver to direct the animal to perform one action and one maneuver during this character's turn\",\n        book: \"Core\",\n        page: \"77\",\n        powerLevels: {\n            combat: 1,\n            social: 0,\n            general: 1,\n        }\n    },\n    {\n        name: \"Barrel Roll\",\n        description: \"when piloting a starfighter or air-plane of silhouette 3 or less, after suffering a hit, may suffer 3 system strain to reduce the damage by four as an incidental\",\n        book: \"Core\",\n        page: \"77\",\n        powerLevels: {\n            combat: 1,\n            social: 0,\n            general: 0,\n        }\n    },\n    {\n        name: \"Berserk\",\n        description: \"Once per encounter, your character may use this talent. Until the end of the encounter or until they are incapacitated, your character adds [success] [advantage] [advantage] to all melee combat checks they make. However, opponents add [success] to all combat checks targeting your character. While berserk, your character cannot make ranged combat checks.\",\n        book: \"Core\",\n        page: \"75\",\n        powerLevels: {\n            combat: 0,\n            social: 0,\n            general: 0,\n        }\n    },\n    {\n        name: \"Brilliant Casting\",\n        description: \"When casting a spell may spend one Story Point to use this talent to add [advantage] equal to your character’s ranks in Knowledge to the results.\",\n        book: \"EPG\",\n        page: \"95\",\n        powerLevels: {\n            combat: 1,\n            social: 0,\n            general: 0,\n        }\n    },\n    {\n        name: \"Clever Retort\",\n        description: \"once per encounter, add [threat] [threat] to another character’s social skill check\",\n        book: \"Core\",\n        page: \"73\",\n        powerLevels: {\n            combat: 0,\n            social: 0,\n            general: 0,\n        }\n    },\n    {\n        name: \"Coordinated Assault 3\",\n        description: \"once per turn, may spend a maneuver to add [advantage] to the results of all combat checks made by five allies within long range until the end of this character’s next turn\",\n        book: \"Core\",\n        page: \"75\",\n        powerLevels: {\n            combat: 1,\n            social: 0,\n            general: 0,\n        }\n    },\n    {\n        name: \"Distinctive Style\",\n        description: \"When making a Computers check to hack a system or break into a secured network, before rolling, your character may use this talent to add [success] [success] [threat] [threat] to the results.\",\n        book: \"Core\",\n        page: \"78\",\n        powerLevels: {\n            combat: 0,\n            social: 0,\n            general: 1,\n        }\n    },\n    {\n        name: \"Dual Wielder\",\n        description: \"Your character may use this talent to decrease the difficulty of the next combined combat check (see Two- Weapon Combat, on page 108) they make during the same turn by one.\",\n        book: \"Core\",\n        page: \"76\",\n        powerLevels: {\n            combat: 1,\n            social: 0,\n            general: 0,\n        }\n    },\n    {\n        name: \"Duelist\",\n        description: \"Your character adds [boost] to their melee combat checks while engaged with a single opponent. Your character adds [setback] to their melee combat checks while engaged with three or more opponents.\",\n        book: \"Core\",\n        page: \"73\",\n        powerLevels: {\n            combat: 0,\n            social: 0,\n            general: 0,\n        }\n    },\n    {\n        name: \"Elementalist\",\n        description: \"Whenever your character casts an Attack spell, they always add the chosen effect to the spell without increasing the difficulty.\",\n        book: \"EPG\",\n        page: \"95\",\n        powerLevels: {\n            combat: 0,\n            social: 0,\n            general: 0,\n        }\n    },\n    {\n        name: \"Explosive Casting\",\n        description: \"When your character casts an attack spell, they treat the spell’s Blast quality as having a rating equal to twice your character’s ranks in Knowledge (instead of their ranks in Knowledge). When your character casts an Attack spell with the Blast effect, you may spend one Story Point to use this talent to trigger the spell’s Blast quality, instead of spending [advantage] (even if the attack misses)\",\n        book: \"EPG\",\n        page: \"96\",\n        powerLevels: {\n            combat: 1,\n            social: 0,\n            general: 0,\n        }\n    },\n    {\n        name: \"Face of the Wild\",\n        description: \"When your character casts a transform spell on themself using the Primal skill, you may spend a Story Point to have them use this talent to maintain the effects of the spell until the end of the encounter, without performing concentrate maneuvers.\",\n        book: \"EPG\",\n        page: \"97\",\n        powerLevels: {\n            combat: 1,\n            social: 0,\n            general: 1,\n        }\n    },\n    {\n        name: \"Field Commander\",\n        description: \"Your character may use this talent to make an Average ([difficulty] [difficulty]) Leadership check. If successful, a number of allies equal to your character’s Presence may immediately suffer 1 strain to perform one maneuver (out of turn). If there are any questions as to which allies take their maneuvers first, your character is the final arbiter.\",\n        book: \"Core\",\n        page: \"78\",\n        powerLevels: {\n            combat: 1,\n            social: 0,\n            general: 0,\n        }\n    },\n    {\n        name: \"Flicker Step\",\n        description: \"When your character casts a spell using the Arcana skill, they may use this talent to spend [advantage] [advantage] [advantage] or [triumph] to instantly vanish and reappear at any location within long range.\",\n        book: \"EPG\",\n        page: \"97\",\n        powerLevels: {\n            combat: 1,\n            social: 0,\n            general: 1,\n        }\n    },\n    {\n        name: \"Grenadier\",\n        description: \"When your character makes a ranged combat check with a weapon that has the Blast item quality, you may spend one Story Point to use this talent to trigger the weapon’s Blast quality, instead of spending [advantage] (even if the attack misses). In addition, your character treats grenades as having a range of medium.\",\n        book: \"Core\",\n        page: \"79\",\n        powerLevels: {\n            combat: 1,\n            social: 0,\n            general: 0,\n        }\n    },\n    {\n        name: \"Hamstring Shot\",\n        description: \"Once per round, your character may use this talent to perform a ranged combat check against one non-vehicle target within range of the weapon used. If the check is successful, halve the damage inflicted by the attack (before reducing damage by the target’s soak). The target is immobilized until the end of its next turn.\",\n        book: \"Core\",\n        page: \"73\",\n        powerLevels: {\n            combat: 0,\n            social: 0,\n            general: 0,\n        }\n    },\n    {\n        name: \"Improved Field Commander\",\n        description: \"Your character must have purchased the Field Commander talent to benefit from this talent. When your character uses the Field Commander talent, your character affects a number of allies equal to twice the character’s Presence. In addition, you may spend [triumph] to allow one ally to suffer 1 strain to perform an action, instead of a maneuver.\",\n        book: \"Core\",\n        page: \"80\",\n        powerLevels: {\n            combat: 2,\n            social: 0,\n            general: 1,\n        }\n    },\n    {\n        name: \"Improved Inspiring Rhetoric\",\n        description: \"Your character must have purchased the Inspiring Rhetoric talent to benefit from this talent. Allies affected by your character’s Inspiring Rhetoric add [boost] to all skill checks they make for a number of rounds equal to your character’s ranks in Leadership.\",\n        book: \"Core\",\n        page: \"76 and 78\",\n        powerLevels: {\n            combat: 0,\n            social: 0,\n            general: 1,\n        }\n    },\n    {\n        name: \"Improved Parry\",\n        description: \"When your character suffers a hit from a melee combat check and uses Parry to reduce the damage from that hit, after the attack is resolved, you may spend [despair] or [threat] [threat] [threat] from the attacker’s check to use this talent. Then, your character automatically hits the attacker once with a Brawl or Melee weapon your character is wielding. The hit deals the weapon’s base damage, plus any damage from applicable talents or abilities. Your character can’t use this talent if the original attack incapacitates them.\",\n        book: \"Core\",\n        page: \"79\",\n        powerLevels: {\n            combat: 1,\n            social: 0,\n            general: 0,\n        }\n    },\n    {\n        name: \"Improved Scathing Tirade\",\n        description: \"Enemies affected by your character’s Scathing Tirade add [setback] to all skill checks they make for a number of rounds equal to your character’s ranks in Coercion.\",\n        book: \"Core\",\n        page: \"77 and 79\",\n        powerLevels: {\n            combat: 0,\n            social: 1,\n            general: 0,\n        }\n    },\n    {\n        name: \"Indomitable\",\n        description: \"Once per encounter, when your character would be incapacitated due to exceeding their wound or strain threshold, you may spend a Story Point to use this talent. Then, your character is not incapacitated until the end of their next turn. If your character reduces their strain or wounds to below their threshold before the end of their next turn, they are not incapacitated.\",\n        book: \"Core\",\n        page: \"81\",\n        powerLevels: {\n            combat: 1,\n            social: 1,\n            general: 0,\n        }\n    },\n    {\n        name: \"Lucky Strike\",\n        description: \"When your character purchases this talent, choose one characteristic. After your character makes a successful combat check, you may spend one Story Point to use this talent to add damage equal to your character’s ranks in that characteristic to one hit of the combat check.\",\n        book: \"Core\",\n        page: \"76\",\n        powerLevels: {\n            combat: 1,\n            social: 0,\n            general: 0,\n        }\n    },\n    {\n        name: \"Master\",\n        description: \"When you purchase this talent for your character, choose one skill. Once per round, your character may suffer 2 strain to use this talent to reduce the difficulty of the next check they make using that skill by two, to a minimum of Easy ([difficulty]).\",\n        book: \"Core\",\n        page: \"81\",\n        powerLevels: {\n            combat: 1,\n            social: 1,\n            general: 1,\n        }\n    },\n    {\n        name: \"Masterful Casting\",\n        description: \"\",\n        book: \"EPG\",\n        page: \"97\",\n        powerLevels: {\n            combat: 1,\n            social: 0,\n            general: 0,\n        }\n    },\n    {\n        name: \"Natural\",\n        description: \"When your character purchases this talent, choose two skills. Once per session, your character may use this talent to reroll one skill check that uses one of those two skills.\",\n        book: \"Core\",\n        page: \"79\",\n        powerLevels: {\n            combat: 1,\n            social: 1,\n            general: 1,\n        }\n    },\n    {\n        name: \"Parry 3\",\n        description: \"When this character suffers a hit from a melee combat check, after damage is calculated, but before soak is applied, they may suffer 3 strain to reduce the damage of the hit by five\",\n        book: \"Core\",\n        page: \"74\",\n        powerLevels: {\n            combat: 1,\n            social: 0,\n            general: 0,\n        }\n    },\n    {\n        name: \"Quick Draw\",\n        description: \"Once per round on your character’s turn, they may use this talent to draw or holster an easily accessible weapon or item as an incidental. Quick Draw also reduces a weapon’s Prepare rating by one, to a minimum of one.\",\n        book: \"Core\",\n        page: \"74\",\n        powerLevels: {\n            combat: 0,\n            social: 0,\n            general: 0,\n        }\n    },\n    {\n        name: \"Ruinous Repartee\",\n        description: \"Once per encounter, your character may use this talent to make an opposed Charm or Coercion versus Discipline check targeting one character within medium range (or within earshot). If successful, the target suffers strain equal to twice your character’s Presence, plus one additional strain per [success]. Your character heals strain equal to the strain inflicted.\",\n        book: \"Core\",\n        page: \"81\",\n        powerLevels: {\n            combat: 0,\n            social: 2,\n            general: 0,\n        }\n    },\n    {\n        name: \"Second Wind 4\",\n        description: \"Once per encounter, your character may use this talent to heal an amount of strain equal to their ranks in Second Wind.\",\n        book: \"Core\",\n        page: \"81\",\n        powerLevels: {\n            combat: 0,\n            social: 1,\n            general: 0,\n        }\n    },\n    {\n        name: \"Strength of Faith\",\n        description: \"Once per session, your character may use this talent to add [success] equal to their ranks in Discipline and [advantage] equal to their ranks in Willpower to the results of the next Divine skill check they make during this turn.\",\n        book: \"EPG\",\n        page: \"97\",\n        powerLevels: {\n            combat: 1,\n            social: 0,\n            general: 1,\n        }\n    },\n    {\n        name: \"Surgeon 2\",\n        description: \"when making Medicine checks to heal wounds, heals 2 additional wounds\",\n        book: \"Core\",\n        page: \"74\",\n        powerLevels: {\n            combat: 0,\n            social: 0,\n            general: 1,\n        }\n    }\n\n]\n","/*\nImportant: The data and text in this file are not covered by the GPL\nDescriptions and some names are copyright and owned by Fantasy Flight Games, no copyright\nclaim is intended by application author(s)\n*/\nimport { IPowerLevels } from \"../Classes/Adversary\";\n\nexport interface IAdversarySpecialAbility{\n    name: string;\n    description: string;\n    examples: string;\n    powerLevels: IPowerLevels;\n}\n\nexport const AdversarySpecialAbilities: IAdversarySpecialAbility[] = [\n    {\n        name: \"Aquatic\",\n        description: 'This adversary may breathe underwater and never suffers movement penalties for traveling through water, but cannot survive on land.',\n        examples: \"Fish or sea-going creatures\",\n        powerLevels: {\n            combat: 0,\n            social: 0,\n            general: 1,\n        }\n    },\n    {\n        name: \"Amphibious\",\n        description: 'This adversary may breathe underwater and never suffers movement penalties for traveling through water.',\n        examples: \"Fish or sea-going creatures\",\n        powerLevels: {\n            combat: 0,\n            social: 0,\n            general: 1,\n        }\n    },\n    {\n        name: \"Flyer\",\n        description: 'This adversary can fly; see page 100 of the Genesys Core Rulebook.',\n        examples: \"Flying creatures\",\n        powerLevels: {\n            combat: 0,\n            social: 0,\n            general: 1,\n        }\n    },\n    {\n        name: \"Ghostly\",\n        description: 'This adversary may move over or through terrain (including doors and walls) without penalty. Halve the damage dealt to this adversary before applying soak, unless the attack came from a magical or supernatural source such as a spell, a blessed weapon, or another spirit.',\n        examples: \"Ghosts, spirits, or ethereal beings\",\n        powerLevels: {\n            combat: 2,\n            social: 0,\n            general: 1,\n        }\n    },\n    {\n        name: \"Know Your Foe\",\n        description: 'If this adversary knows an opponent\\'s (pick one facet) Motivation, when this adversary inflicts strain on the  opponent, the opponent suffers 3 additional strain.',\n        examples: \"Sentient rivals and nemeses designed for social encounters\",\n        powerLevels: {\n            combat: 0,\n            social: 1,\n            general: 0,\n        }\n    },\n    {\n        name: \"Loyal Followers\",\n        description: 'Once per round when this adversary is targeted by a combat check, they may choose one ally within short range, and the attack then targets the ally instead of this adversary.',\n        examples: \"Nemesis leaders with fanatical or devoted followers\",\n        powerLevels: {\n            combat: 1,\n            social: 0,\n            general: 0,\n        }\n    },\n    {\n        name: \"Mechanical\",\n        description: 'This adversary does not need to breathe, eat, or drink, and can survive in a vacuum and underwater. They are immune to poisons and toxins.',\n        examples: \"Robots or drones\",\n        powerLevels: {\n            combat: 0,\n            social: 0,\n            general: 2,\n        }\n    },\n    {\n        name: \"Undead\",\n        description: 'This adversary does not need to breathe, eat, or drink, and can survive in a vacuum and underwater. They are immune to poisons and toxins.',\n        examples: \"Undead adversaries\",\n        powerLevels: {\n            combat: 0,\n            social: 0,\n            general: 2,\n        }\n    },\n    {\n        name: \"Mental Weakness\",\n        description: 'If an opponent knows the adversary\\'s (pick one type) Motivation, when the opponent inflicts strain on the adversary, the adversary suffers 2 additional strain.',\n        examples: \"Any character with a pronounced character flaw\",\n        powerLevels: {\n            combat: 0,\n            social: -1,\n            general: 0,\n        }\n    },\n    {\n        name: \"Ominous Reputation\",\n        description: 'When an opponent targets this adversary with a check, the opponent suffers 2 strain',\n        examples: \"Powerful nemeses with a fearsome reputation\",\n        powerLevels: {\n            combat: 1,\n            social: 2,\n            general: 0,\n        }\n    },\n    {\n        name: \"One Step Ahead\",\n        description: 'Once per round, after an opponent performs an action or maneuver, you may spend one Story Point to have this adversary perform an action or maneuver as an out-of-turn incidental.',\n        examples: \"Powerful nemeses who combat the PCs alone\",\n        powerLevels: {\n            combat: 2,\n            social: 1,\n            general: 0,\n        }\n    },\n    {\n        name: \"Pack Fighter\",\n        description: 'If this adversary makes a successful combat check, the next ally making a combat check against the same target during the same round Combat +1, Social +0, General +0 adds [advantage][advantage] to the results.',\n        examples: \"Creatures that fight in groups\",\n        powerLevels: {\n            combat: 1,\n            social: 0,\n            general: 0,\n        }\n    },\n    {\n        name: \"Pounce\",\n        description: 'Once per turn, while at short range this adversary may perform the move maneuver to engage a target as an incidental.',\n        examples: \"Fast creatures that can leap or lunge at foes\",\n        powerLevels: {\n            combat: 0,\n            social: 0,\n            general: 0,\n        }\n    },\n    {\n        name: \"Swarm\",\n        description: 'Halve the damage dealt to this adversary before applying soak, unless the attack has the Blast or Burn quality (regardless of whether the quality is activated).',\n        examples: \"A single profile representing a swarm of bugs or vermin\",\n        powerLevels: {\n            combat: 1,\n            social: 0,\n            general: 0,\n        }\n    },\n    {\n        name: \"Tactical Direction\",\n        description: 'This adversary may spend a maneuver to direct one friendly minion group within medium range. That group may immediately perform a maneuver as an out-of-turn incidental or add [boost] to the next check they make.',\n        examples: \"Rivals and nemeses who lead or direct small groups\",\n        powerLevels: {\n            combat: 0,\n            social: 0,\n            general: 0,\n        }\n    },\n    {\n        name: \"Environmental Vulnerability\",\n        description: 'When exposed to extreme heat, cold, or another environmental effect (pick one), this adversary adds [setback][setback] to all skill checks it makes.',\n        examples: \"Creatures adapted to living in certain climates\",\n        powerLevels: {\n            combat: -1,\n            social: -1,\n            general: -1,\n        }\n    },\n    {\n        name: \"Terrifying\",\n        description: 'At the start of the encounter, all opponents must make a Hard ([difficulty][difficulty][difficulty]) fear check as an out-of-turn incidental, as per page 243 of the Genesys Core Rulebook. If there are multiple sources of fear  in the encounter, the opponents only make one fear check against the most terrifying enemy.',\n        examples: \"Large monsters, creatures, and individuals who are incredibly frightening\",\n        powerLevels: {\n            combat: 1,\n            social: 1,\n            general: 1,\n        }\n    }\n];","export function replaceAll(\n    incoming: string,\n    findString: string,\n    replaceWith: string,\n): string {\n    let processedString = incoming;\n    while( processedString.indexOf(findString) > -1 ) {\n        processedString = processedString.replace( findString, replaceWith);\n    }\n    return processedString;\n}\n\nexport function replaceDieTags(\n    incomingString: string,\n    starWarDice: boolean = false,\n    extension: string = \"png\",\n    size: string = \"\",\n) {\n\n    // let sizeExtension = \"\";\n    // if( size ) {\n    //     sizeExtension = \"-\" + size + \".\" + extension;\n    // } else {\n    let sizeExtension = \".\" + extension\n    let heightTag = \"\";\n    if( size ) {\n        heightTag = \"width=\\\"\" + size + \"px\\\" height=\\\"\" + size + \"px\\\"\";\n    }\n    // }\n\n    let proficiency = \"<img \" + heightTag + \" class=\\\"inline-die-png\\\" src=\\\"./img/proficiency-die\" + sizeExtension + \"\\\" />\";\n    let ability = \"<img \" + heightTag + \" class=\\\"inline-die-png\\\" src=\\\"./img/ability-die\" + sizeExtension + \"\\\" />\";\n    let boost = \"<img \" + heightTag + \" class=\\\"inline-die-png\\\" src=\\\"./img/boost-die\" + sizeExtension + \"\\\" />\";\n\n    let setback = \"<img \" + heightTag + \" class=\\\"inline-die-png\\\" src=\\\"./img/setback-die\" + sizeExtension + \"\\\" />\";\n    let difficulty = \"<img \" + heightTag + \" class=\\\"inline-die-png\\\" src=\\\"./img/difficulty-die\" + sizeExtension + \"\\\" />\";\n    let challenge = \"<img \" + heightTag + \" class=\\\"inline-die-png\\\" src=\\\"./img/challenge-die\" + sizeExtension + \"\\\" />\";\n\n    let force = \"<img \" + heightTag + \" class=\\\"inline-die-png\\\" src=\\\"./img/force-die\" + sizeExtension + \"\\\" />\";\n\n    let success = \"<img \" + heightTag + \" class=\\\"inline-die-png\\\" src=\\\"./img/success\" + sizeExtension + \"\\\" />\";\n    let advantage = \"<img \" + heightTag + \" class=\\\"inline-die-png\\\" src=\\\"./img/advantage\" + sizeExtension + \"\\\" />\";\n\n    let threat = \"<img \" + heightTag + \" class=\\\"inline-die-png\\\" src=\\\"./img/threat\" + sizeExtension + \"\\\" />\";\n    let failure = \"<img \" + heightTag + \" class=\\\"inline-die-png\\\" src=\\\"./img/failure\" + sizeExtension + \"\\\" />\";\n\n    let dispair = \"<img \" + heightTag + \" class=\\\"inline-die-png\\\" src=\\\"./img/dispair\" + sizeExtension + \"\\\" />\";\n    let triumph = \"<img \" + heightTag + \" class=\\\"inline-die-png\\\" src=\\\"./img/triumph\" + sizeExtension + \"\\\" />\";\n\n    incomingString = replaceAll( incomingString, \"[proficiency]\", proficiency);\n    incomingString = replaceAll( incomingString, \"[ability]\", ability)\n    incomingString = replaceAll( incomingString, \"[boost]\", boost);\n\n    incomingString = replaceAll( incomingString, \"[setback]\", setback);\n    incomingString = replaceAll( incomingString, \"[difficulty]\", difficulty);\n    incomingString = replaceAll( incomingString, \"[challenge]\", challenge);\n\n    incomingString = replaceAll( incomingString, \"[force]\", force);\n\n    incomingString = replaceAll( incomingString, \"[success]\", success);\n    incomingString = replaceAll( incomingString, \"[advantage]\", advantage);\n\n    incomingString = replaceAll( incomingString, \"[threat]\", threat);\n    incomingString = replaceAll( incomingString, \"[failure]\", failure);\n\n    incomingString = replaceAll( incomingString, \"[dispair]\", dispair);\n    incomingString = replaceAll( incomingString, \"[triumph]\", triumph);\n\n    return incomingString;\n}","import React from 'react';\nimport './AdversaryCreator.scss';\nimport {IAppGlobals} from '../AppRouter';\nimport UIPage from '../Components/UIPage';\nimport { Adversary, IAdversarySave } from '../Classes/Adversary';\nimport { AdversaryTypes } from '../Data/AdversaryTypes';\nimport { AdversaryCharacteristicArrays, IAdversaryCharacteristicArray } from '../Data/AdversaryCharacteristicArrays';\nimport { AdversarySoakDefWoundStrain, IAdversarySoakDefWoundStrain } from '../Data/AdversarySoakDefWoundStrain';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTrash } from '@fortawesome/free-solid-svg-icons';\nimport { AdversarySkillPackages, IAdversarySkillPackage } from '../Data/AdversarySkillPackages';\nimport { AdversaryTalents, IAdversaryTalent } from '../Data/AdversaryTalents';\nimport { AdversarySpecialAbilities, IAdversarySpecialAbility } from '../Data/AdversarySpecialAbilities';\nimport SanitizedHTML from '../Components/SanitizedHTML';\nimport domtoimage from 'dom-to-image';\nimport { replaceDieTags } from '../utils';\n// import FileSaver from 'file-saver';\n\nexport default class AdversaryCreator extends React.Component<IAdversaryCreatorProps, IAdversaryCreatorState> {\n\n    constructor(props: IAdversaryCreatorProps) {\n        super(props);\n\n        let lsData = localStorage.getItem(\"editing_adversary\");\n        let editData: IAdversarySave | null = null\n        if( lsData ) {\n          editData = JSON.parse( lsData );\n        }\n\n\n        let lsValuesAsDice = localStorage.getItem(\"values_as_dice\");\n        let valuesAsDice: boolean = false;\n        if( lsValuesAsDice && +lsValuesAsDice > 0) {\n          valuesAsDice = true;\n        }\n\n        this.state = {\n            updated: false,\n            workingEdit: new Adversary(editData),\n            soakDefWoundStrainSelect: null,\n            skillPackageSelect: null,\n            talentSelect: null,\n            specialAbilitiesSelect: null,\n            valuesAsDice: valuesAsDice,\n        }\n        this.updateName = this.updateName.bind(this);\n        this.updateType = this.updateType.bind(this);\n        this.updateCharacteristicArray = this.updateCharacteristicArray.bind(this);\n        this.updateSoakDefWoundStrainSelect = this.updateSoakDefWoundStrainSelect.bind(this);\n        this.updateDescription = this.updateDescription.bind(this);\n        this.addSelectedSoakDefWoundStrain = this.addSelectedSoakDefWoundStrain.bind(this);\n        this.addSelectedSkillPackage = this.addSelectedSkillPackage.bind(this);\n        this.updateSkillPackageSelect = this.updateSkillPackageSelect.bind(this);\n        this.updateSoakDefWoundStrainSelect = this.updateSoakDefWoundStrainSelect.bind(this);\n        this.addSelectedTalent = this.addSelectedTalent.bind(this);\n        this.updateTalentSelect = this.updateTalentSelect.bind(this);\n        this.addSelectedSpecialAbility = this.addSelectedSpecialAbility.bind(this);\n        this.updateSpecialAbilitySelect = this.updateSpecialAbilitySelect.bind(this);\n\n        this.removeSpecialAbility = this.removeSpecialAbility.bind(this);\n        this.removeSoakDefWoundStrain = this.removeSoakDefWoundStrain.bind(this);\n        this.removeSkillPackage = this.removeSkillPackage.bind(this);\n        this.removeTalent = this.removeTalent.bind(this);\n\n        this.toggleValuesAsDice = this.toggleValuesAsDice.bind(this);\n\n        this._refreshImages = this._refreshImages.bind(this);\n\n        this.props.appGlobals.makeDocumentTitle(\"AdversaryCreator\");\n    }\n\n    componentDidMount() {\n      this._refreshImages();\n    }\n\n    toggleValuesAsDice() {\n      let newValue = !this.state.valuesAsDice;\n      if( newValue )\n        localStorage.setItem(\"values_as_dice\", \"1\");\n      else\n        localStorage.setItem(\"values_as_dice\", \"0\");\n      this.setState( {\n        valuesAsDice: newValue,\n      })\n    }\n\n    removeSpecialAbility( indexNumber: number ) {\n      if( this.state.workingEdit.selectedSpecialAbilities.length > indexNumber ) {\n        let obj = this.state.workingEdit;\n        obj.selectedSpecialAbilities.splice( indexNumber, 1);\n        obj.calc();\n        this.saveLS();\n        this.setState({\n          workingEdit: obj,\n        })\n      }\n    }\n\n    removeSoakDefWoundStrain( indexNumber: number ) {\n      if( this.state.workingEdit.selectedSoakDefWoundStrain.length > indexNumber ) {\n        let obj = this.state.workingEdit;\n        obj.selectedSoakDefWoundStrain.splice( indexNumber, 1);\n        obj.calc();\n        this.saveLS();\n        this.setState({\n          workingEdit: obj,\n        })\n      }\n    }\n\n    removeSkillPackage( indexNumber: number ) {\n      if( this.state.workingEdit.selectedSkillPackages.length > indexNumber ) {\n        let obj = this.state.workingEdit;\n        obj.selectedSkillPackages.splice( indexNumber, 1);\n        obj.calc();\n        this.saveLS();\n        this.setState({\n          workingEdit: obj,\n        })\n      }\n    }\n\n    removeTalent( indexNumber: number ) {\n      if( this.state.workingEdit.selectedTalents.length > indexNumber ) {\n        let obj = this.state.workingEdit;\n        obj.selectedTalents.splice( indexNumber, 1);\n        obj.calc();\n        this.saveLS();\n        this.setState({\n          workingEdit: obj,\n        })\n      }\n    }\n\n    saveLS(\n      noImageUpdate: boolean = false,\n    ) {\n      if( noImageUpdate === false )\n        this._refreshImages();\n      let saveData: string = JSON.stringify( this.state.workingEdit.exportData() );\n      localStorage.setItem(\"editing_adversary\", saveData);\n    }\n\n    updateName( event: React.FormEvent<HTMLInputElement>) {\n      let obj = this.state.workingEdit;\n      obj.name = event.currentTarget.value;\n      this.saveLS( true );\n\n      this.setState({\n        workingEdit: obj,\n      })\n\n\n    }\n\n    _sortByName(\n      a: IAdversarySoakDefWoundStrain | IAdversarySkillPackage | IAdversaryTalent | IAdversarySpecialAbility | IAdversaryCharacteristicArray,\n      b: IAdversarySoakDefWoundStrain | IAdversarySkillPackage | IAdversaryTalent | IAdversarySpecialAbility | IAdversaryCharacteristicArray,\n    ): number {\n      if( a.name > b.name ) {\n        return 1\n      } else if( a.name < b.name ) {\n        return -1\n      } else {\n        return 0;\n      }\n    }\n\n    updateDescription( event: React.FormEvent<HTMLTextAreaElement>) {\n      let obj = this.state.workingEdit;\n      obj.description = event.currentTarget.value.split(\"\\n\");\n      this.saveLS( true );\n\n      this.setState({\n        workingEdit: obj,\n      })\n\n\n    }\n\n    updateType( event: React.FormEvent<HTMLSelectElement>) {\n      let obj = this.state.workingEdit;\n      obj.adversaryType = event.currentTarget.value;\n      obj.calc();\n      this.saveLS();\n\n      this.setState({\n        workingEdit: obj,\n      })\n\n\n    }\n\n    updateCharacteristicArray( event: React.FormEvent<HTMLSelectElement>) {\n      let obj = this.state.workingEdit;\n      for( let charArray of AdversaryCharacteristicArrays ) {\n        if( charArray.name === event.currentTarget.value ) {\n          obj.selectedAdversaryCharacteristicArray = charArray;\n        }\n      }\n      obj.calc();\n      this.saveLS();\n\n      this.setState({\n        workingEdit: obj,\n      })\n\n\n    }\n\n    updateSpecialAbilitySelect( event: React.FormEvent<HTMLSelectElement>) {\n      // let obj = this.state.workingEdit;\n      let selectedSpecialAbility: IAdversarySpecialAbility = AdversarySpecialAbilities[0];\n      for( let charArray of AdversarySpecialAbilities ) {\n        if( charArray.name === event.currentTarget.value ) {\n          selectedSpecialAbility = charArray;\n        }\n      }\n      // this.saveLS();\n\n      this.setState({\n        specialAbilitiesSelect: selectedSpecialAbility,\n      })\n\n\n    }\n\n    updateSkillPackageSelect( event: React.FormEvent<HTMLSelectElement>) {\n      // let obj = this.state.workingEdit;\n      let selectedSkillPackage: IAdversarySkillPackage = AdversarySkillPackages[0];\n      for( let charArray of AdversarySkillPackages ) {\n        if( charArray.name === event.currentTarget.value ) {\n          selectedSkillPackage = charArray;\n        }\n      }\n      // this.saveLS();\n\n      this.setState({\n        skillPackageSelect: selectedSkillPackage,\n      })\n\n\n    }\n\n    updateTalentSelect( event: React.FormEvent<HTMLSelectElement>) {\n      // let obj = this.state.workingEdit;\n      let selectedTalent: IAdversaryTalent = AdversaryTalents[0];\n      for( let charArray of AdversaryTalents ) {\n        if( charArray.name === event.currentTarget.value ) {\n          selectedTalent = charArray;\n        }\n      }\n      // this.saveLS();\n\n      this.setState({\n        talentSelect: selectedTalent,\n      })\n\n\n    }\n\n    updateSoakDefWoundStrainSelect( event: React.FormEvent<HTMLSelectElement>) {\n      // let obj = this.state.workingEdit;\n      let selectedSoakDefWoundStrain: IAdversarySoakDefWoundStrain = AdversarySoakDefWoundStrain[0];\n      for( let charArray of AdversarySoakDefWoundStrain ) {\n        if( charArray.name === event.currentTarget.value ) {\n          selectedSoakDefWoundStrain = charArray;\n        }\n      }\n      // this.saveLS();\n\n      this.setState({\n        soakDefWoundStrainSelect: selectedSoakDefWoundStrain,\n      })\n\n\n    }\n\n    addSelectedSpecialAbility() {\n      let obj = this.state.workingEdit;\n\n      if( this.state.specialAbilitiesSelect ) {\n        obj.selectedSpecialAbilities.push( this.state.specialAbilitiesSelect );\n        obj.calc();\n        this.saveLS();\n\n        this.setState({\n          workingEdit: obj,\n        })\n\n      }\n    }\n\n    addSelectedSkillPackage() {\n      let obj = this.state.workingEdit;\n\n      if( this.state.skillPackageSelect ) {\n        obj.selectedSkillPackages.push( this.state.skillPackageSelect );\n        obj.calc();\n        this.saveLS();\n\n        this.setState({\n          workingEdit: obj,\n        })\n\n      }\n    }\n\n    addSelectedTalent() {\n      let obj = this.state.workingEdit;\n\n      if( this.state.talentSelect ) {\n        obj.addTalent(  this.state.talentSelect );\n        obj.calc();\n        this.saveLS();\n\n        this.setState({\n          workingEdit: obj,\n        })\n\n      }\n    }\n\n    addSelectedSoakDefWoundStrain() {\n      let obj = this.state.workingEdit;\n\n      if( this.state.soakDefWoundStrainSelect ) {\n        obj.selectedSoakDefWoundStrain.push( this.state.soakDefWoundStrainSelect );\n        obj.calc();\n        this.saveLS();\n\n        this.setState({\n          workingEdit: obj,\n        })\n\n      }\n    }\n\n\n    _refreshImages() {\n      let nodeElement = document.getElementById('statblock');\n      if( nodeElement ) {\n        domtoimage\n          .toPng(nodeElement)\n          .then(\n\n            function (dataUrl) {\n              let nodeElement = document.getElementById('statblock-image') as HTMLImageElement;\n              if( nodeElement ) {\n                nodeElement.src = dataUrl;\n              }\n            }\n          );\n      }\n\n\n      let nodeElement2 = document.getElementById('power-level-box');\n\n      if( nodeElement2 ) {\n        domtoimage\n          .toPng(nodeElement2)\n          .then(\n            function (dataUrl) {\n              let nodeElement = document.getElementById('power-level-image') as HTMLImageElement;\n              if( nodeElement ) {\n                nodeElement.src = dataUrl;\n              }\n            }\n          );\n      }\n    }\n\n\n    render() {\n      return (\n        <UIPage current=\"adversary-creator\" appGlobals={this.props.appGlobals}>\n\n            <p className=\"text-center\">Using the <a target=\"buyme\" href=\"https://www.fantasyflightgames.com/en/products/genesys/products/expanded-players-guide/\">Expanded Players Guide</a>, this tool aims to make the calculations for creating and balancing your own adversaries quick and painless.</p>\n\n            <div className=\"row\">\n              <div className=\"col-md\">\n                <label>\n                  <input\n                    type=\"checkbox\"\n                    checked={this.state.valuesAsDice}\n                    onChange={this.toggleValuesAsDice}\n                  />&nbsp;Values As Dice\n                </label>\n\n<div className=\"relative\">\n  <div className=\"card-container\">\n    <div className=\"adversary-card front\">\n      <img\n        id=\"power-level-image\"\n        alt=\"Power Level Block\"\n        src=\"\"\n        />\n      <h1>\n        {this.state.workingEdit.name} [{this.state.workingEdit.adversaryType}]\n      </h1>\n      {this.state.workingEdit.description.map( (line, lineIndex) => {\n        return (\n          <p key={lineIndex}>{line}</p>\n        )\n      })}\n\n      <div className=\"text-center\">\n      <img\n        id=\"statblock-image\"\n        alt=\"Stat Block\"\n        src=\"\"\n      />\n      </div>\n      {this.state.workingEdit.getSkillList() ? (\n    <div>\n      <strong>Skills:&nbsp;</strong>\n        <SanitizedHTML\n          html={ replaceDieTags(\n            this.state.workingEdit.getSkillList( this.state.valuesAsDice ),\n            false,\n            \"png\",\n            \"16\"\n\n          )}\n          raw={true}\n        />\n\n    </div>\n      ) : (\n        <></>\n      )}\n    {this.state.workingEdit.getTalentList() ? (\n    <div>\n      <strong>Talents: </strong>&nbsp;\n        <SanitizedHTML\n          html={ replaceDieTags(\n            this.state.workingEdit.getTalentList(),\n            false,\n            \"png\",\n            \"16\"\n\n          )}\n          raw={true}\n        />\n    </div>\n    ) : (\n      <></>\n    )}\n    {this.state.workingEdit.getAbilitiesList() ? (\n    <div>\n      <strong>Abilities: </strong>&nbsp;\n        <SanitizedHTML\n          html={replaceDieTags(\n            this.state.workingEdit.getAbilitiesList(),\n            false,\n            \"png\",\n            \"16\"\n\n          )}\n          raw={true}\n        />\n    </div>\n    ) : (\n      <></>\n    )}\n    {this.state.workingEdit.getEquipmentList() ? (\n      <div>\n      <strong>Equipment: </strong>&nbsp;\n        <SanitizedHTML\n          html={replaceDieTags(\n            this.state.workingEdit.getEquipmentList(),\n            false,\n            \"png\",\n            \"16\"\n\n          )}\n          raw={true}\n        />\n    </div>\n    ) : (\n      <></>\n    )}\n\n    </div>\n\n\n\n  </div>\n  <div className=\"hidden\">\n      <div id=\"power-level-box\" className=\"power-level-box\">\n          <div className=\"pl-value pl-value1\">\n            {this.state.workingEdit.getPowerLevel().combat}\n          </div>\n          <div className=\"pl-value pl-value2\">\n            {this.state.workingEdit.getPowerLevel().social}\n          </div>\n          <div className=\"pl-value pl-value3\">\n            {this.state.workingEdit.getPowerLevel().general}\n          </div>\n        </div>\n                <div id=\"statblock\">\n                    <div className={this.state.workingEdit.adversaryType === \"Nemesis\" ? \"statblock nemesis\" : \"statblock minion-rival\"}>\n                      <div className=\"label label1\">\n                        brawn\n                      </div>\n                      <div className=\"label label2\">\n                        agility\n                      </div>\n                      <div className=\"label label3\">\n                        intellect\n                      </div>\n                      <div className=\"label label4\">\n                        cunning\n                      </div>\n                      <div className=\"label label5\">\n                        willpower\n                      </div>\n                      <div className=\"label label6\">\n                        presence\n                      </div>\n                      <div className=\"value value1\">\n                        {this.state.workingEdit.getBrawn()}\n                      </div>\n                      <div className=\"value value2\">\n                      {this.state.workingEdit.getAgility()}\n                      </div>\n                      <div className=\"value value3\">\n                      {this.state.workingEdit.getIntellect()}\n                      </div>\n                      <div className=\"value value4\">\n                      {this.state.workingEdit.getCunning()}\n                      </div>\n                      <div className=\"value value5\">\n                      {this.state.workingEdit.getWillpower()}\n                      </div>\n                      <div className=\"value value6\">\n                      {this.state.workingEdit.getPresence()}\n                      </div>\n\n                      {this.state.workingEdit.adversaryType === \"Nemesis\" ? (\n                        <>\n                      <div className=\"nemesis-label nemesis-label1\">\n                        SOAK VALUE\n                      </div>\n                      <div className=\"nemesis-label nemesis-label2\">\n                        WOUND THRESHOLD\n                      </div>\n                      <div className=\"nemesis-label nemesis-label3\">\n                        STRAIN THRESHOLD\n                      </div>\n                      <div className=\"nemesis-label nemesis-label4\">\n                        M/R DEFENSE\n                      </div>\n\n                      <div className=\"nemesis-value nemesis-value1\">\n                        {this.state.workingEdit.getSoak()}\n                      </div>\n                      <div className=\"nemesis-value nemesis-value2\">\n                        {this.state.workingEdit.getWoundThreshold()}\n                      </div>\n                      <div className=\"nemesis-value nemesis-value3\">\n                        {this.state.workingEdit.getStrainThreshold()}\n                      </div>\n                      <div className=\"nemesis-value nemesis-value4 half\">\n                      {this.state.workingEdit.getMeleeDefense()}\n                      </div>\n                      <div className=\"nemesis-value nemesis-value5 half\">\n                      {this.state.workingEdit.getRangedDefense()}\n                      </div>\n                        </>\n                      ) : (\n                        <>\n                      <div className=\"minion-rival-label minion-rival-label1\">\n                        SOAK VALUE\n                      </div>\n                      <div className=\"minion-rival-label minion-rival-label2\">\n                        WOUND THRESHOLD\n                      </div>\n                      <div className=\"minion-rival-label minion-rival-label3\">\n                        M/R DEFENSE\n                      </div>\n\n                      <div className=\"minion-rival-value minion-rival-value1\">\n                        {this.state.workingEdit.getSoak()}\n                      </div>\n                      <div className=\"minion-rival-value minion-rival-value2\">\n                        {this.state.workingEdit.getWoundThreshold()}\n                      </div>\n                      <div className=\"minion-rival-value minion-rival-value3 half\">\n                        {this.state.workingEdit.getMeleeDefense()}\n                      </div>\n                      <div className=\"minion-rival-value minion-rival-value4 half\">\n                        {this.state.workingEdit.getRangedDefense()}\n                      </div>\n                        </>\n                      )}\n                    </div>\n    </div>\n</div>\n</div>\n\n              </div>\n              <div className=\"col-md\">\n<div className=\"form\">\n              <label>\n              Name:&nbsp;\n              <input\n                type=\"text\"\n                value={this.state.workingEdit.name}\n                onChange={this.updateName}\n              />\n            </label>\n\n            <label>\n              Type:&nbsp;\n              <select\n                value={this.state.workingEdit.adversaryType}\n                onChange={this.updateType}\n              >\n                {AdversaryTypes.map( (typeValue) => {\n                  return (\n                    <option key={typeValue}>{typeValue}</option>\n                  )\n                })}\n              </select>\n            </label>\n            <label>\n              Description:\n              <textarea\n                value={this.state.workingEdit.description.join(\"\\n\")}\n                onChange={this.updateDescription}\n              />\n            </label>\n\n            <label>\n              Characteristic Array:&nbsp;\n              <select\n                value={this.state.workingEdit.selectedAdversaryCharacteristicArray.name}\n                onChange={this.updateCharacteristicArray}\n              >\n                {AdversaryCharacteristicArrays.sort(this._sortByName).map( (arrayValue, typeIndex) => {\n                  return (\n                    <option key={typeIndex} value={arrayValue.name}>{arrayValue.name}</option>\n                  )\n                })}\n              </select>\n            </label>\n<fieldset className=\"fieldset\">\n            <label className=\"inline-block\">\n              Soak, Defense, Wounds, Strain:&nbsp;\n              <select\n                value={this.state.soakDefWoundStrainSelect ? this.state.soakDefWoundStrainSelect.name : \"\"}\n                onChange={this.updateSoakDefWoundStrainSelect}\n              >\n                <option value=\"\">- Select -</option>\n                {AdversarySoakDefWoundStrain.sort(this._sortByName).map( (arrayValue, typeIndex) => {\n                  return (\n                    <option key={typeIndex} value={arrayValue.name}>{arrayValue.name}</option>\n                  )\n                })}\n              </select>\n\n            </label>\n            <button\n                className=\"btn-primary btn btn-sm\"\n                onClick={this.addSelectedSoakDefWoundStrain}\n              >\n                Add\n              </button><br />\n            {this.state.workingEdit.selectedSoakDefWoundStrain.length > 0 ? (\n              <>\n                <ul className=\"styleless\">\n                  {this.state.workingEdit.selectedSoakDefWoundStrain.sort(this._sortByName).map( (item, itemIndex) => {\n                    return (\n                      <li key={itemIndex}>\n                      <button\n                        className=\"btn btn-xs btn-primary\"\n                        onClick={() => this.removeSoakDefWoundStrain( itemIndex)}\n                      >\n                        <FontAwesomeIcon icon={faTrash} />\n                      </button>\n                      {item.name}\n                    </li>\n                    )\n                  })}\n\n                </ul>\n              </>\n            ) : (\n              <>None Selected</>\n            )}\n</fieldset>\n<fieldset className=\"fieldset\">\n            <label className=\"inline-block\">\n              Skills:&nbsp;\n              <select\n                value={this.state.skillPackageSelect ? this.state.skillPackageSelect.name : \"\"}\n                onChange={this.updateSkillPackageSelect}\n              >\n                <option value=\"\">- Select -</option>\n                {AdversarySkillPackages.sort(this._sortByName).map( (arrayValue, typeIndex) => {\n                  return (\n                    <option key={typeIndex} value={arrayValue.name}>{arrayValue.name}</option>\n                  )\n                })}\n              </select>\n\n            </label>\n            <button\n                className=\"btn-primary btn btn-sm\"\n                onClick={this.addSelectedSkillPackage}\n              >\n                Add\n              </button><br />\n            {this.state.workingEdit.selectedSkillPackages.length > 0 ? (\n              <>\n                <ul className=\"styleless\">\n                  {this.state.workingEdit.selectedSkillPackages.map( (item, itemIndex) => {\n                    return (\n                      <li key={itemIndex}>\n                      <button\n                        className=\"btn btn-xs btn-primary\"\n                        onClick={() => this.removeSkillPackage( itemIndex)}\n                      >\n                        <FontAwesomeIcon icon={faTrash} />\n                      </button>\n                      {item.name}\n                    </li>\n                    )\n                  })}\n\n                </ul>\n              </>\n            ) : (\n              <>None Selected</>\n            )}\n</fieldset>\n\n<fieldset className=\"fieldset\">\n            <label className=\"inline-block\">\n              Talents:&nbsp;\n              <select\n                value={this.state.talentSelect ? this.state.talentSelect.name : \"\"}\n                onChange={this.updateTalentSelect}\n              >\n                <option value=\"\">- Select -</option>\n                {AdversaryTalents.sort(this._sortByName).map( (arrayValue, typeIndex) => {\n                  return (\n                    <option key={typeIndex} value={arrayValue.name}>{arrayValue.name}</option>\n                  )\n                })}\n              </select>\n\n            </label>\n              <button\n                className=\"btn-primary btn btn-sm\"\n                onClick={this.addSelectedTalent}\n              >\n                Add\n              </button><br />\n            {this.state.workingEdit.selectedTalents.length > 0 ? (\n              <>\n                <ul className=\"styleless\">\n                  {this.state.workingEdit.selectedTalents.map( (item, itemIndex) => {\n                    return (\n                      <li key={itemIndex}>\n\n                      <button\n                        className=\"btn btn-xs btn-primary\"\n                        onClick={() => this.removeTalent( itemIndex)}\n                      >\n                        <FontAwesomeIcon icon={faTrash} />\n                      </button>\n\n                      <span>{item.name}</span>\n\n                    </li>\n                    )\n                  })}\n\n                </ul>\n              </>\n            ) : (\n              <>None Selected</>\n            )}\n</fieldset>\n\n<fieldset className=\"fieldset\">\n            <label className=\"inline-block\">\n             Special Abilities:&nbsp;\n              <select\n                value={this.state.specialAbilitiesSelect ? this.state.specialAbilitiesSelect.name : \"\"}\n                onChange={this.updateSpecialAbilitySelect}\n              >\n                <option value=\"\">- Select -</option>\n                {AdversarySpecialAbilities.sort(this._sortByName).map( (arrayValue, typeIndex) => {\n                  return (\n                    <option key={typeIndex} value={arrayValue.name}>{arrayValue.name}</option>\n                  )\n                })}\n              </select>\n            </label>\n              <button\n                className=\"btn-primary btn btn-sm\"\n                onClick={this.addSelectedSpecialAbility}\n              >\n                Add\n              </button><br />\n            {this.state.workingEdit.selectedSpecialAbilities.length > 0 ? (\n              <>\n                <ul className=\"styleless\">\n                  {this.state.workingEdit.selectedSpecialAbilities.map( (item, itemIndex) => {\n                    return (\n                      <li key={itemIndex}>\n                      <button\n                        className=\"btn btn-xs btn-primary\"\n                        onClick={() => this.removeSpecialAbility( itemIndex)}\n                      >\n                        <FontAwesomeIcon icon={faTrash} />\n                      </button>\n                      {item.name}\n                    </li>\n                    )\n                  })}\n\n                </ul>\n              </>\n            ) : (\n              <>None Selected</>\n            )}\n</fieldset>\n\n\n<fieldset className=\"fieldset\">\n            <label>\n             Equipment:&nbsp;\n             </label>\n             <p>Coming Soon</p>\n              {/* <select\n                value={this.state.specialAbilitiesSelect ? this.state.specialAbilitiesSelect.name : \"\"}\n                onChange={this.updateSpecialAbilitySelect}\n              >\n                <option value=\"\">- Select -</option>\n                {AdversarySpecialAbilities.sort(this._sortByName).map( (arrayValue, typeIndex) => {\n                  return (\n                    <option key={typeIndex} value={arrayValue.name}>{arrayValue.name}</option>\n                  )\n                })}\n              </select>\n              <button\n                className=\"btn-primary btn btn-sm\"\n                onClick={this.addSelectedSpecialAbility}\n              >\n                Add\n              </button>\n            </label>\n            {this.state.workingEdit.selectedSpecialAbilities.length > 0 ? (\n              <>\n                <ul className=\"styleless\">\n                  {this.state.workingEdit.selectedSpecialAbilities.map( (item, itemIndex) => {\n                    return (\n                      <li key={itemIndex}>\n                      <button\n                        className=\"btn btn-xs btn-primary\"\n                        onClick={() => this.removeSpecialAbility( itemIndex)}\n                      >\n                        <FontAwesomeIcon icon={faTrash} />\n                      </button>\n                      {item.name}\n                    </li>\n                    )\n                  })}\n\n                </ul>\n              </>\n            ) : (\n              <>None Selected</>\n            )} */}\n</fieldset>\n            </div>\n\n              </div>\n            </div>\n\n        </UIPage>\n      );\n    }\n}\n\ninterface IAdversaryCreatorProps {\n  appGlobals: IAppGlobals;\n}\n\ninterface IAdversaryCreatorState {\n  updated: boolean;\n  workingEdit: Adversary;\n  soakDefWoundStrainSelect: IAdversarySoakDefWoundStrain | null;\n  skillPackageSelect: IAdversarySkillPackage | null;\n  talentSelect: IAdversaryTalent | null;\n  specialAbilitiesSelect: IAdversarySpecialAbility | null;\n  valuesAsDice: boolean;\n}","import React from \"react\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport Home from \"./Pages/Home\";\nimport Error404 from \"./Pages/Error404\";\nimport Initiative from \"./Pages/Initiative\";\nimport Alerts from './Classes/Alerts';\nimport { Modal, Button } from 'react-bootstrap';\nimport SanitizedHTML from \"./Components/SanitizedHTML\";\nimport { CONFIGSiteTitle } from \"./config\";\nimport About from \"./Pages/About\";\nimport Settings from \"./Pages/Settings\";\nimport Temp from \"./Pages/Temp\";\nimport Dice from \"./Pages/Dice\";\nimport AdversaryCreator from \"./Pages/AdversaryCreator\";\n\n\n\nexport default class AppRouter extends React.Component<IAppRouterProps, IAppRouterState> {\n\n    constructor(props: IAppRouterProps) {\n        super(props);\n\n        this.makeDocumentTitle = this.makeDocumentTitle.bind(this);\n        this.openConfirmDialog = this.openConfirmDialog.bind(this);\n        this.closeConfirmDialog = this.closeConfirmDialog.bind(this);\n        this.confirmConfirmDialog = this.confirmConfirmDialog.bind(this);\n        this.refreshGlobalState = this.refreshGlobalState.bind(this);\n        this.toggleMobile = this.toggleMobile.bind(this);\n        this.closeMobile = this.closeMobile.bind(this);\n        this.saveSettings = this.saveSettings.bind(this);\n\n        let uiTheme: string = \"\";\n        let lsTheme = localStorage.getItem(\"uiTheme\");\n        if( lsTheme ) {\n            uiTheme = lsTheme;\n            document.body.className = uiTheme;\n        } else {\n            document.body.className = '';\n        }\n\n\n        let dieIconClass: string = \"genesys\";\n        let lsDieIconClass = localStorage.getItem(\"dieIconClass\");\n        if( lsDieIconClass ) {\n            dieIconClass = lsDieIconClass;\n        }\n\n        this.state = {\n            updated: false,\n            appGlobals: {\n                settings: {\n                    uiTheme: uiTheme,\n                    dieIconClass: dieIconClass,\n                },\n                currentPageTitle: \"\",\n                siteAlerts: new Alerts( this ),\n                showMobile: false,\n                confirmDialogMessage: \"\",\n                confirmDialogTitle: \"\",\n                confirmDialogYesLabel: \"\",\n                confirmDialogNoLabel: \"\",\n                showConfirmDialog: false,\n                confirmDialogConfirm: null,\n                makeDocumentTitle: this.makeDocumentTitle,\n                openConfirmDialog: this.openConfirmDialog,\n                refreshGlobalState: this.refreshGlobalState,\n                toggleMobile: this.toggleMobile,\n                closeMobile: this.closeMobile,\n\n                saveSettings: this.saveSettings,\n            }\n        }\n\n    }\n\n    saveSettings( settings: ISettings ): void {\n        let appGlobals = this.state.appGlobals;\n        appGlobals.settings = settings;\n        this.setState({\n            appGlobals: appGlobals,\n        });\n\n        if( settings.uiTheme.trim() ) {\n            document.body.className = settings.uiTheme;\n        } else {\n            document.body.className = '';\n        }\n\n        localStorage.setItem(\"uiTheme\", settings.uiTheme);\n        localStorage.setItem(\"dieIconClass\", settings.dieIconClass);\n    }\n\n    toggleMobile(): void {\n        let appGlobals = this.state.appGlobals;\n        appGlobals.showMobile = !appGlobals.showMobile;\n        this.setState({\n            appGlobals: appGlobals,\n            updated: true,\n        })\n    }\n\n    closeMobile(): void {\n        let appGlobals = this.state.appGlobals;\n        appGlobals.showMobile = false;\n        this.setState({\n            appGlobals: appGlobals,\n            updated: true,\n        })\n    }\n\n    makeDocumentTitle( subTitle: string = \"\" ): void {\n        let appGlobals = this.state.appGlobals;\n        if( subTitle ) {\n            document.title = subTitle + \" | \" + CONFIGSiteTitle;\n            appGlobals.currentPageTitle = subTitle;\n            this.setState({\n                appGlobals: appGlobals,\n            })\n        } else {\n            document.title = CONFIGSiteTitle;\n            appGlobals.currentPageTitle = subTitle;\n            this.setState({\n                appGlobals: appGlobals,\n            })\n        }\n    }\n\n    refreshGlobalState(appGlobals: IAppGlobals | null = null): void {\n        if( !appGlobals ) {\n            this.setState({\n                updated: true,\n            });\n        } else {\n            this.setState({\n                updated: true,\n                appGlobals: appGlobals,\n            });\n        }\n    }\n\n    closeConfirmDialog(): void {\n        let appGlobals = this.state.appGlobals;\n        appGlobals.showConfirmDialog = false;\n        this.setState({\n            appGlobals: appGlobals,\n        })\n    }\n\n    confirmConfirmDialog(): void {\n        if( this.state.appGlobals ) {\n            if( this.state.appGlobals.confirmDialogConfirm ) {\n                this.state.appGlobals.confirmDialogConfirm();\n            }\n            let appGlobals = this.state.appGlobals;\n            appGlobals.showConfirmDialog = false;\n            this.setState({\n                appGlobals: appGlobals,\n            })\n        }\n    }\n\n    openConfirmDialog(\n        confirmTitle: string,\n        confirmMessage: string,\n        confirmYesLabel: string,\n        confirmNoLabel: string,\n        confirmCallback: Function,\n    ): void {\n        let appGlobals = this.state.appGlobals;\n        appGlobals.confirmDialogMessage = confirmMessage;\n        appGlobals.confirmDialogTitle = confirmTitle;\n        appGlobals.confirmDialogYesLabel = confirmYesLabel;\n        appGlobals.confirmDialogNoLabel = confirmNoLabel;\n        appGlobals.showConfirmDialog = true;\n        appGlobals.confirmDialogConfirm = confirmCallback;\n        this.setState({\n            appGlobals: appGlobals,\n        })\n    }\n\n\n    render() {\n        return (\n            <Router>\n            <Modal show={this.state.appGlobals.showConfirmDialog} onHide={this.closeConfirmDialog}>\n                <Modal.Header closeButton>\n                    <Modal.Title>\n                            {this.state.appGlobals.confirmDialogTitle}\n                    </Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                    <div className=\"form\">\n                        <div>\n                            <SanitizedHTML html={this.state.appGlobals.confirmDialogMessage} />\n                        </div>\n                    </div>\n                </Modal.Body>\n                <Modal.Footer>\n\n                    <Button variant=\"secondary\" onClick={this.closeConfirmDialog}>\n                        {this.state.appGlobals.confirmDialogNoLabel}\n                    </Button>\n                    <Button variant=\"primary\" onClick={this.confirmConfirmDialog}>\n                        {this.state.appGlobals.confirmDialogYesLabel}\n                    </Button>\n\n                </Modal.Footer>\n            </Modal>\n            <Switch>\n                <Route path={`${process.env.PUBLIC_URL}/`} exact>\n                    <Home\n                        appGlobals={this.state.appGlobals}\n                    />\n                </Route>\n\n                <Route path={`${process.env.PUBLIC_URL}/initiative`} exact>\n                    <Initiative\n                        appGlobals={this.state.appGlobals}\n                    />\n                </Route>\n                <Route path={`${process.env.PUBLIC_URL}/about`} exact>\n                    <About\n                        appGlobals={this.state.appGlobals}\n                    />\n                </Route>\n                <Route path={`${process.env.PUBLIC_URL}/temp`} exact>\n                    <Temp\n                        appGlobals={this.state.appGlobals}\n                    />\n                </Route>\n                <Route path={`${process.env.PUBLIC_URL}/dice`} exact>\n                    <Dice\n                        appGlobals={this.state.appGlobals}\n                    />\n                </Route>\n                <Route path={`${process.env.PUBLIC_URL}/adversary-creator`} exact>\n                    <AdversaryCreator\n                        appGlobals={this.state.appGlobals}\n                    />\n                </Route>\n                <Route path={`${process.env.PUBLIC_URL}/settings`} exact>\n                    <Settings\n                        appGlobals={this.state.appGlobals}\n                    />\n                </Route>\n                <Route>\n                    <Error404\n                        appGlobals={this.state.appGlobals}\n                    />\n                </Route>\n\n            </Switch>\n            </Router>\n        );\n    }\n}\n\ninterface IAppRouterProps {\n\n}\n\ninterface ISettings {\n    uiTheme: string;\n    dieIconClass: string;\n}\n\ninterface IAppRouterState {\n    appGlobals: IAppGlobals;\n    updated: boolean;\n}\n\nexport interface IAppGlobals {\n    currentPageTitle: string;\n    siteAlerts: Alerts;\n    settings: ISettings;\n    showMobile: boolean;\n    confirmDialogMessage: string;\n    confirmDialogTitle: string;\n    confirmDialogYesLabel: string;\n    confirmDialogNoLabel: string;\n    showConfirmDialog: boolean;\n    confirmDialogConfirm: Function | null;\n    refreshGlobalState(appGlobals: IAppGlobals | null): void;\n\n    makeDocumentTitle( subTitle: string ): void;\n\n    toggleMobile(): void;\n    closeMobile(): void;\n\n    openConfirmDialog(\n        confirmTitle: string,\n        confirmMessage: string,\n        confirmYesLabel: string,\n        confirmNoLabel: string,\n        confirmCallback: Function,\n    ): void;\n\n\n    saveSettings( settings: ISettings ): void;\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport './index.scss';\nimport * as serviceWorker from './serviceWorker';\nimport AppRouter from './AppRouter';\n\nReactDOM.render(<AppRouter />, document.getElementById('root'));\n\n// If you want your Home to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}