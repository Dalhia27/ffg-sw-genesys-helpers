(window["webpackJsonpffg-sw-genesys-helpers"]=window["webpackJsonpffg-sw-genesys-helpers"]||[]).push([[0],{122:function(e,t){},140:function(e,t){},141:function(e,t){},142:function(e,t){},157:function(e,t){},171:function(e,t,a){},172:function(e,t,a){},190:function(e,t,a){"use strict";a.r(t);var i=a(0),n=a.n(i),s=a(18),l=a.n(s);a(95),a(96),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=a(6),r=a(7),c=a(11),u=a(10),m=a(3),p=a(12),d=a(21),h=a(22),b=(a(97),a(48)),v=a.n(b),g=a(83),f=a(99),E=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(p.a)(t,e),Object(r.a)(t,[{key:"componentWillMount",value:function(){var e=Object(g.a)(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.props.raw?i.createElement("span",{dangerouslySetInnerHTML:{__html:this.props.html}}):i.createElement("span",{dangerouslySetInnerHTML:{__html:f(this.props.html,{allowedTags:["h1","h2","h3","h4","svg","div","span","p","ol","ul","li","img","sup","strong","em","br","hr"],allowedAttributes:{div:["class","id"],span:["class","id"],p:["class","id"],img:["src","class","id","style"],ul:["class","id"]}})}})}}]),t}(i.Component),y=a(19),S=a(20),C=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={updated:!1},a}return Object(p.a)(t,e),Object(r.a)(t,[{key:"dismissAlert",value:function(e){this.props.appGlobals.siteAlerts.dismissAlert(e)&&this.setState({updated:!1})}},{key:"render",value:function(){var e=this;return i.createElement("ul",{className:"styleless"},this.props.appGlobals.siteAlerts.activeAlerts.map(function(t,a){return i.createElement("div",{key:a,id:"alert-index-"+a,className:t.autoDismissSeconds>0?"position-relative alert-fade alert alert-"+t.level+" "+t.extraclass:"position-relative alert alert-"+t.level+" "+t.extraclass,style:{display:"block",height:"auto"}},t.autoDismissSeconds>0?i.createElement(i.Fragment,null,i.createElement("div",{className:"alert-countdown"},i.createElement("div",{id:"alert-bar-index-"+a,className:"alert-countdown-bar dismiss-time-"+t.autoDismissSeconds})),i.createElement("span",{onClick:function(){e.dismissAlert(a)},className:"pull-right cursor-pointer",style:{fontSize:"1.5rem"},title:"Click here to dismiss this alert, but it'll auto-dismiss in "+t.autoDismissSeconds+" seconds"},i.createElement(S.a,{icon:y.d,spin:!0}))):i.createElement(i.Fragment,null,t.dismissable?i.createElement("span",{onClick:function(){e.dismissAlert(a)},className:"pull-right cursor-pointer",style:{fontSize:"1.5rem"},title:"Click here to dismiss this alert"},i.createElement(S.a,{icon:y.d})):i.createElement(i.Fragment,null)),t.title?i.createElement("h4",null,t.title):i.createElement(i.Fragment,null),t.message?i.createElement("div",{className:t.messageclass},i.createElement(E,{html:t.message})):i.createElement(i.Fragment,null),t.externalURL?i.createElement("div",{className:"text-right"},i.createElement("a",{className:"btn btn-primary btn-sm",href:t.externalURL},"Go")):i.createElement(i.Fragment,null),t.link?i.createElement("div",{className:"text-right"},i.createElement(d.b,{className:"btn btn-primary btn-sm",to:t.link},"Go")):i.createElement(i.Fragment,null))}))}}]),t}(i.Component),k=(a(171),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={updated:!1},a.toggleMobile=a.toggleMobile.bind(Object(m.a)(a)),a.closeMobile=a.closeMobile.bind(Object(m.a)(a)),a}return Object(p.a)(t,e),Object(r.a)(t,[{key:"toggleMobile",value:function(){this.props.appGlobals.toggleMobile()}},{key:"closeMobile",value:function(){this.props.appGlobals.closeMobile()}},{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("header",{className:"topmenu"},n.a.createElement("ul",null,n.a.createElement("li",{onClick:this.toggleMobile,className:"mobile-menu-button d-inline d-md-none"},n.a.createElement(S.a,{icon:y.c})),n.a.createElement("li",{className:"d-none d-md-inline"},n.a.createElement(d.b,{className:"home"===this.props.current?"current":"",to:"".concat("","/")},"Home")),n.a.createElement("li",{className:"d-none d-md-inline"},n.a.createElement(d.b,{className:"initiative"===this.props.current?"current":"",to:"".concat("","/initiative")},"Initiative")))),n.a.createElement("div",{className:"mobile-menu"},n.a.createElement("ul",{className:"styleless"},n.a.createElement("li",null,n.a.createElement(d.b,{onClick:this.closeMobile,className:"home"===this.props.current?"current":"",to:"".concat("","/")},"Home")),n.a.createElement("li",null,n.a.createElement(d.b,{onClick:this.closeMobile,className:"initiative"===this.props.current?"current":"",to:"".concat("","/initiative")},"Initiative")))))}}]),t}(n.a.Component)),O=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:this.props.appGlobals.showMobile?"ui-page show-mobile":"ui-page"},n.a.createElement(k,{current:this.props.current,sub:this.props.sub,appGlobals:this.props.appGlobals}),n.a.createElement("div",{className:"content"},n.a.createElement(C,{appGlobals:this.props.appGlobals}),this.props.children))}}]),t}(n.a.Component),N=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={updated:!1},a}return Object(p.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.props.appGlobals.makeDocumentTitle("Home")}},{key:"render",value:function(){return n.a.createElement(O,{current:"home",appGlobals:this.props.appGlobals},"This will be a collection of quick utilities to help Star Wars and Genesys games.")}}]),t}(n.a.Component),M=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={updated:!1},a}return Object(p.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.props.appGlobals.makeDocumentTitle("404 - Page not Found")}},{key:"render",value:function(){return n.a.createElement(O,{appGlobals:this.props.appGlobals},"404 - Not Found")}}]),t}(n.a.Component),j=(a(172),a(193)),G=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).numPCs=4,a.numNPCs=2,a.currentInitiative=-1,a.initMap=[],a.state={updated:!1};var i=localStorage.getItem("numPCs"),n=localStorage.getItem("initMap"),s=localStorage.getItem("currentInitiative");if(s&&(a.currentInitiative=+s,Number.isNaN(a.currentInitiative)&&(a.currentInitiative=-1)),i&&(a.numPCs=+i),n)a.initMap=JSON.parse(n);else for(var l=0;l<a.numPCs;l++)a.initMap.push({label:"PC",successes:0,advantages:0});return a.updateInitSuccesses=a.updateInitSuccesses.bind(Object(m.a)(a)),a.updateInitAdvantages=a.updateInitAdvantages.bind(Object(m.a)(a)),a.updateNumPCs=a.updateNumPCs.bind(Object(m.a)(a)),a.addNPC=a.addNPC.bind(Object(m.a)(a)),a.addPC=a.addPC.bind(Object(m.a)(a)),a.sortInit=a.sortInit.bind(Object(m.a)(a)),a.initForward=a.initForward.bind(Object(m.a)(a)),a.initBackward=a.initBackward.bind(Object(m.a)(a)),a.removeSlot=a.removeSlot.bind(Object(m.a)(a)),a}return Object(p.a)(t,e),Object(r.a)(t,[{key:"initForward",value:function(){var e=this.currentInitiative+1;e>this.initMap.length-1&&(e=0),this.currentInitiative=e,localStorage.setItem("currentInitiative",e.toString()),this.setState({updated:!0})}},{key:"initBackward",value:function(){var e=this.currentInitiative-1;e<0&&(e=this.initMap.length),this.currentInitiative=e,localStorage.setItem("currentInitiative",e.toString()),this.setState({updated:!0})}},{key:"sortInit",value:function(){this.initMap.sort(function(e,t){return e.successes<t.successes?1:e.successes>t.successes?-1:e.advantages<t.advantages?1:e.advantages>t.advantages?-1:"PC"==e.label&&"NPC"==t.label?-1:"NPC"==e.label&&"PC"==t.label?1:0}),localStorage.setItem("initMap",JSON.stringify(this.initMap)),this.setState({updated:!0})}},{key:"addNPC",value:function(){this.initMap.push({label:"NPC",successes:0,advantages:0}),localStorage.setItem("initMap",JSON.stringify(this.initMap)),this.setState({updated:!0})}},{key:"addPC",value:function(){this.initMap.push({label:"PC",successes:0,advantages:0}),localStorage.setItem("initMap",JSON.stringify(this.initMap)),this.setState({updated:!0})}},{key:"removeSlot",value:function(e){this.initMap.length>e&&this.initMap.splice(e,1),localStorage.setItem("initMap",JSON.stringify(this.initMap)),this.setState({updated:!0})}},{key:"updateInitAdvantages",value:function(e,t){this.initMap.length>e&&(this.initMap[e].advantages=t),localStorage.setItem("initMap",JSON.stringify(this.initMap)),this.setState({updated:!0})}},{key:"updateInitSuccesses",value:function(e,t){this.initMap.length>e&&(this.initMap[e].successes=t),localStorage.setItem("initMap",JSON.stringify(this.initMap)),this.setState({updated:!0})}},{key:"updateNumPCs",value:function(e){this.numPCs=+e.currentTarget.value,localStorage.setItem("numPCs",e.currentTarget.value),this.setState({updated:!0})}},{key:"componentDidMount",value:function(){this.props.appGlobals.makeDocumentTitle("Initiative")}},{key:"render",value:function(){var e=this;return n.a.createElement(O,{current:"initiative",appGlobals:this.props.appGlobals},n.a.createElement("div",{className:"text-center control-bar"},n.a.createElement("div",{className:"text-left grow"},n.a.createElement(j.a,{variant:"primary",onClick:this.initBackward,tabIndex:0},n.a.createElement(S.a,{icon:y.a}))),n.a.createElement("div",{className:""},n.a.createElement(j.a,{variant:"primary",onClick:this.addPC,tabIndex:1},"Add PC")),n.a.createElement("div",{className:"grow"},n.a.createElement(j.a,{variant:"primary",onClick:this.sortInit,tabIndex:2},"Sort")),n.a.createElement("div",{className:""},n.a.createElement(j.a,{variant:"primary",onClick:this.addNPC,tabIndex:3},"Add NPC")),n.a.createElement("div",{className:"grow text-right"},n.a.createElement(j.a,{variant:"primary",onClick:this.initForward,tabIndex:4},n.a.createElement(S.a,{icon:y.b})))),this.initMap.map(function(t,a){return n.a.createElement("div",{className:a==e.currentInitiative?"init-map-item current":"init-map-item",key:a},n.a.createElement("div",{className:"PC"===t.label?"label pc":"label npc"},t.label),n.a.createElement("div",{className:"successes"},n.a.createElement("label",null,n.a.createElement("input",{type:"numeric",value:t.successes,size:3,className:"text-center",onChange:function(t){return e.updateInitSuccesses(a,+t.currentTarget.value)},tabIndex:a+5}),n.a.createElement("span",null,"Successes"))),n.a.createElement("div",{className:"advantages"},n.a.createElement("label",null,n.a.createElement("input",{type:"numeric",value:t.advantages,size:3,className:"text-center",onChange:function(t){return e.updateInitAdvantages(a,+t.currentTarget.value)},tabIndex:a+5}),n.a.createElement("span",null,"Advantages"))),n.a.createElement("div",{className:"controls"},n.a.createElement(j.a,{variant:"primary",tabIndex:a+e.initMap.length+5,onClick:function(){return e.removeSlot(a)}},n.a.createElement(S.a,{icon:y.e}))))}))}}]),t}(n.a.Component),w=function(){function e(t){Object(o.a)(this,e),this._app=void 0,this.activeAlerts=[],this.cancelTimeout=-1,this._app=t,this.activeAlerts=[]}return Object(r.a)(e,[{key:"dismissAlert",value:function(e){var t=this;this.cancelTimeout>-1&&window.clearTimeout(this.cancelTimeout);var a=document.getElementById("alert-index-"+e);return a&&(a.style.height="0px",a.style.paddingTop="0px",a.style.paddingBottom="0px",a.style.borderTop="0px",a.style.borderBottom="0px"),!!(this.activeAlerts.length>e&&this.activeAlerts[e].dismissable)&&(window.setTimeout(function(){var a=null;t.activeAlerts[e].dismissFunction&&(a=t.activeAlerts[e].dismissFunction),t.activeAlerts.splice(e,1),a&&a(),t._app.refreshGlobalState()},100),!0)}},{key:"addAlert",value:function(e,t,a){var i=this,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],l=arguments.length>5?arguments[5]:void 0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,r=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"",c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"",u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:"";this.activeAlerts.push({level:e,title:t,message:a,messageclass:n,externalURL:r,link:c,dismissable:s,extraclass:u,autoDismissSeconds:o,dismissFunction:l});var m=this.activeAlerts.length-1;this._app.refreshGlobalState(),o>0&&(window.setTimeout(function(){var e=document.getElementById("alert-index-"+m);e&&(e.className=e.className+"fade-away")},1e3*o-250),window.setTimeout(function(){var e=document.getElementById("alert-bar-index-"+m);e&&(e.style.width="0px")},100),this.cancelTimeout=window.setTimeout(function(){i.activeAlerts.splice(m,1),l&&l(),i._app.refreshGlobalState()},1e3*o))}}]),e}(),I=a(192),D="FFG Star Wars/Genesys Helpers",T=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).makeDocumentTitle=a.makeDocumentTitle.bind(Object(m.a)(a)),a.openConfirmDialog=a.openConfirmDialog.bind(Object(m.a)(a)),a.closeConfirmDialog=a.closeConfirmDialog.bind(Object(m.a)(a)),a.confirmConfirmDialog=a.confirmConfirmDialog.bind(Object(m.a)(a)),a.refreshGlobalState=a.refreshGlobalState.bind(Object(m.a)(a)),a.toggleMobile=a.toggleMobile.bind(Object(m.a)(a)),a.closeMobile=a.closeMobile.bind(Object(m.a)(a)),a.saveSettings=a.saveSettings.bind(Object(m.a)(a));var i="",n=localStorage.getItem("uiTheme");return n?(i=n,document.body.className=i):document.body.className="",a.state={updated:!1,appGlobals:{settings:{uiTheme:i},currentPageTitle:"",siteAlerts:new w(Object(m.a)(a)),showMobile:!1,confirmDialogMessage:"",confirmDialogTitle:"",confirmDialogYesLabel:"",confirmDialogNoLabel:"",showConfirmDialog:!1,confirmDialogConfirm:null,makeDocumentTitle:a.makeDocumentTitle,openConfirmDialog:a.openConfirmDialog,refreshGlobalState:a.refreshGlobalState,toggleMobile:a.toggleMobile,closeMobile:a.closeMobile,saveSettings:a.saveSettings}},a}return Object(p.a)(t,e),Object(r.a)(t,[{key:"saveSettings",value:function(e){var t=this.state.appGlobals;t.settings=e,this.setState({appGlobals:t}),e.uiTheme.trim()?document.body.className=e.uiTheme:document.body.className="",localStorage.setItem("uiTheme",e.uiTheme)}},{key:"toggleMobile",value:function(){var e=this.state.appGlobals;e.showMobile=!e.showMobile,this.setState({appGlobals:e,updated:!0})}},{key:"closeMobile",value:function(){var e=this.state.appGlobals;e.showMobile=!1,this.setState({appGlobals:e,updated:!0})}},{key:"makeDocumentTitle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.state.appGlobals;e?(document.title=e+" | "+D,t.currentPageTitle=e,this.setState({appGlobals:t})):(document.title=D,t.currentPageTitle=e,this.setState({appGlobals:t}))}},{key:"refreshGlobalState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?this.setState({updated:!0,appGlobals:e}):this.setState({updated:!0})}},{key:"closeConfirmDialog",value:function(){var e=this.state.appGlobals;e.showConfirmDialog=!1,this.setState({appGlobals:e})}},{key:"confirmConfirmDialog",value:function(){if(this.state.appGlobals){this.state.appGlobals.confirmDialogConfirm&&this.state.appGlobals.confirmDialogConfirm();var e=this.state.appGlobals;e.showConfirmDialog=!1,this.setState({appGlobals:e})}}},{key:"openConfirmDialog",value:function(e,t,a,i,n){var s=this.state.appGlobals;s.confirmDialogMessage=t,s.confirmDialogTitle=e,s.confirmDialogYesLabel=a,s.confirmDialogNoLabel=i,s.showConfirmDialog=!0,s.confirmDialogConfirm=n,this.setState({appGlobals:s})}},{key:"render",value:function(){return n.a.createElement(d.a,null,n.a.createElement(I.a,{show:this.state.appGlobals.showConfirmDialog,onHide:this.closeConfirmDialog},n.a.createElement(I.a.Header,{closeButton:!0},n.a.createElement(I.a.Title,null,this.state.appGlobals.confirmDialogTitle)),n.a.createElement(I.a.Body,null,n.a.createElement("div",{className:"form"},n.a.createElement("div",null,n.a.createElement(E,{html:this.state.appGlobals.confirmDialogMessage})))),n.a.createElement(I.a.Footer,null,n.a.createElement(j.a,{variant:"secondary",onClick:this.closeConfirmDialog},this.state.appGlobals.confirmDialogNoLabel),n.a.createElement(j.a,{variant:"primary",onClick:this.confirmConfirmDialog},this.state.appGlobals.confirmDialogYesLabel))),n.a.createElement(h.c,null,n.a.createElement(h.a,{path:"".concat("","/"),exact:!0},n.a.createElement(N,{appGlobals:this.state.appGlobals})),n.a.createElement(h.a,{path:"".concat("","/initiative"),exact:!0},n.a.createElement(G,{appGlobals:this.state.appGlobals})),n.a.createElement(h.a,null,n.a.createElement(M,{appGlobals:this.state.appGlobals}))))}}]),t}(n.a.Component);l.a.render(n.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},90:function(e,t,a){e.exports=a(190)},96:function(e,t,a){},97:function(e,t,a){}},[[90,1,2]]]);
//# sourceMappingURL=main.f14c875e.chunk.js.map