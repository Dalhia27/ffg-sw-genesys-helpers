(this["webpackJsonpffg-sw-genesys-helpers"]=this["webpackJsonpffg-sw-genesys-helpers"]||[]).push([[0],{121:function(e,t){},139:function(e,t){},140:function(e,t){},141:function(e,t){},156:function(e,t){},170:function(e,t,a){},171:function(e,t,a){},172:function(e,t,a){},173:function(e,t,a){},191:function(e,t,a){},192:function(e,t,a){},193:function(e,t,a){},195:function(e,t,a){},196:function(e,t,a){"use strict";a.r(t);var i=a(0),n=a.n(i),l=a(21),s=a.n(l);a(95),a(96),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var r=a(3),c=a(4),o=a(9),m=a(8),u=a(1),d=a(10),h=a(14),p=a(22),g=(a(97),a(98)),v=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.raw?i.createElement("span",{dangerouslySetInnerHTML:{__html:this.props.html}}):i.createElement("span",{dangerouslySetInnerHTML:{__html:g(this.props.html,{allowedTags:["h1","h2","h3","h4","svg","div","span","p","ol","ul","li","img","sup","strong","em","br","hr"],allowedAttributes:{div:["class","id"],span:["class","id"],p:["class","id"],img:["src","class","id","style"],ul:["class","id"]}})}})}}]),t}(i.Component),b=a(6),f=a(7),y=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={updated:!1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"dismissAlert",value:function(e){this.props.appGlobals.siteAlerts.dismissAlert(e)&&this.setState({updated:!1})}},{key:"render",value:function(){var e=this;return i.createElement("ul",{className:"styleless"},this.props.appGlobals.siteAlerts.activeAlerts.map((function(t,a){return i.createElement("div",{key:a,id:"alert-index-"+a,className:t.autoDismissSeconds>0?"position-relative alert-fade alert alert-"+t.level+" "+t.extraclass:"position-relative alert alert-"+t.level+" "+t.extraclass,style:{display:"block",height:"auto"}},t.autoDismissSeconds>0?i.createElement(i.Fragment,null,i.createElement("div",{className:"alert-countdown"},i.createElement("div",{id:"alert-bar-index-"+a,className:"alert-countdown-bar dismiss-time-"+t.autoDismissSeconds})),i.createElement("span",{onClick:function(){e.dismissAlert(a)},className:"pull-right cursor-pointer",style:{fontSize:"1.5rem"},title:"Click here to dismiss this alert, but it'll auto-dismiss in "+t.autoDismissSeconds+" seconds"},i.createElement(f.a,{icon:b.i,spin:!0}))):i.createElement(i.Fragment,null,t.dismissable?i.createElement("span",{onClick:function(){e.dismissAlert(a)},className:"pull-right cursor-pointer",style:{fontSize:"1.5rem"},title:"Click here to dismiss this alert"},i.createElement(f.a,{icon:b.i})):i.createElement(i.Fragment,null)),t.title?i.createElement("h4",null,t.title):i.createElement(i.Fragment,null),t.message?i.createElement("div",{className:t.messageclass},i.createElement(v,{html:t.message})):i.createElement(i.Fragment,null),t.externalURL?i.createElement("div",{className:"text-right"},i.createElement("a",{className:"btn btn-primary btn-sm",href:t.externalURL},"Go")):i.createElement(i.Fragment,null),t.link?i.createElement("div",{className:"text-right"},i.createElement(h.b,{className:"btn btn-primary btn-sm",to:t.link},"Go")):i.createElement(i.Fragment,null))})))}}]),t}(i.Component),k=(a(170),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={updated:!1},a.toggleMobile=a.toggleMobile.bind(Object(u.a)(a)),a.closeMobile=a.closeMobile.bind(Object(u.a)(a)),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"toggleMobile",value:function(){this.props.appGlobals.toggleMobile()}},{key:"closeMobile",value:function(){this.props.appGlobals.closeMobile()}},{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("header",{className:"topmenu"},n.a.createElement("ul",null,n.a.createElement("li",{onClick:this.toggleMobile,className:"mobile-menu-button d-inline d-md-none"},n.a.createElement(f.a,{icon:b.c})),n.a.createElement("li",{className:"d-none d-md-inline"},n.a.createElement(h.b,{className:"home"===this.props.current?"current":"",to:"".concat("/ffg-sw-genesys-helpers","/")},"Home")),n.a.createElement("li",{className:"d-none d-md-inline"},n.a.createElement(h.b,{className:"initiative"===this.props.current?"current":"",to:"".concat("/ffg-sw-genesys-helpers","/initiative")},"Initiative")),n.a.createElement("li",{className:"d-none d-md-inline"},n.a.createElement(h.b,{className:"dice"===this.props.current?"current":"",to:"".concat("/ffg-sw-genesys-helpers","/dice")},"Dice")),n.a.createElement("li",{className:"d-none d-md-inline"},n.a.createElement(h.b,{className:"adversary-creator"===this.props.current?"current":"",to:"".concat("/ffg-sw-genesys-helpers","/adversary-creator")},"Adversary Creator")),n.a.createElement("li",{className:"d-none d-md-inline"},n.a.createElement(h.b,{className:"about"===this.props.current?"current":"",to:"".concat("/ffg-sw-genesys-helpers","/about")},"About")),n.a.createElement("li",{className:"d-none d-md-inline"},n.a.createElement(h.b,{className:"settings"===this.props.current?"current":"",to:"".concat("/ffg-sw-genesys-helpers","/settings")},"Settings")))),n.a.createElement("div",{className:"mobile-menu"},n.a.createElement("ul",{className:"styleless"},n.a.createElement("li",null,n.a.createElement(h.b,{onClick:this.closeMobile,className:"home"===this.props.current?"current":"",to:"".concat("/ffg-sw-genesys-helpers","/")},"Home")),n.a.createElement("li",null,n.a.createElement(h.b,{onClick:this.closeMobile,className:"initiative"===this.props.current?"current":"",to:"".concat("/ffg-sw-genesys-helpers","/initiative")},"Initiative")),n.a.createElement("li",null,n.a.createElement(h.b,{onClick:this.closeMobile,className:"dice"===this.props.current?"current":"",to:"".concat("/ffg-sw-genesys-helpers","/dice")},"Dice")),n.a.createElement("li",null,n.a.createElement(h.b,{onClick:this.closeMobile,className:"adversary-creator"===this.props.current?"current":"",to:"".concat("/ffg-sw-genesys-helpers","/adversary-creator")},"Adversary Creator")),n.a.createElement("li",null,n.a.createElement(h.b,{onClick:this.closeMobile,className:"about"===this.props.current?"current":"",to:"".concat("/ffg-sw-genesys-helpers","/about")},"About")),n.a.createElement("li",null,n.a.createElement(h.b,{onClick:this.closeMobile,className:"settings"===this.props.current?"current":"",to:"".concat("/ffg-sw-genesys-helpers","/settings")},"Settings")))))}}]),t}(n.a.Component)),E=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:this.props.appGlobals.showMobile?"ui-page show-mobile":"ui-page"},n.a.createElement(k,{current:this.props.current,sub:this.props.sub,appGlobals:this.props.appGlobals}),n.a.createElement("div",{className:"content"},n.a.createElement(y,{appGlobals:this.props.appGlobals}),this.props.children))}}]),t}(n.a.Component),w=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={updated:!1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.appGlobals.makeDocumentTitle("Home")}},{key:"render",value:function(){return n.a.createElement(E,{current:"home",appGlobals:this.props.appGlobals},"This will be a collection of quick utilities to help Star Wars and Genesys games.")}}]),t}(n.a.Component),S=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={updated:!1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.appGlobals.makeDocumentTitle("404 - Page not Found")}},{key:"render",value:function(){return n.a.createElement(E,{appGlobals:this.props.appGlobals},"404 - Not Found")}}]),t}(n.a.Component),C=(a(171),a(198)),D=a(199),N=(a(172),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).className="",a.max=8,a.props.className&&(a.className=a.props.className),a.props.max&&(a.max=a.props.max),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){for(var e=this,t=[],a=function(a){t.push(n.a.createElement("span",{key:"ns"+a,onClick:function(){return e.props.onChange(e.props.index,a)},className:e.props.value===a?"selected":""},a))},i=0;i<this.max;i++)a(i);return n.a.createElement("div",{className:"number-select"},t)}}]),t}(n.a.Component)),x=(a(173),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).className="",a.max=5,a.props.className&&(a.className=a.props.className),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"updateProficiencyDie",value:function(e){var t=this.props.value;t.skillDice=e,this.props.onChange(this.props.index,t),this.setState({updated:!0})}},{key:"updateAbilityDie",value:function(e){var t=this.props.value;t.attributeDice=e,this.props.onChange(this.props.index,t),this.setState({updated:!0})}},{key:"render",value:function(){for(var e=this,t=[],a=function(a){t.push(n.a.createElement("span",{key:"ps"+a,onClick:function(){return e.updateProficiencyDie(a)},className:e.props.value.skillDice===a?"selected":""},a))},i=0;i<this.max;i++)a(i);for(var l=[],s=function(t){l.push(n.a.createElement("span",{key:"as"+t,onClick:function(){return e.updateAbilityDie(t)},className:e.props.value.attributeDice===t?"selected":""},t))},r=0;r<this.max;r++)s(r);var c=[],o=0,m=0;this.props.value.attributeDice>this.props.value.skillDice?(o=this.props.value.attributeDice,m=this.props.value.skillDice):(o=this.props.value.skillDice,m=this.props.value.attributeDice);for(var u=0;u<o;u++)u<m?c.push(n.a.createElement("span",{key:"p"+u,className:"dice die-proficiency"},"c")):c.push(n.a.createElement("span",{key:"a"+u,className:"dice die-ability"},"c"));return n.a.createElement(n.a.Fragment,null,n.a.createElement("label",{className:"skill-select"},this.props.label,": ",c,n.a.createElement("br",null),n.a.createElement("div",{className:"number-select text-right"},"Ability Dice: ",l,n.a.createElement("br",null),"Proficiency Dice: ",t,n.a.createElement("br",null))),n.a.createElement("br",null))}}]),t}(n.a.Component)),A=function(){function e(){Object(r.a)(this,e)}return Object(c.a)(e,[{key:"_getRandomInt",value:function(e){return Math.floor(Math.random()*Math.floor(e))}},{key:"rollDie",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6;return this._getRandomInt(e)+1}},{key:"rollFGDice",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,r=0,c=0,o=0,m=0,u=0,d=0,h=0,p=0,g=0,v=0,b=0,f=0,y=0,k=0,E=[],w=0;w<t;w++){var S=this.rollDie(12),C={type:"proficiency",title:"",numSides:8,rawRoll:S,successes:0,advantages:0,failures:0,threats:0,triumphs:0,despairs:0,lightSide:0,darkSide:0};switch(S){case 1:C.title="(nothing)";break;case 2:case 3:C.successes++,C.title="One Success";break;case 4:case 5:C.successes++,C.successes++,C.title="Two Successes";break;case 6:C.advantages++,C.title="One Advantage";break;case 7:case 8:case 9:C.advantages++,C.successes++,C.title="One Advantage, one success";break;case 10:case 11:C.advantages++,C.advantages++,C.title="Two Advantages";break;case 12:C.successes++,C.triumphs++,C.title="One Triumph (counts as success)"}E.push(C)}for(var D=0;D<e;D++){var N=this.rollDie(8),x={type:"ability",title:"",numSides:8,rawRoll:N,successes:0,advantages:0,failures:0,threats:0,triumphs:0,despairs:0,lightSide:0,darkSide:0};switch(N){case 1:x.title="( nothing )";break;case 2:case 3:x.successes++,x.title="One Success";break;case 4:x.successes++,x.successes++,x.title="Two Successes";break;case 5:case 6:x.advantages++,x.title="One Advantage";break;case 7:x.advantages++,x.successes++,x.title="One Advantage, One Success";break;case 8:x.advantages++,x.advantages++,x.title="Two Advantages"}E.push(x)}for(var A=0;A<a;A++){var O=this.rollDie(6),I={type:"boost",title:"",numSides:8,rawRoll:O,successes:0,advantages:0,failures:0,threats:0,triumphs:0,despairs:0,lightSide:0,darkSide:0};switch(O){case 1:case 2:I.title="(nothing)";break;case 3:I.successes++,I.title="One Success";break;case 4:I.successes++,I.advantages++,I.title="One Success, One Advantage";break;case 5:I.advantages++,I.advantages++,I.title="Two Advantages";break;case 6:I.advantages++,I.title="One Advantage"}E.push(I)}for(var L=0;L<i;L++){var T=this.rollDie(8),j={type:"difficulty",title:"",numSides:8,rawRoll:T,successes:0,advantages:0,failures:0,threats:0,triumphs:0,despairs:0,lightSide:0,darkSide:0};switch(T){case 1:j.title="(nothing)";break;case 2:j.failures++,j.title="One Failure";break;case 3:j.failures++,j.failures++,j.title="Two Failures";break;case 4:case 5:case 6:j.threats++,j.title="One Threat";break;case 7:j.threats++,j.threats++,j.title="Two Threats";break;case 8:j.threats++,j.failures++,j.title="One Threat, One Failure"}E.push(j)}for(var F=0;F<l;F++){var M=this.rollDie(6),P={type:"setback",title:"",numSides:8,rawRoll:M,successes:0,advantages:0,failures:0,threats:0,triumphs:0,despairs:0,lightSide:0,darkSide:0};switch(M){case 1:case 2:P.title="(nothing)";break;case 3:case 4:P.failures++,P.title="One Failure";break;case 5:case 6:P.threats++,P.title="One Threat"}E.push(P)}for(var G=0;G<n;G++){var R=this.rollDie(12),W={type:"challenge",title:"",numSides:12,rawRoll:R,successes:0,advantages:0,failures:0,threats:0,triumphs:0,despairs:0,lightSide:0,darkSide:0};switch(R){case 1:W.title="(nothing)";break;case 2:case 3:W.failures++,W.title="One Failure";break;case 4:case 5:W.failures++,W.failures++,W.title="Two Failures";break;case 6:case 7:W.threats++,W.title="One Threat";break;case 8:case 9:W.threats++,W.failures++,W.title="One Threat, One Failure";break;case 10:case 11:W.threats++,W.threats++,W.title="Two Threats";break;case 12:W.failures++,W.despairs++,W.title="One Despair (counts as failure)"}E.push(W)}for(var q=0;q<s;q++){var B=this.rollDie(12),V={type:"force",title:"",numSides:12,rawRoll:B,successes:0,advantages:0,failures:0,threats:0,triumphs:0,despairs:0,lightSide:0,darkSide:0};switch(B){case 1:V.darkSide++;break;case 2:case 3:case 4:case 5:case 6:V.darkSide++,V.title="One Dark Side Point";break;case 7:V.darkSide++,V.darkSide++,V.title="Two Dark Side Points";break;case 8:case 9:V.lightSide++,V.title="One Light Side Point";break;case 10:case 11:case 12:V.lightSide++,V.lightSide++,V.title="Two Light Side Points"}E.push(V)}for(var _=0,H=E;_<H.length;_++){var J=H[_];r+=J.successes,c+=J.advantages,o+=J.failures,m+=J.threats,d+=J.despairs,u+=J.triumphs,y+=J.lightSide,k+=J.darkSide}return r>o?h=r-o:g=o-r,m>c?v=m-c:p=c-m,d>u?f=d-u:b=u-d,{rolls:E,netSuccesses:r,netAdvantages:c,netFailures:o,netThreats:m,netTriumphs:u,netDespairs:d,grossSuccesses:h,grossAdvantages:p,grossFailures:g,grossThreats:v,grossTriumphs:b,grossDespairs:f,grossDarkSide:k,grossLightSide:y,netLightSide:y,netDarkSide:k,total:0}}}]),e}(),O=function(e){function t(e){var a;Object(r.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).numPCs=4,a.numNPCs=2,a.currentInitiative=-1,a.initMap=[];var i=localStorage.getItem("numPCs"),n=localStorage.getItem("initMap"),l=localStorage.getItem("currentInitiative"),s=localStorage.getItem("hideControls"),c=!1;s&&+s>0&&(c=!0);var d=localStorage.getItem("hideRolls"),h=!1;d&&+d>0&&(h=!0);var p=localStorage.getItem("roundNumber"),g=1;if(p&&+p>1&&(g=+p),l&&(a.currentInitiative=+l,Number.isNaN(a.currentInitiative)&&(a.currentInitiative=-1)),i&&(a.numPCs=+i),n)a.initMap=JSON.parse(n);else for(var v=0;v<a.numPCs;v++)a.initMap.push({label:"PC",successes:0,advantages:0,triumphs:0,npc:!1,skillCool:{skillDice:0,attributeDice:0},skillVigilance:{skillDice:0,attributeDice:0}});var b=!0,f=!1,y=void 0;try{for(var k,E=a.initMap[Symbol.iterator]();!(b=(k=E.next()).done);b=!0){var w=k.value;w.skillCool||(w.skillCool={skillDice:0,attributeDice:0}),w.skillVigilance||(w.skillVigilance={skillDice:0,attributeDice:0}),w.skillCool.attributeDice||(w.skillCool.attributeDice=0),w.skillVigilance.attributeDice||(w.skillVigilance.attributeDice=0)}}catch(S){f=!0,y=S}finally{try{b||null==E.return||E.return()}finally{if(f)throw y}}return 0===a.initMap.length&&(c=!1,localStorage.setItem("hideControls","0")),a.state={updated:!1,editItem:null,editItemIndex:-1,hideControls:c,hideRolls:h,roundNumber:g},a.updateInitSuccesses=a.updateInitSuccesses.bind(Object(u.a)(a)),a.updateInitAdvantages=a.updateInitAdvantages.bind(Object(u.a)(a)),a.updateInitTriumphs=a.updateInitTriumphs.bind(Object(u.a)(a)),a.updateNumPCs=a.updateNumPCs.bind(Object(u.a)(a)),a.addItem=a.addItem.bind(Object(u.a)(a)),a.sortInit=a.sortInit.bind(Object(u.a)(a)),a.initForward=a.initForward.bind(Object(u.a)(a)),a.initBackward=a.initBackward.bind(Object(u.a)(a)),a.removeSlot=a.removeSlot.bind(Object(u.a)(a)),a.handleClose=a.handleClose.bind(Object(u.a)(a)),a.editSlot=a.editSlot.bind(Object(u.a)(a)),a.updateCoolValue=a.updateCoolValue.bind(Object(u.a)(a)),a.updateVigilanceValue=a.updateVigilanceValue.bind(Object(u.a)(a)),a.rollVigilance=a.rollVigilance.bind(Object(u.a)(a)),a.rollCool=a.rollCool.bind(Object(u.a)(a)),a.updateNPC=a.updateNPC.bind(Object(u.a)(a)),a.toggleHideControls=a.toggleHideControls.bind(Object(u.a)(a)),a.toggleHideRolls=a.toggleHideRolls.bind(Object(u.a)(a)),a.resetRound=a.resetRound.bind(Object(u.a)(a)),a.selectNextItem=a.selectNextItem.bind(Object(u.a)(a)),a.selectPreviousItem=a.selectPreviousItem.bind(Object(u.a)(a)),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"selectPreviousItem",value:function(){var e=null,t=this.state.editItemIndex-1;t>-1&&t<this.initMap.length?e=this.initMap[t]:t=-1,this.setState({editItem:e,editItemIndex:t})}},{key:"selectNextItem",value:function(){var e=null,t=this.state.editItemIndex+1;t<this.initMap.length?e=this.initMap[t]:t=-1,this.setState({editItem:e,editItemIndex:t})}},{key:"resetRound",value:function(){localStorage.setItem("currentInitiative","-1"),this.currentInitiative=-1,this.setState({roundNumber:1,updated:!0})}},{key:"toggleHideRolls",value:function(){var e=!this.state.hideRolls;e?localStorage.setItem("hideRolls","1"):localStorage.setItem("hideRolls","0"),this.setState({hideRolls:e})}},{key:"toggleHideControls",value:function(){var e=!this.state.hideControls;e?localStorage.setItem("hideControls","1"):localStorage.setItem("hideControls","0"),this.setState({hideControls:e})}},{key:"updateNPC",value:function(e){this.state.editItem&&this.state.editItemIndex<this.initMap.length&&(this.initMap[this.state.editItemIndex].npc=e.currentTarget.checked,e.currentTarget.checked?this.initMap[this.state.editItemIndex].label="NPC":this.initMap[this.state.editItemIndex].label="PC",this.setState({updated:!0}),localStorage.setItem("initMap",JSON.stringify(this.initMap)))}},{key:"rollCool",value:function(e){if(e<this.initMap.length&&this.initMap[e]){var t=(new A).rollFGDice(this.getattributeDice(this.initMap[e].skillCool),this.getProcidiencyDice(this.initMap[e].skillCool));this.initMap[e].triumphs=t.netTriumphs,this.initMap[e].successes=t.netSuccesses,this.initMap[e].advantages=t.netAdvantages,this.setState({updated:!0}),localStorage.setItem("initMap",JSON.stringify(this.initMap))}}},{key:"rollVigilance",value:function(e){if(e<this.initMap.length&&this.initMap[e]){var t=(new A).rollFGDice(this.getattributeDice(this.initMap[e].skillVigilance),this.getProcidiencyDice(this.initMap[e].skillVigilance));this.initMap[e].triumphs=t.netTriumphs,this.initMap[e].successes=t.netSuccesses,this.initMap[e].advantages=t.netAdvantages,this.setState({updated:!0}),localStorage.setItem("initMap",JSON.stringify(this.initMap))}}},{key:"getattributeDice",value:function(e){var t=0,a=0;return e.attributeDice>e.skillDice?(t=e.attributeDice,a=e.skillDice):(t=e.skillDice,a=e.attributeDice),t-a}},{key:"getProcidiencyDice",value:function(e){return e.attributeDice>e.skillDice?e.skillDice:e.attributeDice}},{key:"updateCoolValue",value:function(e,t){this.initMap.length>e&&(this.initMap[e].skillCool=t),localStorage.setItem("initMap",JSON.stringify(this.initMap)),this.setState({updated:!0})}},{key:"updateVigilanceValue",value:function(e,t){this.initMap.length>e&&(this.initMap[e].skillVigilance=t),localStorage.setItem("initMap",JSON.stringify(this.initMap)),this.setState({updated:!0})}},{key:"editSlot",value:function(e,t){this.setState({editItem:e,editItemIndex:t})}},{key:"initForward",value:function(){var e=this.currentInitiative+1,t=this.state.roundNumber;e>this.initMap.length-1&&(t++,e=0),this.currentInitiative=e,localStorage.setItem("currentInitiative",e.toString()),this.setState({updated:!0,roundNumber:t})}},{key:"initBackward",value:function(){var e=this.currentInitiative-1,t=this.state.roundNumber;e<-1&&(--t<1?(t=1,e<0&&(e=-1)):e=this.initMap.length),this.currentInitiative=e,localStorage.setItem("currentInitiative",e.toString()),this.setState({updated:!0,roundNumber:t})}},{key:"sortInit",value:function(){localStorage.setItem("currentInitiative","-1"),localStorage.setItem("currentRound","1"),this.initMap.sort((function(e,t){return e.successes<t.successes?1:e.successes>t.successes?-1:e.advantages<t.advantages?1:e.advantages>t.advantages?-1:"PC"===e.label&&"NPC"===t.label?-1:"NPC"===e.label&&"PC"===t.label?1:0})),localStorage.setItem("initMap",JSON.stringify(this.initMap)),this.setState({updated:!0})}},{key:"addItem",value:function(){this.initMap.push({label:"PC",successes:0,advantages:0,triumphs:0,npc:!1,skillCool:{skillDice:0,attributeDice:0},skillVigilance:{skillDice:0,attributeDice:0}}),localStorage.setItem("initMap",JSON.stringify(this.initMap)),this.setState({updated:!0,editItem:this.initMap[this.initMap.length-1],editItemIndex:this.initMap.length-1})}},{key:"removeSlot",value:function(e){this.initMap.length>e&&this.initMap.splice(e,1);var t=this.state.hideControls;0===this.initMap.length&&(t=!1,localStorage.setItem("hideControls","0")),localStorage.setItem("initMap",JSON.stringify(this.initMap)),this.setState({updated:!0,hideControls:t})}},{key:"updateInitAdvantages",value:function(e,t){this.initMap.length>e&&(this.initMap[e].advantages=t),localStorage.setItem("initMap",JSON.stringify(this.initMap)),this.setState({updated:!0})}},{key:"updateInitTriumphs",value:function(e,t){this.initMap.length>e&&(this.initMap[e].triumphs=t),localStorage.setItem("initMap",JSON.stringify(this.initMap)),this.setState({updated:!0})}},{key:"updateInitSuccesses",value:function(e,t){this.initMap.length>e&&(this.initMap[e].successes=t),localStorage.setItem("initMap",JSON.stringify(this.initMap)),this.setState({updated:!0})}},{key:"updateNumPCs",value:function(e){this.numPCs=+e.currentTarget.value,localStorage.setItem("numPCs",e.currentTarget.value),this.setState({updated:!0})}},{key:"handleClose",value:function(){this.setState({editItem:null})}},{key:"componentDidMount",value:function(){this.props.appGlobals.makeDocumentTitle("Initiative")}},{key:"render",value:function(){var e=this,t="s",a="a",i="t";return"starwars"===this.props.appGlobals.settings.dieIconClass&&(t="s",a="a",i="x"),n.a.createElement(E,{current:"initiative",appGlobals:this.props.appGlobals},n.a.createElement(C.a,{onHide:this.handleClose,show:null!=this.state.editItem},n.a.createElement(C.a.Header,{closeButton:!0},this.state.editItem&&this.state.editItem.npc?n.a.createElement(n.a.Fragment,null,"NPC Edit"):n.a.createElement(n.a.Fragment,null,"PC Edit")),n.a.createElement(C.a.Body,null,this.state.editItem?n.a.createElement("div",{className:"form"},n.a.createElement("label",null,"NPC:\xa0",n.a.createElement("input",{type:"checkbox",checked:this.state.editItem.npc,onChange:this.updateNPC})),n.a.createElement("br",null),n.a.createElement("label",null,"Successes:\xa0",n.a.createElement(N,{value:this.state.editItem.successes,max:8,index:this.state.editItemIndex,onChange:this.updateInitSuccesses})),n.a.createElement("br",null),n.a.createElement("label",null,"Advantages:\xa0",n.a.createElement(N,{value:this.state.editItem.advantages,max:8,index:this.state.editItemIndex,onChange:this.updateInitAdvantages})),n.a.createElement("br",null),n.a.createElement("label",null,"Triumphs:\xa0",n.a.createElement(N,{value:this.state.editItem.triumphs,max:8,index:this.state.editItemIndex,onChange:this.updateInitTriumphs})),n.a.createElement("br",null),n.a.createElement("hr",null),n.a.createElement(x,{value:this.state.editItem.skillCool,index:this.state.editItemIndex,onChange:this.updateCoolValue,label:"Cool"}),n.a.createElement(x,{value:this.state.editItem.skillVigilance,index:this.state.editItemIndex,onChange:this.updateVigilanceValue,label:"Vigilance"})):n.a.createElement(n.a.Fragment,null)),n.a.createElement(C.a.Footer,{className:"text-center"},n.a.createElement(D.a,{variant:"primary",onClick:this.selectPreviousItem,tabIndex:1,disabled:this.state.editItemIndex<1,title:"Select the previous Initiative Slot"},"Previous"),n.a.createElement(D.a,{variant:"primary",onClick:this.handleClose,title:"Close this dialog"},"Close"),"#",this.state.editItemIndex+1," / ",this.initMap.length,n.a.createElement(D.a,{variant:"primary",onClick:this.addItem,tabIndex:1,title:"Add an Initiative Slot"},"Add New"),n.a.createElement(D.a,{variant:"primary",onClick:this.selectNextItem,tabIndex:1,title:"Select the next Initiative Slot",disabled:this.state.editItemIndex>=this.initMap.length-1},"Next"))),n.a.createElement("div",{className:"text-center control-bar"},n.a.createElement("div",{className:"text-left"},n.a.createElement(D.a,{variant:"primary",onClick:this.initBackward,tabIndex:0,title:"Move to the last initiative"},n.a.createElement(f.a,{icon:b.a}))),this.state.hideControls?n.a.createElement(n.a.Fragment,null):n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:""},n.a.createElement(D.a,{variant:"primary",onClick:this.addItem,tabIndex:1,title:"Add an Initiative Slot"},"Add")),n.a.createElement("div",{className:""},n.a.createElement(D.a,{variant:"primary",onClick:this.sortInit,tabIndex:2,title:"Sort"},"Sort"))),n.a.createElement("div",{className:"grow text-right"},n.a.createElement(D.a,{variant:"primary",onClick:this.initForward,tabIndex:4,title:"Move to the next initiative"},"Next Turn \xa0",n.a.createElement(f.a,{icon:b.b}),"\xa0"))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md-6 round-number"},n.a.createElement("strong",null,"Round Number:")," ",this.state.roundNumber,n.a.createElement(D.a,{variant:"primary",className:"btn-xs",onClick:this.resetRound},n.a.createElement(f.a,{icon:b.h}))),n.a.createElement("div",{className:"col-md-6 control-visibility"},n.a.createElement("label",null,n.a.createElement("input",{type:"checkbox",checked:this.state.hideControls,onChange:this.toggleHideControls}),"\xa0Hide Edit Controls"),"\xa0|\xa0",n.a.createElement("label",null,n.a.createElement("input",{type:"checkbox",checked:this.state.hideRolls,onChange:this.toggleHideRolls}),"\xa0Hide Rolls"))),0===this.initMap.length?n.a.createElement("div",{className:"text-center"},n.a.createElement("br",null),"You have no initiative slots. Click on the\xa0",n.a.createElement(D.a,{variant:"primary",onClick:this.addItem,tabIndex:1,className:"btn-xs",title:"Add an Initiative Slot"},"Add"),"\xa0button above to add a slot."):n.a.createElement("div",{className:"init-labels"},this.initMap.map((function(l,s){for(var r=[],c=0;c<l.successes;c++)r.push(n.a.createElement("span",{title:"Success",key:"s"+c,className:e.props.appGlobals.settings.dieIconClass+" icon-single"},t));for(var o=0;o<l.advantages;o++)r.push(n.a.createElement("span",{title:"Advantage",key:"a"+o,className:e.props.appGlobals.settings.dieIconClass+" icon-single"},a));for(var m=0;m<l.triumphs;m++)r.push(n.a.createElement("span",{title:"Triumph",key:"t"+m,className:e.props.appGlobals.settings.dieIconClass+" icon-single"},i));var u=[],d=0,h=0;l.skillCool.attributeDice>l.skillCool.skillDice?(d=l.skillCool.attributeDice,h=l.skillCool.skillDice):(d=l.skillCool.skillDice,h=l.skillCool.attributeDice);for(var p=0;p<d;p++)p<h?u.push(n.a.createElement("span",{key:p,className:"dice die-proficiency"},"c")):u.push(n.a.createElement("span",{key:p,className:"dice die-ability"},"c"));var g=[];d=0,h=0,l.skillVigilance.attributeDice>l.skillVigilance.skillDice?(d=l.skillVigilance.attributeDice,h=l.skillVigilance.skillDice):(d=l.skillVigilance.skillDice,h=l.skillVigilance.attributeDice);for(var v=0;v<d;v++)v<h?g.push(n.a.createElement("span",{key:v,className:"dice die-proficiency"},"c")):g.push(n.a.createElement("span",{key:v,className:"dice die-ability"},"c"));return n.a.createElement("div",{className:s===e.currentInitiative?"init-map-item current":"init-map-item",key:s},n.a.createElement("div",{className:l.npc?"label npc":"label pc"},n.a.createElement("div",{className:"name-results"},l.label,n.a.createElement("br",null),e.state.hideRolls&&e.state.hideControls?n.a.createElement(n.a.Fragment,null):n.a.createElement(n.a.Fragment,null,"\xa0",r)),!e.state.hideControls&&(l.skillCool.attributeDice>0||l.skillCool.skillDice>0||l.skillVigilance.attributeDice>0||l.skillVigilance.skillDice>0)?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"skill-values"},n.a.createElement("table",null,n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("td",{className:"text-right"},"Cool:",n.a.createElement("br",null),n.a.createElement(D.a,{variant:"primary",onClick:function(){return e.rollCool(s)},className:"btn-xs"},n.a.createElement(f.a,{icon:b.e})),"\xa0"),n.a.createElement("td",{className:"text-left"},u)),n.a.createElement("tr",null,n.a.createElement("td",{className:"text-right"},"Vigilance:",n.a.createElement("br",null),n.a.createElement(D.a,{variant:"primary",onClick:function(){return e.rollVigilance(s)},className:"btn-xs"},n.a.createElement(f.a,{icon:b.e})),"\xa0"),n.a.createElement("td",{className:"text-right"},g)))))):n.a.createElement(n.a.Fragment,null)),n.a.createElement("div",{className:"controls"},e.state.hideControls?n.a.createElement(n.a.Fragment,null):n.a.createElement(n.a.Fragment,null,n.a.createElement(D.a,{variant:"primary",onClick:function(){return e.editSlot(l,s)},title:"Edit this initiative slot"},n.a.createElement(f.a,{icon:b.d}))),n.a.createElement(D.a,{variant:"primary",tabIndex:s+e.initMap.length+5,onClick:function(){return e.removeSlot(s)},title:"Remove this initiative slot"},n.a.createElement(f.a,{icon:b.j}))))}))))}}]),t}(n.a.Component),I=function(){function e(t){Object(r.a)(this,e),this._app=void 0,this.activeAlerts=[],this.cancelTimeout=-1,this._app=t,this.activeAlerts=[]}return Object(c.a)(e,[{key:"dismissAlert",value:function(e){var t=this;this.cancelTimeout>-1&&window.clearTimeout(this.cancelTimeout);var a=document.getElementById("alert-index-"+e);return a&&(a.style.height="0px",a.style.paddingTop="0px",a.style.paddingBottom="0px",a.style.borderTop="0px",a.style.borderBottom="0px"),!!(this.activeAlerts.length>e&&this.activeAlerts[e].dismissable)&&(window.setTimeout((function(){var a=null;t.activeAlerts[e].dismissFunction&&(a=t.activeAlerts[e].dismissFunction),t.activeAlerts.splice(e,1),a&&a(),t._app.refreshGlobalState()}),100),!0)}},{key:"addAlert",value:function(e,t,a){var i=this,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",l=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=arguments.length>5?arguments[5]:void 0,r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"",o=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"",m=arguments.length>9&&void 0!==arguments[9]?arguments[9]:"";this.activeAlerts.push({level:e,title:t,message:a,messageclass:n,externalURL:c,link:o,dismissable:l,extraclass:m,autoDismissSeconds:r,dismissFunction:s});var u=this.activeAlerts.length-1;this._app.refreshGlobalState(),r>0&&(window.setTimeout((function(){var e=document.getElementById("alert-index-"+u);e&&(e.className=e.className+"fade-away")}),1e3*r-250),window.setTimeout((function(){var e=document.getElementById("alert-bar-index-"+u);e&&(e.style.width="0px")}),100),this.cancelTimeout=window.setTimeout((function(){i.activeAlerts.splice(u,1),s&&s(),i._app.refreshGlobalState()}),1e3*r))}}]),e}(),L="FFG Star Wars/Genesys Helpers",T=(a(191),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={updated:!1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.appGlobals.makeDocumentTitle("About")}},{key:"render",value:function(){return n.a.createElement(E,{current:"about",appGlobals:this.props.appGlobals},n.a.createElement("h2",null,"Credits"),n.a.createElement("h4",null,"Jeffrey D. Gordon"),n.a.createElement("strong",null,"Developer and Designer")," - ",n.a.createElement("a",{href:"https://twitter.com/gauthic/"},"@Gauthic"),n.a.createElement("br",null),n.a.createElement("p",null,"Jeff has been playing tabletop role playing games since the very early 80's (or earlier!) and has been a professional developer since 1996. These tools, and several others, including \xa0",n.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://jdgwf.github.io/savage-worlds-web-tools/"},"the Savage Worlds Web Tools project"),", \xa0",n.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://savaged.us"},"Savaged.us"),", \xa0",n.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://jdgwf.github.io/battletech-tools/"},"Gauthic's Battletech Tools"),",\xa0and ",n.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://jdgwf.github.io/tournament-tracker/"},"Tournament Tracker"),"\xa0are all created and updated in his spare time while juggling work, family, and writing a handful of novels."),n.a.createElement("h2",null,"Copyrights and Attributions"),n.a.createElement("p",null,"Genesys and its logo, and Genesys Foundry and its logo, are trademarks of Fantasy Flight Games in the U.S.A. and other countries. All Fantasy Flight Games characters and character names, and the distinctive likenesses thereof, are trademarks of Fantasy Flight Games. ",n.a.createElement("a",{href:"http://www.FantasyFlightGames.com"},"www.FantasyFlightGames.com"),"."),n.a.createElement("p",null,"All other original material in this work is copyright 2019 by Jeffrey Gordon and published under the GPL. "),n.a.createElement("p",null,"Star Wars and its logo are owned by Lucasfilm/Disney."),n.a.createElement("p",null,"Die icons are owned by Fantasy Flight Games and/or Lucasfilm/Disney."),n.a.createElement("p",null,"Some images and icons are from \xa0",n.a.createElement("a",{href:"https://www.dropbox.com/sh/raqr7usuzwizglm/AACsYe6LVU_-f372tRG6vxtya?dl=0"},"DrainSmith's Dispensary of Genesys")),n.a.createElement("p",null,"This project is licensed under the GPL and you can contribute to the source at ",n.a.createElement("a",{href:"https://github.com/jdgwf/ffg-sw-genesys-helpers"},"its GitHub repository.")),n.a.createElement("h2",null,"Support"),n.a.createElement("p",null,"Feel free to submit issues to the ",n.a.createElement("a",{href:"https://github.com/jdgwf/ffg-sw-genesys-helpers/issues"},"Github Repository")),n.a.createElement("h2",null,"Privacy"),n.a.createElement("p",null,"This app doesn't track who, where, or when you use it, so I've no idea how well used it is. If you like it, feel free to tweet me at ",n.a.createElement("a",{href:"https://twitter.com/gauthic/"},"@Gauthic")),n.a.createElement("p",null,"In the future a syncing function may be added which will likely use tracking cookies for the sync share (possibly Firebase or other open methods), at that point it will be all on the syncing server."))}}]),t}(n.a.Component)),j=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={updated:!1},a.setUITheme=a.setUITheme.bind(Object(u.a)(a)),a.setDieIconClass=a.setDieIconClass.bind(Object(u.a)(a)),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"setUITheme",value:function(e){var t=this.props.appGlobals.settings;t.uiTheme=e.currentTarget.value,this.props.appGlobals.saveSettings(t)}},{key:"setDieIconClass",value:function(e){var t=this.props.appGlobals.settings;t.dieIconClass=e.currentTarget.value,localStorage.setItem("forceDice","0"),this.props.appGlobals.saveSettings(t)}},{key:"componentDidMount",value:function(){this.props.appGlobals.makeDocumentTitle("Settings")}},{key:"render",value:function(){return n.a.createElement(E,{current:"settings",appGlobals:this.props.appGlobals},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md-6"},n.a.createElement("fieldset",{className:"fieldset"},n.a.createElement("legend",null,"User Interface"),n.a.createElement("select",{value:this.props.appGlobals.settings.uiTheme,onChange:this.setUITheme},n.a.createElement("option",{value:""},"Default"),n.a.createElement("option",{value:"desaturated"},"Desaturated"),n.a.createElement("option",{value:"retro"},"Retro"))),n.a.createElement("fieldset",{className:"fieldset"},n.a.createElement("legend",null,"Die Icons"),n.a.createElement("select",{value:this.props.appGlobals.settings.dieIconClass,onChange:this.setDieIconClass},n.a.createElement("option",{value:""},"Genesys"),n.a.createElement("option",{value:"starwars"},"Star Wars"))))))}}]),t}(n.a.Component),F=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={updated:!1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.appGlobals.makeDocumentTitle("Temp")}},{key:"render",value:function(){return n.a.createElement(E,{current:"Temp",appGlobals:this.props.appGlobals},n.a.createElement("p",{className:"text-box"},n.a.createElement("span",{className:"symbols"},"a")," = Advantage",n.a.createElement("br",null),n.a.createElement("span",{className:"symbols"},"h")," = Threat",n.a.createElement("br",null),n.a.createElement("span",{className:"symbols"},"f")," = Failure",n.a.createElement("br",null),n.a.createElement("span",{className:"symbols"},"s")," = Success",n.a.createElement("br",null),n.a.createElement("span",{className:"symbols"},"t")," = Triumph",n.a.createElement("br",null),n.a.createElement("span",{className:"symbols"},"d")," = Despair",n.a.createElement("br",null),n.a.createElement("span",{className:"die-setback"},"b")," = Setback Dice",n.a.createElement("br",null),n.a.createElement("span",{className:"die-boost"},"b")," = Boost Dice",n.a.createElement("br",null),n.a.createElement("span",{className:"die-difficulty"},"d")," = Difficulty Dice",n.a.createElement("br",null),n.a.createElement("span",{className:"die-ability"},"d")," = Ability Dice",n.a.createElement("br",null),n.a.createElement("span",{className:"die-challenge"},"c")," = Challenge Dice",n.a.createElement("br",null),n.a.createElement("span",{className:"die-proficiency"},"c")," = Proficiency Dice ",n.a.createElement("br",null)),n.a.createElement("p",null,"Star Wars",n.a.createElement("br",null),n.a.createElement("span",{className:"dice"},"s")," = Success",n.a.createElement("br",null),n.a.createElement("span",{className:"dice"},"a")," = Advantage",n.a.createElement("br",null),n.a.createElement("span",{className:"dice"},"x")," = Triumph",n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("span",{className:"dice"},"f")," = Failure",n.a.createElement("br",null),n.a.createElement("span",{className:"dice"},"t")," = Threat",n.a.createElement("br",null),n.a.createElement("span",{className:"dice"},"y")," = Despair",n.a.createElement("br",null),n.a.createElement("span",{className:"dice"},"z")," = Dark Side",n.a.createElement("br",null),n.a.createElement("span",{className:"dice"},"Z")," = Light Side",n.a.createElement("br",null)))}}]),t}(n.a.Component),M=(a(192),a(193),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).className="",a.props.className&&(a.className=a.props.className),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e="s",t="a",a="t",i="f",l="h",s="d",r="",c="";return"starwars"===this.props.appGlobals.settings.dieIconClass&&(e="s",t="a",a="x",i="f",l="t",s="y",r="z",c="Z"),n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"die die-"+this.props.dieResult.type+" "+this.className,title:this.props.dieResult.title+" (raw #"+this.props.dieResult.rawRoll+")"},n.a.createElement("div",{className:"die-bg"},"setback"===this.props.dieResult.type?n.a.createElement("span",{className:"setback"},"b"):n.a.createElement(n.a.Fragment,null),"boost"===this.props.dieResult.type?n.a.createElement("span",{className:"boost"},"b"):n.a.createElement(n.a.Fragment,null),"difficulty"===this.props.dieResult.type?n.a.createElement("span",{className:"difficulty"},"d"):n.a.createElement(n.a.Fragment,null),"ability"===this.props.dieResult.type?n.a.createElement("span",{className:"ability"},"d"):n.a.createElement(n.a.Fragment,null),"challenge"===this.props.dieResult.type?n.a.createElement("span",{className:"challenge"},"c"):n.a.createElement(n.a.Fragment,null),"proficiency"===this.props.dieResult.type?n.a.createElement("span",{className:"proficiency"},"c"):n.a.createElement(n.a.Fragment,null),"force"===this.props.dieResult.type?n.a.createElement("span",{className:"force"},"c"):n.a.createElement(n.a.Fragment,null)),n.a.createElement("div",{className:"die-face "+this.props.appGlobals.settings.dieIconClass},1===this.props.dieResult.triumphs?n.a.createElement("span",{className:"icon-single"},a):n.a.createElement(n.a.Fragment,null,1===this.props.dieResult.despairs?n.a.createElement("span",{className:"icon-single"},s):n.a.createElement(n.a.Fragment,null,1===this.props.dieResult.successes?n.a.createElement(n.a.Fragment,null,1===this.props.dieResult.advantages?n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"icon-1"},e),n.a.createElement("span",{className:"icon-2"},t)):n.a.createElement("span",{className:"icon-single"},e)):n.a.createElement(n.a.Fragment,null),2===this.props.dieResult.successes?n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"icon-1"},e),n.a.createElement("span",{className:"icon-2"},e)):n.a.createElement(n.a.Fragment,null),1===this.props.dieResult.advantages?n.a.createElement(n.a.Fragment,null,1===this.props.dieResult.successes?n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"icon-1"},e),n.a.createElement("span",{className:"icon-2"},t)):n.a.createElement("span",{className:"icon-single"},t)):n.a.createElement(n.a.Fragment,null),2===this.props.dieResult.advantages?n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"icon-1"},t),n.a.createElement("span",{className:"icon-2"},t)):n.a.createElement(n.a.Fragment,null),1===this.props.dieResult.failures?n.a.createElement(n.a.Fragment,null,1===this.props.dieResult.threats?n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"icon-1"},i),n.a.createElement("span",{className:"icon-2"},l)):n.a.createElement("span",{className:"icon-single"},i)):n.a.createElement(n.a.Fragment,null),2===this.props.dieResult.failures?n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"icon-1"},i),n.a.createElement("span",{className:"icon-2"},i)):n.a.createElement(n.a.Fragment,null),1===this.props.dieResult.threats?n.a.createElement(n.a.Fragment,null,1===this.props.dieResult.failures?n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"icon-1"},i),n.a.createElement("span",{className:"icon-2"},l)):n.a.createElement("span",{className:"icon-single"},l)):n.a.createElement(n.a.Fragment,null),2===this.props.dieResult.threats?n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"icon-1"},l),n.a.createElement("span",{className:"icon-2"},l)):n.a.createElement(n.a.Fragment,null),1===this.props.dieResult.darkSide?n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"icon-single"},r)):n.a.createElement(n.a.Fragment,null),2===this.props.dieResult.darkSide?n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"icon-1"},r),n.a.createElement("span",{className:"icon-2"},r)):n.a.createElement(n.a.Fragment,null),1===this.props.dieResult.lightSide?n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"icon-single"},c)):n.a.createElement(n.a.Fragment,null),2===this.props.dieResult.lightSide?n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"icon-1"},c),n.a.createElement("span",{className:"icon-2"},c)):n.a.createElement(n.a.Fragment,null)))),n.a.createElement("div",{className:"raw-roll"},"#"+this.props.dieResult.rawRoll)))}}]),t}(n.a.Component)),P=function(e){function t(e){var a;Object(r.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).dieRolls=null,a.diceObj=new A;var i=3,n=1,l=0,s=2,c=0,d=0,h=0,p=localStorage.getItem("abilityDice");p&&(i=+p);var g=localStorage.getItem("proficiencyDice");g&&(n=+g);var v=localStorage.getItem("boostsDice");v&&(l=+v);var b=localStorage.getItem("difficultyDice");b&&(s=+b);var f=localStorage.getItem("challengeDice");f&&(c=+f);var y=localStorage.getItem("setbackDice");y&&(d=+y);var k=localStorage.getItem("forceDice");return k&&(h=+k),a.state={updated:!1,abilityDice:i,proficiencyDice:n,boostsDice:l,difficultyDice:s,challengeDice:c,setbackDice:d,forceDice:h},a.rollDice=a.rollDice.bind(Object(u.a)(a)),a.rollDice(),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.appGlobals.makeDocumentTitle("Dice")}},{key:"rollDice",value:function(){this.dieRolls=this.diceObj.rollFGDice(this.state.abilityDice,this.state.proficiencyDice,this.state.boostsDice,this.state.difficultyDice,this.state.challengeDice,this.state.setbackDice,this.state.forceDice),this.setState({updated:!0})}},{key:"incrementDie",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;switch(e.toLowerCase().trim()){case"ability":var a=this.state.abilityDice+t;a<0&&(a=0),localStorage.setItem("abilityDice",a.toString()),this.setState({abilityDice:a});break;case"proficiency":var i=this.state.proficiencyDice+t;i<0&&(i=0),localStorage.setItem("proficiencyDice",i.toString()),this.setState({proficiencyDice:i});break;case"setback":var n=this.state.setbackDice+t;n<0&&(n=0),localStorage.setItem("setbackDice",n.toString()),this.setState({setbackDice:n});break;case"difficulty":var l=this.state.difficultyDice+t;l<0&&(l=0),localStorage.setItem("difficultyDice",l.toString()),this.setState({difficultyDice:l});break;case"force":var s=this.state.forceDice+t;s<0&&(s=0),localStorage.setItem("forceDice",s.toString()),this.setState({forceDice:s});break;case"boost":var r=this.state.boostsDice+t;r<0&&(r=0),localStorage.setItem("boostsDice",r.toString()),this.setState({boostsDice:r});break;case"challenge":var c=this.state.challengeDice+t;c<0&&(c=0),localStorage.setItem("challengeDice",c.toString()),this.setState({challengeDice:c})}}},{key:"render",value:function(){var e=this;return n.a.createElement(E,{current:"dice",appGlobals:this.props.appGlobals},n.a.createElement("div",{className:"dice-select-container"},n.a.createElement("div",{className:"text-center dice-select"},n.a.createElement("span",{className:"title"},"Proficiency"),n.a.createElement("span",{className:"bigger-font"},n.a.createElement("span",{className:"dice die-proficiency"},"c"),"\xa0x",this.state.proficiencyDice,n.a.createElement("br",null)),n.a.createElement(D.a,{variant:"primary",className:"btn-xs",onClick:function(){return e.incrementDie("proficiency",-1)},disabled:this.state.proficiencyDice<1},n.a.createElement(f.a,{icon:b.f})),"\xa0",n.a.createElement(D.a,{variant:"primary",className:"btn-xs",onClick:function(){return e.incrementDie("proficiency",1)}},n.a.createElement(f.a,{icon:b.g}))),n.a.createElement("div",{className:"text-center dice-select"},n.a.createElement("span",{className:"title"},"Ability"),n.a.createElement("span",{className:"bigger-font"},n.a.createElement("span",{className:"dice die-ability"},"d"),"\xa0x",this.state.abilityDice,n.a.createElement("br",null)),n.a.createElement(D.a,{variant:"primary",className:"btn-xs",onClick:function(){return e.incrementDie("ability",-1)},disabled:this.state.abilityDice<1},n.a.createElement(f.a,{icon:b.f})),"\xa0",n.a.createElement(D.a,{variant:"primary",className:"btn-xs",onClick:function(){return e.incrementDie("ability",1)}},n.a.createElement(f.a,{icon:b.g}))),n.a.createElement("div",{className:"text-center dice-select"},n.a.createElement("span",{className:"title"},"Boost"),n.a.createElement("span",{className:"bigger-font"},n.a.createElement("span",{className:"dice die-boost"},"b"),"\xa0x",this.state.boostsDice,n.a.createElement("br",null)),n.a.createElement(D.a,{variant:"primary",className:"btn-xs",onClick:function(){return e.incrementDie("boost",-1)},disabled:this.state.boostsDice<1},n.a.createElement(f.a,{icon:b.f})),"\xa0",n.a.createElement(D.a,{variant:"primary",className:"btn-xs",onClick:function(){return e.incrementDie("boost",1)}},n.a.createElement(f.a,{icon:b.g}))),n.a.createElement("div",{className:"text-center dice-select"},n.a.createElement("span",{className:"title"},"Setback"),n.a.createElement("span",{className:"bigger-font"},n.a.createElement("span",{className:"dice die-setback"},"b"),"\xa0x",this.state.setbackDice,n.a.createElement("br",null)),n.a.createElement(D.a,{variant:"primary",className:"btn-xs",onClick:function(){return e.incrementDie("setback",-1)},disabled:this.state.setbackDice<1},n.a.createElement(f.a,{icon:b.f})),"\xa0",n.a.createElement(D.a,{variant:"primary",className:"btn-xs",onClick:function(){return e.incrementDie("setback",1)}},n.a.createElement(f.a,{icon:b.g}))),n.a.createElement("div",{className:"text-center dice-select"},n.a.createElement("span",{className:"title"},"Difficulty"),n.a.createElement("span",{className:"bigger-font"},n.a.createElement("span",{className:"dice die-difficulty"},"d"),"\xa0x",this.state.difficultyDice,n.a.createElement("br",null)),n.a.createElement(D.a,{variant:"primary",className:"btn-xs",onClick:function(){return e.incrementDie("difficulty",-1)},disabled:this.state.difficultyDice<1},n.a.createElement(f.a,{icon:b.f})),"\xa0",n.a.createElement(D.a,{variant:"primary",className:"btn-xs",onClick:function(){return e.incrementDie("difficulty",1)}},n.a.createElement(f.a,{icon:b.g}))),n.a.createElement("div",{className:"text-center dice-select"},n.a.createElement("span",{className:"title"},"Challenge"),n.a.createElement("span",{className:"bigger-font"},n.a.createElement("span",{className:"dice die-challenge"},"c"),"\xa0x",this.state.challengeDice,n.a.createElement("br",null)),n.a.createElement(D.a,{variant:"primary",className:"btn-xs",onClick:function(){return e.incrementDie("challenge",-1)},disabled:this.state.challengeDice<1},n.a.createElement(f.a,{icon:b.f})),"\xa0",n.a.createElement(D.a,{variant:"primary",className:"btn-xs",onClick:function(){return e.incrementDie("challenge",1)}},n.a.createElement(f.a,{icon:b.g}))),"starwars"===this.props.appGlobals.settings.dieIconClass?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"text-center dice-select"},n.a.createElement("span",{className:"title"},"Force"),n.a.createElement("span",{className:"bigger-font"},n.a.createElement("span",{className:"dice die-force"},"c"),"\xa0x",this.state.forceDice,n.a.createElement("br",null)),n.a.createElement(D.a,{variant:"primary",className:"btn-xs",onClick:function(){return e.incrementDie("force",-1)},disabled:this.state.forceDice<1},n.a.createElement(f.a,{icon:b.f})),"\xa0",n.a.createElement(D.a,{variant:"primary",className:"btn-xs",onClick:function(){return e.incrementDie("force",1)}},n.a.createElement(f.a,{icon:b.g})))):n.a.createElement(n.a.Fragment,null)),n.a.createElement("div",{className:"text-center"},n.a.createElement(D.a,{variant:"primary",onClick:this.rollDice},"Roll")),this.dieRolls?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"die-box text-center"},this.dieRolls.rolls.map((function(t,a){return n.a.createElement(n.a.Fragment,null,n.a.createElement(M,{key:a,appGlobals:e.props.appGlobals,dieResult:t,className:""}))})),n.a.createElement("p",null,0!==this.dieRolls.grossSuccesses?n.a.createElement(n.a.Fragment,null,"Successes: ",this.dieRolls.grossSuccesses,n.a.createElement("br",null)):n.a.createElement(n.a.Fragment,null),0!==this.dieRolls.grossAdvantages?n.a.createElement(n.a.Fragment,null,"Advantages: ",this.dieRolls.grossAdvantages,n.a.createElement("br",null)):n.a.createElement(n.a.Fragment,null),0!==this.dieRolls.grossFailures?n.a.createElement(n.a.Fragment,null,"Failures: ",this.dieRolls.grossFailures,n.a.createElement("br",null)):n.a.createElement(n.a.Fragment,null),0!==this.dieRolls.grossThreats?n.a.createElement(n.a.Fragment,null,"Threats: ",this.dieRolls.grossThreats,n.a.createElement("br",null)):n.a.createElement(n.a.Fragment,null),0!==this.dieRolls.grossTriumphs?n.a.createElement(n.a.Fragment,null,"Triumphs: ",this.dieRolls.grossTriumphs,n.a.createElement("br",null)):n.a.createElement(n.a.Fragment,null),0!==this.dieRolls.grossDespairs?n.a.createElement(n.a.Fragment,null,"Despairs: ",this.dieRolls.grossDespairs,n.a.createElement("br",null)):n.a.createElement(n.a.Fragment,null),0!==this.dieRolls.grossLightSide?n.a.createElement(n.a.Fragment,null,"Light Side: ",this.dieRolls.grossLightSide,n.a.createElement("br",null)):n.a.createElement(n.a.Fragment,null),0!==this.dieRolls.grossDarkSide?n.a.createElement(n.a.Fragment,null,"Dark Side: ",this.dieRolls.grossDarkSide,n.a.createElement("br",null)):n.a.createElement(n.a.Fragment,null)))):n.a.createElement(n.a.Fragment,null))}}]),t}(n.a.Component),G=a(89),R=a.n(G),W=(a(195),[{name:"Small Creature",characteristics:{brawn:1,agility:2,intellect:3,cunning:1,willpower:1,presence:1},powerLevels:{combat:-1,social:-1,general:0},examples:"Mouse, bird, snake, cat"},{name:"Large Creature",characteristics:{brawn:4,agility:2,intellect:2,cunning:1,willpower:1,presence:1},powerLevels:{combat:1,social:-1,general:0},examples:"Bear, ox, horse, cow, ram"},{name:"Stealthy Creature",characteristics:{brawn:2,agility:3,intellect:3,cunning:1,willpower:1,presence:1},powerLevels:{combat:0,social:-1,general:0},examples:"Puma, deer, shark"},{name:"Huge Creature",characteristics:{brawn:5,agility:1,intellect:1,cunning:1,willpower:1,presence:2},powerLevels:{combat:1,social:-1,general:-1},examples:"Elephant, dinosaur"},{name:"Average Person",characteristics:{brawn:2,agility:2,intellect:2,cunning:2,willpower:2,presence:2},powerLevels:{combat:0,social:0,general:0},examples:"Any regular person"},{name:"Tough Person",characteristics:{brawn:3,agility:2,intellect:2,cunning:2,willpower:2,presence:1},powerLevels:{combat:0,social:-1,general:0},examples:"Laborer, mob tough, soldier"},{name:"Smart Person",characteristics:{brawn:1,agility:2,intellect:2,cunning:3,willpower:2,presence:2},powerLevels:{combat:-1,social:0,general:0},examples:"Student, medic, hacker"},{name:"Sociable Person",characteristics:{brawn:2,agility:2,intellect:2,cunning:2,willpower:1,presence:3},powerLevels:{combat:0,social:0,general:0},examples:"Politician, manager"},{name:"Jack of All Trades",characteristics:{brawn:3,agility:3,intellect:3,cunning:3,willpower:3,presence:3},powerLevels:{combat:1,social:1,general:1},examples:"Any competent person"},{name:"Skilled Warrior",characteristics:{brawn:4,agility:3,intellect:2,cunning:2,willpower:3,presence:1},powerLevels:{combat:2,social:0,general:0},examples:"Knight, berserker, veteran"},{name:"Savant",characteristics:{brawn:2,agility:1,intellect:2,cunning:5,willpower:2,presence:1},powerLevels:{combat:-1,social:-1,general:1},examples:"Scholar, researcher, surgeon"},{name:"Born Leader",characteristics:{brawn:2,agility:2,intellect:3,cunning:2,willpower:3,presence:5},powerLevels:{combat:0,social:2,general:0},examples:"President, ruler, general"},{name:"Cunning Foe",characteristics:{brawn:2,agility:4,intellect:4,cunning:2,willpower:2,presence:2},powerLevels:{combat:1,social:0,general:1},examples:"Spy, assassin, military scout"},{name:"Mastermind",characteristics:{brawn:3,agility:3,intellect:4,cunning:4,willpower:5,presence:3},powerLevels:{combat:1,social:2,general:2},examples:"The main villain in a story"}]),q=["Minion","Rival","Nemesis"],B=[{name:"Alchemy",attribute:"intellect",value:0,book:"Core",page:"57",settings:["Fantasy","steampunk","Weird War"]},{name:"Arcana",attribute:"intellect",value:0,book:"Core",page:"70",settings:[]},{name:"Astrocartography",attribute:"intellect",value:0,book:"Core",page:"57",settings:["Space Opera"]},{name:"Athletics",attribute:"brawn",value:0,book:"Core",page:"58",settings:["All"]},{name:"Brawl",attribute:"brawn",value:0,book:"Core",page:"67",settings:["All"]},{name:"Charm",attribute:"presence",value:0,book:"Core",page:"54",settings:["All"]},{name:"Coercion",attribute:"presence",value:0,book:"Core",page:"55",settings:["All"]},{name:"Computers",attribute:"intellect",value:0,book:"Core",page:"55",settings:["Modern Day","Science Fiction","space opera"]},{name:"Cool",attribute:"presence",value:0,book:"Core",page:"59",settings:["All"]},{name:"Coordination",attribute:"agility",value:0,book:"Core",page:"59",settings:["All"]},{name:"Deception",attribute:"cunning",value:0,book:"Core",page:"56",settings:["All"]},{name:"Discipline",attribute:"willpower",value:0,book:"Core",page:"60",settings:["All"]},{name:"Divine",attribute:"willpower",value:0,book:"Core",page:"70",settings:["All"]},{name:"Driving",attribute:"agility",value:0,book:"Core",page:"60",settings:["Steampunk","Weird War","Modern Day","Science Fiction","Space Opera"]},{name:"Gunnery",attribute:"intellect",value:0,book:"Core",page:"69",settings:["Steampunk","Weird War","Modern Day","Science Fiction","Space Opera"]},{name:"Knowledge",attribute:"intellect",value:0,book:"Core",page:"66",settings:["All"]},{name:"Leadership",attribute:"presence",value:0,book:"Core",page:"56",settings:["All"]},{name:"Mechanics",attribute:"intellect",value:0,book:"Core",page:"60",settings:["All"]},{name:"Medicine",attribute:"intellect",value:0,book:"Core",page:"61",settings:["All"]},{name:"Melee",attribute:"brawn",value:0,book:"Core",page:"67",settings:["Steampunk","Weird War","Modern Day","Science Fiction","space opera"]},{name:"Melee (Heavy)",attribute:"brawn",value:0,book:"Core",page:"68",settings:["Fantasy"]},{name:"Melee (Light)",attribute:"brawn",value:0,book:"Core",page:"68",settings:["Fantasy"]},{name:"Negotiation",attribute:"presence",value:0,book:"Core",page:"56",settings:["All"]},{name:"Operating",attribute:"intellect",value:0,book:"Core",page:"62",settings:["All"]},{name:"Perception",attribute:"cunning",value:0,book:"Core",page:"62",settings:["All"]},{name:"Piloting",attribute:"agility",value:0,book:"Core",page:"62",settings:["Weird War","Modern Day","Science Fiction","Space Opera"]},{name:"Primal",attribute:"cunning",value:0,book:"Core",page:"70",settings:["All"]},{name:"Ranged",attribute:"agility",value:0,book:"Core",page:"67",settings:["Fantasy"]},{name:"Ranged (Heavy)",attribute:"agility",value:0,book:"Core",page:"68",settings:["Steampunk","Weird War","Modern Day","Science Fiction","space opera"]},{name:"Ranged (Light)",attribute:"agility",value:0,book:"Core",page:"68",settings:["Steampunk","Weird War","Modern Day","Science Fiction","space opera"]},{name:"Resilience",attribute:"brawn",value:0,book:"Core",page:"63",settings:["All"]},{name:"Riding",attribute:"agility",value:0,book:"Core",page:"63",settings:["Fantasy","Steampunk"]},{name:"Skulduggery",attribute:"cunning",value:0,book:"Core",page:"64",settings:["All"]},{name:"Stealth",attribute:"agility",value:0,book:"Core",page:"64",settings:["All"]},{name:"Streetwise",attribute:"cunning",value:0,book:"Core",page:"65",settings:["All"]},{name:"Survival",attribute:"cunning",value:0,book:"Core",page:"65",settings:["All"]},{name:"Vigilance",attribute:"willpower",value:0,book:"Core",page:"65",settings:["All"]}];function V(e,t,a){for(var i=e;i.indexOf(t)>-1;)i=i.replace(t,a);return i}function _(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"png",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i="."+t,n="";a&&(n='width="'+a+'px" height="'+a+'px"');var l="<img "+n+' class="inline-die-png" src="./img/ability-die'+i+'" />',s="<img "+n+' class="inline-die-png" src="./img/boost-die'+i+'" />',r="<img "+n+' class="inline-die-png" src="./img/setback-die'+i+'" />',c="<img "+n+' class="inline-die-png" src="./img/difficulty-die'+i+'" />',o="<img "+n+' class="inline-die-png" src="./img/challenge-die'+i+'" />',m="<img "+n+' class="inline-die-png" src="./img/force-die'+i+'" />',u="<img "+n+' class="inline-die-png" src="./img/success'+i+'" />',d="<img "+n+' class="inline-die-png" src="./img/advantage'+i+'" />',h="<img "+n+' class="inline-die-png" src="./img/threat'+i+'" />',p="<img "+n+' class="inline-die-png" src="./img/failure'+i+'" />',g="<img "+n+' class="inline-die-png" src="./img/despair'+i+'" />',v="<img "+n+' class="inline-die-png" src="./img/triumph'+i+'" />';return e=V(e,"[proficiency]","<img "+n+' class="inline-die-png" src="./img/proficiency-die'+i+'" />'),e=V(e,"[ability]",l),e=V(e,"[boost]",s),e=V(e,"[setback]",r),e=V(e,"[difficulty]",c),e=V(e,"[challenge]",o),e=V(e,"[force]",m),e=V(e,"[success]",u),e=V(e,"[advantage]",d),e=V(e,"[threat]",h),e=V(e,"[failure]",p),e=V(e,"[despair]",g),e=V(e,"[triumph]",v)}var H=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";Object(r.a)(this,e),this.name="",this.type="equipment",this.qualities=[],this.skill="",this.damage="",this.critical="",this.range="",this.defense="",this.soak="",this.summary="",t&&this._parseLine(t)}return Object(c.a)(e,[{key:"_parseLine",value:function(e){if(e.toLowerCase().indexOf("damage ")>-1){this.type="weapon";var t=e.split("(");if(this.name=t[0].trim(),t.length>1){var a=t[1].replace(").","").replace(")","").split(";"),i=!0,n=!1,l=void 0;try{for(var s,r=a[Symbol.iterator]();!(i=(s=r.next()).done);i=!0){var c=s.value;0===(c=c.trim()).toLowerCase().indexOf("melee")||0===c.toLowerCase().indexOf("ranged")||0===c.toLowerCase().indexOf("brawl")?this.skill=c:0===c.toLowerCase().indexOf("damage ")?this.damage=c.replace("Damage","").trim():0===c.toLowerCase().indexOf("critical ")?this.critical=c.replace("Critical","").trim():0===c.toLowerCase().indexOf("range ")?(this.range=c.replace("Range","").trim(),this.range=V(this.range,"[",""),this.range=V(this.range,"]","")):c.toLowerCase().indexOf(",")>-1&&(this.qualities=c.split(","))}}catch(f){n=!0,l=f}finally{try{i||null==r.return||r.return()}finally{if(n)throw l}}}}else if(e.toLowerCase().indexOf(" soak")>-1||e.toLowerCase().indexOf(" defense")>-1){this.type="armor";var o=e.split("(");if(this.name=o[0].trim(),o.length>1){var m=o[1].replace(").","").replace(")","").split(","),u=!0,d=!1,h=void 0;try{for(var p,g=m[Symbol.iterator]();!(u=(p=g.next()).done);u=!0){var v=p.value;(v=v.trim()).toLowerCase().indexOf("soak")>-1?this.soak=v.replace("soak","").trim():v.toLowerCase().indexOf("defense")>-1&&(this.defense=v.replace("defense","").trim())}}catch(f){d=!0,h=f}finally{try{u||null==g.return||g.return()}finally{if(d)throw h}}}}else{this.type="equipment";var b=e.split("(");this.name=b[0].trim(),b.length>1&&(this.summary=b[1].replace(").","").replace(")","").trim())}}},{key:"exportString",value:function(){var e=this.name;return"weapon"===this.type?(e+=" (",this.skill&&(e+=this.skill+";"),this.damage&&(e+="Damage "+this.damage+";"),this.range&&(e+=" Range ["+this.range+"]"),this.qualities.length>0&&(e+=";"+this.qualities.join(", ")),e+=")"):"armor"===this.type?(e+=" (",0!==+this.defense&&(e+=this.defense+" defense, "),0!==+this.soak&&(e+=this.soak+" soak, "),e+=")",e=e.replace(", )",")")):this.summary&&(e+=" (",e+=this.summary,e=e.replace(", )",")")),e}}]),e}(),J=function(){function e(t){Object(r.a)(this,e),this.name="",this.description=[],this.adversaryType=q[0],this.selectedAdversaryCharacteristicArray=W[0],this.selectedSkillPackages=[],this.selectedSoakDefWoundStrain=[],this.selectedSpecialAbilities=[],this.selectedTalents=[],this.equipment=[],this._skills=[],this.loadData(t)}return Object(c.a)(e,[{key:"loadData",value:function(e){var t=!0,a=!1,i=void 0;try{for(var n,l=B[Symbol.iterator]();!(t=(n=l.next()).done);t=!0){var s=n.value;this._skills.push({name:s.name,attribute:s.attribute,value:0,book:s.book,page:s.page,settings:s.settings})}}catch(r){a=!0,i=r}finally{try{t||null==l.return||l.return()}finally{if(a)throw i}}e&&(this.name=e.name,this.description=e.description,this.adversaryType=e.adversaryType,this.selectedAdversaryCharacteristicArray=e.selectedAdversaryCharacteristicArray,this.selectedSkillPackages=e.selectedSkillPackages,this.selectedSoakDefWoundStrain=e.selectedSoakDefWoundStrain,this.selectedSpecialAbilities=e.selectedSpecialAbilities,this.selectedTalents=e.selectedTalents,e.equipment&&(this.equipment=e.equipment))}},{key:"exportData",value:function(){var e={name:this.name,description:this.description,adversaryType:this.adversaryType,selectedAdversaryCharacteristicArray:this.selectedAdversaryCharacteristicArray,selectedSkillPackages:this.selectedSkillPackages,selectedSoakDefWoundStrain:this.selectedSoakDefWoundStrain,selectedSpecialAbilities:this.selectedSpecialAbilities,selectedTalents:this.selectedTalents,equipment:this.equipment};return e}},{key:"getSoak",value:function(){var e=this.getBrawn(),t=!0,a=!1,i=void 0;try{for(var n,l=this.selectedSoakDefWoundStrain[Symbol.iterator]();!(t=(n=l.next()).done);t=!0){var s=n.value;s.derivedAttribute.soakThreshold&&(e+=s.derivedAttribute.soakThreshold)}}catch(d){a=!0,i=d}finally{try{t||null==l.return||l.return()}finally{if(a)throw i}}var r=!0,c=!1,o=void 0;try{for(var m,u=this.getEquipmentObjs()[Symbol.iterator]();!(r=(m=u.next()).done);r=!0){e+=+m.value.soak}}catch(d){c=!0,o=d}finally{try{r||null==u.return||u.return()}finally{if(c)throw o}}return e}},{key:"getWoundThreshold",value:function(){var e=0;switch(this.adversaryType.toLowerCase().trim()){case"minion":e=this.getBrawn()<2?3:5;break;case"rival":e=8;break;case"nemesis":e=12+this.getBrawn()}var t=!0,a=!1,i=void 0;try{for(var n,l=this.selectedSoakDefWoundStrain[Symbol.iterator]();!(t=(n=l.next()).done);t=!0){var s=n.value;s.derivedAttribute.woundThreshold&&(e+=s.derivedAttribute.woundThreshold)}}catch(r){a=!0,i=r}finally{try{t||null==l.return||l.return()}finally{if(a)throw i}}return e}},{key:"getStrainThreshold",value:function(){var e=0;"nemesis"===this.adversaryType.toLowerCase().trim()&&(e=10+this.getWillpower());var t=!0,a=!1,i=void 0;try{for(var n,l=this.selectedSoakDefWoundStrain[Symbol.iterator]();!(t=(n=l.next()).done);t=!0){var s=n.value;s.derivedAttribute.strainThreshold&&(e+=s.derivedAttribute.strainThreshold)}}catch(r){a=!0,i=r}finally{try{t||null==l.return||l.return()}finally{if(a)throw i}}return e}},{key:"getRangedDefense",value:function(){var e=0,t=!0,a=!1,i=void 0;try{for(var n,l=this.selectedSoakDefWoundStrain[Symbol.iterator]();!(t=(n=l.next()).done);t=!0){var s=n.value;s.derivedAttribute.rangedDefense&&(e+=s.derivedAttribute.rangedDefense)}}catch(d){a=!0,i=d}finally{try{t||null==l.return||l.return()}finally{if(a)throw i}}var r=!0,c=!1,o=void 0;try{for(var m,u=this.getEquipmentObjs()[Symbol.iterator]();!(r=(m=u.next()).done);r=!0){e+=+m.value.defense}}catch(d){c=!0,o=d}finally{try{r||null==u.return||u.return()}finally{if(c)throw o}}return e}},{key:"getMeleeDefense",value:function(){var e=0,t=!0,a=!1,i=void 0;try{for(var n,l=this.selectedSoakDefWoundStrain[Symbol.iterator]();!(t=(n=l.next()).done);t=!0){var s=n.value;s.derivedAttribute.meleeDefense&&(e+=s.derivedAttribute.meleeDefense)}}catch(d){a=!0,i=d}finally{try{t||null==l.return||l.return()}finally{if(a)throw i}}var r=!0,c=!1,o=void 0;try{for(var m,u=this.getEquipmentObjs()[Symbol.iterator]();!(r=(m=u.next()).done);r=!0){e+=+m.value.defense}}catch(d){c=!0,o=d}finally{try{r||null==u.return||u.return()}finally{if(c)throw o}}return e}},{key:"_getAttributeValue",value:function(e){switch(e.toLowerCase().trim()){case"brawn":return this.getBrawn();case"agility":return this.getAgility();case"intellect":return this.getIntellect();case"cunning":return this.getCunning();case"willpower":return this.getWillpower();case"presence":return this.getPresence()}return 0}},{key:"getBrawn",value:function(){return this.selectedAdversaryCharacteristicArray.characteristics.brawn}},{key:"getAgility",value:function(){return this.selectedAdversaryCharacteristicArray.characteristics.agility}},{key:"getIntellect",value:function(){return this.selectedAdversaryCharacteristicArray.characteristics.intellect}},{key:"getCunning",value:function(){return this.selectedAdversaryCharacteristicArray.characteristics.cunning}},{key:"getWillpower",value:function(){return this.selectedAdversaryCharacteristicArray.characteristics.willpower}},{key:"getPresence",value:function(){return this.selectedAdversaryCharacteristicArray.characteristics.presence}},{key:"_setSkills",value:function(){var e=!0,t=!1,a=void 0;try{for(var i,n=this._skills[Symbol.iterator]();!(e=(i=n.next()).done);e=!0){var l=i.value;l.value=0;var s=!0,r=!1,c=void 0;try{for(var o,m=this.selectedSkillPackages[Symbol.iterator]();!(s=(o=m.next()).done);s=!0){var u=o.value,d=!0,h=!1,p=void 0;try{for(var g,v=u.skills[Symbol.iterator]();!(d=(g=v.next()).done);d=!0){var b=g.value;l.name.toLowerCase().trim()===b.name.toLowerCase().trim()&&l.value<b.value&&(l.value=b.value)}}catch(f){h=!0,p=f}finally{try{d||null==v.return||v.return()}finally{if(h)throw p}}}}catch(f){r=!0,c=f}finally{try{s||null==m.return||m.return()}finally{if(r)throw c}}}}catch(f){t=!0,a=f}finally{try{e||null==n.return||n.return()}finally{if(t)throw a}}}},{key:"calc",value:function(){}},{key:"getSkillList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._setSkills();var t=[],a=!0,i=!1,n=void 0;try{for(var l,s=this._skills[Symbol.iterator]();!(a=(l=s.next()).done);a=!0){var r=l.value;r.value>0&&t.push(r)}}catch(b){i=!0,n=b}finally{try{a||null==s.return||s.return()}finally{if(i)throw n}}t.sort((function(e,t){return e.name>t.name?1:e.name<t.name?-1:0}));for(var c="",o=0,m=t;o<m.length;o++){var u=m[o];if(!1===e)c+=u.name+": "+u.value.toString()+", ";else{var d=this._getAttributeValue(u.attribute),h=0,p=0;d>u.value?(h=d,p=u.value):(h=u.value,p=d);for(var g="",v=0;v<h;v++)g+=v<p?"[proficiency]":"[ability]";c+='<div class="inline-block">'+u.name+": "+g+",</div> "}}return c?e?(c=c.substr(0,c.length-8),c+="</div>"):c=c.substr(0,c.length-2):c="No Skills",c}},{key:"getPowerLevel",value:function(){var e={combat:0,social:0,general:0};this.selectedAdversaryCharacteristicArray&&(e.combat+=this.selectedAdversaryCharacteristicArray.powerLevels.combat,e.general+=this.selectedAdversaryCharacteristicArray.powerLevels.general,e.social+=this.selectedAdversaryCharacteristicArray.powerLevels.social);var t=!0,a=!1,i=void 0;try{for(var n,l=this.selectedSoakDefWoundStrain[Symbol.iterator]();!(t=(n=l.next()).done);t=!0){var s=n.value;e.combat+=s.powerLevels.combat,e.general+=s.powerLevels.general,e.social+=s.powerLevels.social}}catch(D){a=!0,i=D}finally{try{t||null==l.return||l.return()}finally{if(a)throw i}}var r=!0,c=!1,o=void 0;try{for(var m,u=this.selectedSkillPackages[Symbol.iterator]();!(r=(m=u.next()).done);r=!0){var d=m.value;e.combat+=d.powerLevels.combat,e.general+=d.powerLevels.general,e.social+=d.powerLevels.social}}catch(D){c=!0,o=D}finally{try{r||null==u.return||u.return()}finally{if(c)throw o}}var h=!0,p=!1,g=void 0;try{for(var v,b=this.selectedTalents[Symbol.iterator]();!(h=(v=b.next()).done);h=!0){var f=v.value;e.combat+=f.powerLevels.combat,e.general+=f.powerLevels.general,e.social+=f.powerLevels.social}}catch(D){p=!0,g=D}finally{try{h||null==b.return||b.return()}finally{if(p)throw g}}var y=!0,k=!1,E=void 0;try{for(var w,S=this.selectedSpecialAbilities[Symbol.iterator]();!(y=(w=S.next()).done);y=!0){var C=w.value;e.combat+=C.powerLevels.combat,e.general+=C.powerLevels.general,e.social+=C.powerLevels.social}}catch(D){k=!0,E=D}finally{try{y||null==S.return||S.return()}finally{if(k)throw E}}return e.combat=this.getEquipmentPowerLevel().combat,e.social=this.getEquipmentPowerLevel().social,e.general=this.getEquipmentPowerLevel().general,e.combat<1&&(e.combat=1),e.social<1&&(e.social=1),e.general<1&&(e.general=1),e}},{key:"getTalentList",value:function(){var e="",t=!0,a=!1,i=void 0;try{for(var n,l=this.selectedTalents[Symbol.iterator]();!(t=(n=l.next()).done);t=!0){var s=n.value;e+=s.name+" ("+s.description+"), "}}catch(r){a=!0,i=r}finally{try{t||null==l.return||l.return()}finally{if(a)throw i}}return e&&(e=e.substr(0,e.length-2)),e}},{key:"getAbilitiesList",value:function(){var e="",t=!0,a=!1,i=void 0;try{for(var n,l=this.selectedSpecialAbilities[Symbol.iterator]();!(t=(n=l.next()).done);t=!0){var s=n.value;e+=s.name+" ("+s.description+"), "}}catch(r){a=!0,i=r}finally{try{t||null==l.return||l.return()}finally{if(a)throw i}}return e&&(e=e.substr(0,e.length-2)),e}},{key:"getEquipmentList",value:function(){var e=[],t=!0,a=!1,i=void 0;try{for(var n,l=this.equipment[Symbol.iterator]();!(t=(n=l.next()).done);t=!0){var s=n.value;if(s.trim())if(s.indexOf(") or ")>-1){var r=[],c=!0,o=!0,m=!1,u=void 0;try{for(var d,h=s.split(") or ")[Symbol.iterator]();!(o=(d=h.next()).done);o=!0){var p=d.value;if(p.indexOf(") and ")>-1){var g=[],v=!0,b=!1,f=void 0;try{for(var y,k=p.split(") and ")[Symbol.iterator]();!(v=(y=k.next()).done);v=!0){var E=y.value,w=new H(E);g.push(w.exportString()),"weapon"===w.type&&(c=!1)}}catch(D){b=!0,f=D}finally{try{v||null==k.return||k.return()}finally{if(b)throw f}}r.push(g.join(" and "))}else{var S=new H(p);"weapon"!==S.type&&(r.push(S.exportString()),c=!0)}}}catch(D){m=!0,u=D}finally{try{o||null==h.return||h.return()}finally{if(m)throw u}}c&&e.push(r.join(" or "))}else{var C=new H(s);"weapon"!==C.type&&e.push(C.exportString())}}}catch(D){a=!0,i=D}finally{try{t||null==l.return||l.return()}finally{if(a)throw i}}return e.join(", ")}},{key:"getWeaponList",value:function(){var e=[],t=!0,a=!1,i=void 0;try{for(var n,l=this.equipment[Symbol.iterator]();!(t=(n=l.next()).done);t=!0){var s=n.value;if(s.trim())if(s.indexOf(") or ")>-1){var r=[],c=!0,o=!0,m=!1,u=void 0;try{for(var d,h=s.split(") or ")[Symbol.iterator]();!(o=(d=h.next()).done);o=!0){var p=d.value;if(p.indexOf(" and ")>-1){var g=[],v=!0,b=!1,f=void 0;try{for(var y,k=p.split(" and ")[Symbol.iterator]();!(v=(y=k.next()).done);v=!0){var E=y.value,w=new H(E);g.push(w.exportString()),"weapon"!==w.type&&(c=!1)}}catch(D){b=!0,f=D}finally{try{v||null==k.return||k.return()}finally{if(b)throw f}}r.push(g.join(" and "))}else{var S=new H(p);"weapon"===S.type&&(r.push(S.exportString()),c=!0)}}}catch(D){m=!0,u=D}finally{try{o||null==h.return||h.return()}finally{if(m)throw u}}c&&e.push(r.join(" or "))}else{var C=new H(s);"weapon"===C.type&&e.push(C.exportString())}}}catch(D){a=!0,i=D}finally{try{t||null==l.return||l.return()}finally{if(a)throw i}}return e.join(", ")}},{key:"getEquipmentPowerLevel",value:function(){var e={combat:0,social:0,general:0},t=0,a=0,i=0,n=!0,l=!1,s=void 0;try{for(var r,c=this.getEquipmentObjs()[Symbol.iterator]();!(n=(r=c.next()).done);n=!0){var o=r.value;o.damage&&"+"===o.damage[0]?this.getBrawn()+ +o.damage>7&&(a=this.getBrawn()+ +o.damage>14?2:1):+o.damage>7&&(+o.damage>14?a<2&&(a=2):a<1&&(a=1)),t+=+o.soak,(+o.soak>1||+o.defense>1)&&(+o.soak>2||+o.defense>3?i<2&&(i=2):i<1&&(i=1))}}catch(m){l=!0,s=m}finally{try{n||null==c.return||c.return()}finally{if(l)throw s}}return t>6&&(e.combat+=1),e.combat+=a,e.combat+=i,e.combat+=0,e.social+=0,e.general+=0,e}},{key:"getEquipmentObjs",value:function(){var e=[],t=!0,a=!1,i=void 0;try{for(var n,l=this.equipment[Symbol.iterator]();!(t=(n=l.next()).done);t=!0){var s=n.value;if(s.trim())if(s.replace(/ *\([^)]*\) */g,"").indexOf(") or ")>-1){var r=!0,c=!1,o=void 0;try{for(var m,u=s.split(") or ")[Symbol.iterator]();!(r=(m=u.next()).done);r=!0){var d=m.value;if(d.replace(/ *\([^)]*\) */g,"").indexOf(") and ")>-1){var h=!0,p=!1,g=void 0;try{for(var v,b=d.split(") and ")[Symbol.iterator]();!(h=(v=b.next()).done);h=!0){var f=v.value,y=new H(f);e.push(y)}}catch(w){p=!0,g=w}finally{try{h||null==b.return||b.return()}finally{if(p)throw g}}}else{var k=new H(d);e.push(k)}}}catch(w){c=!0,o=w}finally{try{r||null==u.return||u.return()}finally{if(c)throw o}}}else{var E=new H(s);e.push(E)}}}catch(w){a=!0,i=w}finally{try{t||null==l.return||l.return()}finally{if(a)throw i}}return e}},{key:"addTalent",value:function(e){this.selectedTalents.push(e)}}]),e}(),K=[{name:"Tough Skin",derivedAttribute:{soakThreshold:1,woundThreshold:1},powerLevels:{combat:0,social:0,general:0},examples:"Minions, rivals, nemesis"},{name:"Armored Hide",derivedAttribute:{soakThreshold:2,woundThreshold:5},powerLevels:{combat:1,social:0,general:0},examples:"Rival or nemesis animals or non-humans"},{name:"Dodgy",derivedAttribute:{rangedDefense:1,meleeDefense:1},powerLevels:{combat:0,social:0,general:0},examples:"Minions, rivals, nemesis"},{name:"Close Combatant",derivedAttribute:{meleeDefense:2},powerLevels:{combat:0,social:0,general:0},examples:"Rivals, nemesis"},{name:"Camouflaged",derivedAttribute:{rangedDefense:2,meleeDefense:1},powerLevels:{combat:1,social:0,general:0},examples:"Rival or nemesis animal or non-human"},{name:"Hardy",derivedAttribute:{woundThreshold:5},powerLevels:{combat:0,social:0,general:0},examples:"Rivals, nemesis"},{name:"Very Tough",derivedAttribute:{woundThreshold:10},powerLevels:{combat:1,social:0,general:0},examples:"Rival or nemesis animal or non-human"},{name:"Giant Body",derivedAttribute:{woundThreshold:25},powerLevels:{combat:2,social:0,general:0},examples:"Silhouette 3 or higher animal rivals and nemeses"},{name:"Savvy",derivedAttribute:{strainThreshold:5},powerLevels:{combat:0,social:0,general:0},examples:"Nemeses"},{name:"Mental Giant",derivedAttribute:{strainThreshold:10},powerLevels:{combat:0,social:1,general:0},examples:"Main character nemeses"}],U=[{name:"Basic Creature",powerLevels:{combat:0,social:0,general:0},skills:[{name:"Athletics",value:1},{name:"Brawl",value:1},{name:"Survival",value:1},{name:"Vigilance",value:1}]},{name:"Ferocious Creature",powerLevels:{combat:1,social:0,general:1},skills:[{name:"Athletics",value:3},{name:"Brawl",value:4},{name:"Perception",value:2},{name:"Survival",value:3},{name:"Vigilance",value:1}]},{name:"Predatory Creature",powerLevels:{combat:1,social:0,general:1},skills:[{name:"Coordination",value:3},{name:"Brawl",value:3},{name:"Perception",value:4},{name:"Survival",value:2},{name:"Stealth",value:3}]},{name:"Territorial Creature",powerLevels:{combat:0,social:0,general:0},skills:[{name:"Brawl",value:1},{name:"Resiliance",value:3},{name:"Survival",value:4},{name:"Vigilance",value:4}]},{name:"Soldier",powerLevels:{combat:1,social:0,general:1},skills:[{name:"Athletics",value:2},{name:"Discipline",value:1},{name:"Melee",value:2},{name:"Ranged",value:2},{name:"Resilience",value:2},{name:"Vigilance",value:2}]},{name:"Duelist",powerLevels:{combat:1,social:0,general:0},skills:[{name:"Cool",value:3},{name:"Coordination",value:3},{name:"Melee",value:5},{name:"Stealth",value:1}]},{name:"Scout/Sniper",powerLevels:{combat:2,social:0,general:2},skills:[{name:"Cool",value:2},{name:"Perception",value:3},{name:"Ranged",value:5},{name:"Stealth",value:4},{name:"Survival",value:3},{name:"Vigilance",value:3}]},{name:"Brawler/Laborer",powerLevels:{combat:0,social:0,general:0},skills:[{name:"Athletics",value:3},{name:"Brawl",value:2},{name:"Resilience",value:3}]},{name:"Gunslinger",powerLevels:{combat:1,social:0,general:0},skills:[{name:"Cool",value:2},{name:"Coordination",value:2},{name:"Ranged",value:4},{name:"Skulduggery",value:3}]},{name:"Sailor",powerLevels:{combat:0,social:0,general:1},skills:[{name:"Athletics",value:2},{name:"Operating",value:3},{name:"Perception",value:2},{name:"Ranged",value:1},{name:"Vigilance",value:1}]},{name:"Spy/Con Artist",powerLevels:{combat:0,social:2,general:2},skills:[{name:"Cool",value:2},{name:"Charm",value:3},{name:"Deception",value:4},{name:"Knowledge",value:1},{name:"Skulduggery",value:4},{name:"Stealth",value:3}]},{name:"Thief/Assassin",powerLevels:{combat:1,social:0,general:4},skills:[{name:"Coordination",value:3},{name:"Deception",value:2},{name:"Melee",value:3},{name:"Skulduggery",value:4},{name:"Stealth",value:5},{name:"Streetwise",value:3},{name:"Vigilance",value:1}]},{name:"Researcher",powerLevels:{combat:0,social:0,general:5},skills:[{name:"Astrocartography",value:5},{name:"Computers",value:3},{name:"Discipline",value:2},{name:"Skulduggery",value:4},{name:"Knowledge",value:5},{name:"Perception",value:4}]},{name:"Natural Philosopher",powerLevels:{combat:0,social:0,general:3},skills:[{name:"Alchemy",value:4},{name:"Knowledge",value:4},{name:"Medicine",value:2},{name:"Negotiation",value:1},{name:"Perception",value:2}]},{name:"Doctor",powerLevels:{combat:0,social:1,general:2},skills:[{name:"Cool",value:2},{name:"Discipline",value:2},{name:"Leadership",value:1},{name:"Medicine",value:4},{name:"Melee",value:1}]},{name:"Knight/Warrior Leader",powerLevels:{combat:1,social:2,general:2},skills:[{name:"Athletics",value:1},{name:"Discipline",value:2},{name:"Driving",value:3},{name:"Leadership",value:3},{name:"Melee",value:4},{name:"Riding",value:3}]},{name:"Captain of a Vessel",powerLevels:{combat:1,social:2,general:3},skills:[{name:"Astrocartography",value:4},{name:"Coercion",value:2},{name:"Discipline",value:3},{name:"Leadership",value:4},{name:"Operating",value:4},{name:"Ranged",value:3}]},{name:"Politician/Official",powerLevels:{combat:0,social:3,general:1},skills:[{name:"Charm",value:4},{name:"Coercion",value:2},{name:"Cool",value:2},{name:"Leadership",value:3},{name:"Negotiation",value:5},{name:"Vigilance",value:1}]},{name:"Mage",powerLevels:{combat:2,social:0,general:2},skills:[{name:"Alchemy",value:2},{name:"Arcana",value:4},{name:"Coercion",value:2},{name:"Knowledge",value:4}]},{name:"Priest",powerLevels:{combat:2,social:1,general:2},skills:[{name:"Charm",value:2},{name:"Discipline",value:3},{name:"Divine",value:4},{name:"Knowledge",value:4}]},{name:"Druid",powerLevels:{combat:2,social:0,general:2},skills:[{name:"Knowledge",value:4},{name:"Primal",value:4},{name:"Survival",value:3},{name:"Vigilance",value:2}]},{name:"Pilot/Driver/Rider",powerLevels:{combat:1,social:0,general:3},skills:[{name:"Cool",value:2},{name:"Coordination",value:3},{name:"Driving",value:4},{name:"Piloting",value:4},{name:"Ranged",value:3},{name:"Riding",value:4}]},{name:"Merchant",powerLevels:{combat:0,social:3,general:0},skills:[{name:"Charm",value:2},{name:"Deception",value:3},{name:"Negotiation",value:3},{name:"Perception",value:2},{name:"Vigilance",value:3}]},{name:"Crime Boss",powerLevels:{combat:2,social:3,general:1},skills:[{name:"Brawl",value:4},{name:"Coercion",value:5},{name:"Discipline",value:2},{name:"Leadership",value:2},{name:"Ranged",value:2},{name:"Streetwise",value:4}]},{name:"Bureaucrat",powerLevels:{combat:0,social:3,general:1},skills:[{name:"Cool",value:3},{name:"Discipline",value:3},{name:"Knowledge",value:2},{name:"Negotiation",value:2},{name:"Vigilance",value:3}]},{name:"Mechanic",powerLevels:{combat:0,social:0,general:3},skills:[{name:"Athletics",value:2},{name:"Brawl",value:1},{name:"Computers",value:1},{name:"Mechanics",value:4},{name:"Resilience",value:3}]},{name:"Hacker",powerLevels:{combat:0,social:1,general:3},skills:[{name:"Computers",value:5},{name:"Cool",value:2},{name:"Deception",value:2},{name:"Streetwise",value:2}]},{name:"Criminal Tough",powerLevels:{combat:0,social:1,general:2},skills:[{name:"Brawl",value:2},{name:"Coercion",value:3},{name:"Resilience",value:3},{name:"Skulduggery",value:3},{name:"Streetwise",value:2}]},{name:"Investigator",powerLevels:{combat:0,social:2,general:3},skills:[{name:"Charm",value:2},{name:"Coercion",value:2},{name:"Discipline",value:3},{name:"Perception",value:3},{name:"Streetwise",value:3},{name:"Survival",value:3},{name:"Vigilance",value:3}]},{name:"Wrangler/Survivalist",powerLevels:{combat:0,social:0,general:3},skills:[{name:"Athletics",value:4},{name:"Coordination",value:2},{name:"Perception",value:3},{name:"Ranged",value:2},{name:"Riding",value:3},{name:"Survival",value:4}]},{name:"Cop/Town Guard",powerLevels:{combat:1,social:1,general:0},skills:[{name:"Coercion",value:2},{name:"Driving",value:2},{name:"Leadership",value:2},{name:"Melee",value:2},{name:"Ranged",value:2}]}],Y=[{name:"Adversary 1",description:"upgrade difficulty of all combat checks against this by [rank]",book:"Core",page:"131",powerLevels:{combat:0,social:0,general:0}},{name:"Adversary 2",description:"upgrade difficulty of all combat checks against this target twice",book:"Core",page:"131",powerLevels:{combat:1,social:0,general:0}},{name:"Adversary 3",description:"upgrade difficulty of all combat checks against this target three times",book:"Core",page:"131",powerLevels:{combat:2,social:0,general:0}},{name:"Animal Companion",description:"has a silhouette 0 animal companion; once per round, may spend a maneuver to direct the animal to perform one action and one maneuver during this character's turn",book:"Core",page:"77",powerLevels:{combat:1,social:0,general:1}},{name:"Barrel Roll",description:"when piloting a starfighter or air-plane of silhouette 3 or less, after suffering a hit, may suffer 3 system strain to reduce the damage by four as an incidental",book:"Core",page:"77",powerLevels:{combat:1,social:0,general:0}},{name:"Berserk",description:"Once per encounter, your character may use this talent. Until the end of the encounter or until they are incapacitated, your character adds [success] [advantage] [advantage] to all melee combat checks they make. However, opponents add [success] to all combat checks targeting your character. While berserk, your character cannot make ranged combat checks.",book:"Core",page:"75",powerLevels:{combat:0,social:0,general:0}},{name:"Brilliant Casting",description:"When casting a spell may spend one Story Point to use this talent to add [advantage] equal to your character\u2019s ranks in Knowledge to the results.",book:"EPG",page:"95",powerLevels:{combat:1,social:0,general:0}},{name:"Clever Retort",description:"once per encounter, add [threat] [threat] to another character\u2019s social skill check",book:"Core",page:"73",powerLevels:{combat:0,social:0,general:0}},{name:"Coordinated Assault 3",description:"once per turn, may spend a maneuver to add [advantage] to the results of all combat checks made by five allies within long range until the end of this character\u2019s next turn",book:"Core",page:"75",powerLevels:{combat:1,social:0,general:0}},{name:"Distinctive Style",description:"When making a Computers check to hack a system or break into a secured network, before rolling, your character may use this talent to add [success] [success] [threat] [threat] to the results.",book:"Core",page:"78",powerLevels:{combat:0,social:0,general:1}},{name:"Dual Wielder",description:"Your character may use this talent to decrease the difficulty of the next combined combat check (see Two- Weapon Combat, on page 108) they make during the same turn by one.",book:"Core",page:"76",powerLevels:{combat:1,social:0,general:0}},{name:"Duelist",description:"Your character adds [boost] to their melee combat checks while engaged with a single opponent. Your character adds [setback] to their melee combat checks while engaged with three or more opponents.",book:"Core",page:"73",powerLevels:{combat:0,social:0,general:0}},{name:"Elementalist",description:"Whenever your character casts an Attack spell, they always add the chosen effect to the spell without increasing the difficulty.",book:"EPG",page:"95",powerLevels:{combat:0,social:0,general:0}},{name:"Explosive Casting",description:"When your character casts an attack spell, they treat the spell\u2019s Blast quality as having a rating equal to twice your character\u2019s ranks in Knowledge (instead of their ranks in Knowledge). When your character casts an Attack spell with the Blast effect, you may spend one Story Point to use this talent to trigger the spell\u2019s Blast quality, instead of spending [advantage] (even if the attack misses)",book:"EPG",page:"96",powerLevels:{combat:1,social:0,general:0}},{name:"Face of the Wild",description:"When your character casts a transform spell on themself using the Primal skill, you may spend a Story Point to have them use this talent to maintain the effects of the spell until the end of the encounter, without performing concentrate maneuvers.",book:"EPG",page:"97",powerLevels:{combat:1,social:0,general:1}},{name:"Field Commander",description:"Your character may use this talent to make an Average ([difficulty] [difficulty]) Leadership check. If successful, a number of allies equal to your character\u2019s Presence may immediately suffer 1 strain to perform one maneuver (out of turn). If there are any questions as to which allies take their maneuvers first, your character is the final arbiter.",book:"Core",page:"78",powerLevels:{combat:1,social:0,general:0}},{name:"Flicker Step",description:"When your character casts a spell using the Arcana skill, they may use this talent to spend [advantage] [advantage] [advantage] or [triumph] to instantly vanish and reappear at any location within long range.",book:"EPG",page:"97",powerLevels:{combat:1,social:0,general:1}},{name:"Grenadier",description:"When your character makes a ranged combat check with a weapon that has the Blast item quality, you may spend one Story Point to use this talent to trigger the weapon\u2019s Blast quality, instead of spending [advantage] (even if the attack misses). In addition, your character treats grenades as having a range of medium.",book:"Core",page:"79",powerLevels:{combat:1,social:0,general:0}},{name:"Hamstring Shot",description:"Once per round, your character may use this talent to perform a ranged combat check against one non-vehicle target within range of the weapon used. If the check is successful, halve the damage inflicted by the attack (before reducing damage by the target\u2019s soak). The target is immobilized until the end of its next turn.",book:"Core",page:"73",powerLevels:{combat:0,social:0,general:0}},{name:"Improved Field Commander",description:"Your character must have purchased the Field Commander talent to benefit from this talent. When your character uses the Field Commander talent, your character affects a number of allies equal to twice the character\u2019s Presence. In addition, you may spend [triumph] to allow one ally to suffer 1 strain to perform an action, instead of a maneuver.",book:"Core",page:"80",powerLevels:{combat:2,social:0,general:1}},{name:"Improved Inspiring Rhetoric",description:"Your character must have purchased the Inspiring Rhetoric talent to benefit from this talent. Allies affected by your character\u2019s Inspiring Rhetoric add [boost] to all skill checks they make for a number of rounds equal to your character\u2019s ranks in Leadership.",book:"Core",page:"76 and 78",powerLevels:{combat:0,social:0,general:1}},{name:"Improved Parry",description:"When your character suffers a hit from a melee combat check and uses Parry to reduce the damage from that hit, after the attack is resolved, you may spend [despair] or [threat] [threat] [threat] from the attacker\u2019s check to use this talent. Then, your character automatically hits the attacker once with a Brawl or Melee weapon your character is wielding. The hit deals the weapon\u2019s base damage, plus any damage from applicable talents or abilities. Your character can\u2019t use this talent if the original attack incapacitates them.",book:"Core",page:"79",powerLevels:{combat:1,social:0,general:0}},{name:"Improved Scathing Tirade",description:"Enemies affected by your character\u2019s Scathing Tirade add [setback] to all skill checks they make for a number of rounds equal to your character\u2019s ranks in Coercion.",book:"Core",page:"77 and 79",powerLevels:{combat:0,social:1,general:0}},{name:"Indomitable",description:"Once per encounter, when your character would be incapacitated due to exceeding their wound or strain threshold, you may spend a Story Point to use this talent. Then, your character is not incapacitated until the end of their next turn. If your character reduces their strain or wounds to below their threshold before the end of their next turn, they are not incapacitated.",book:"Core",page:"81",powerLevels:{combat:1,social:1,general:0}},{name:"Lucky Strike",description:"When your character purchases this talent, choose one characteristic. After your character makes a successful combat check, you may spend one Story Point to use this talent to add damage equal to your character\u2019s ranks in that characteristic to one hit of the combat check.",book:"Core",page:"76",powerLevels:{combat:1,social:0,general:0}},{name:"Master",description:"When you purchase this talent for your character, choose one skill. Once per round, your character may suffer 2 strain to use this talent to reduce the difficulty of the next check they make using that skill by two, to a minimum of Easy ([difficulty]).",book:"Core",page:"81",powerLevels:{combat:1,social:1,general:1}},{name:"Masterful Casting",description:"",book:"EPG",page:"97",powerLevels:{combat:1,social:0,general:0}},{name:"Natural",description:"When your character purchases this talent, choose two skills. Once per session, your character may use this talent to reroll one skill check that uses one of those two skills.",book:"Core",page:"79",powerLevels:{combat:1,social:1,general:1}},{name:"Parry 3",description:"When this character suffers a hit from a melee combat check, after damage is calculated, but before soak is applied, they may suffer 3 strain to reduce the damage of the hit by five",book:"Core",page:"74",powerLevels:{combat:1,social:0,general:0}},{name:"Quick Draw",description:"Once per round on your character\u2019s turn, they may use this talent to draw or holster an easily accessible weapon or item as an incidental. Quick Draw also reduces a weapon\u2019s Prepare rating by one, to a minimum of one.",book:"Core",page:"74",powerLevels:{combat:0,social:0,general:0}},{name:"Ruinous Repartee",description:"Once per encounter, your character may use this talent to make an opposed Charm or Coercion versus Discipline check targeting one character within medium range (or within earshot). If successful, the target suffers strain equal to twice your character\u2019s Presence, plus one additional strain per [success]. Your character heals strain equal to the strain inflicted.",book:"Core",page:"81",powerLevels:{combat:0,social:2,general:0}},{name:"Second Wind 4",description:"Once per encounter, your character may use this talent to heal an amount of strain equal to their ranks in Second Wind.",book:"Core",page:"81",powerLevels:{combat:0,social:1,general:0}},{name:"Strength of Faith",description:"Once per session, your character may use this talent to add [success] equal to their ranks in Discipline and [advantage] equal to their ranks in Willpower to the results of the next Divine skill check they make during this turn.",book:"EPG",page:"97",powerLevels:{combat:1,social:0,general:1}},{name:"Surgeon 2",description:"when making Medicine checks to heal wounds, heals 2 additional wounds",book:"Core",page:"74",powerLevels:{combat:0,social:0,general:1}}],z=[{name:"Aquatic",description:"This adversary may breathe underwater and never suffers movement penalties for traveling through water, but cannot survive on land.",examples:"Fish or sea-going creatures",powerLevels:{combat:0,social:0,general:1}},{name:"Amphibious",description:"This adversary may breathe underwater and never suffers movement penalties for traveling through water.",examples:"Fish or sea-going creatures",powerLevels:{combat:0,social:0,general:1}},{name:"Flyer",description:"This adversary can fly; see page 100 of the Genesys Core Rulebook.",examples:"Flying creatures",powerLevels:{combat:0,social:0,general:1}},{name:"Ghostly",description:"This adversary may move over or through terrain (including doors and walls) without penalty. Halve the damage dealt to this adversary before applying soak, unless the attack came from a magical or supernatural source such as a spell, a blessed weapon, or another spirit.",examples:"Ghosts, spirits, or ethereal beings",powerLevels:{combat:2,social:0,general:1}},{name:"Know Your Foe",description:"If this adversary knows an opponent's (pick one facet) Motivation, when this adversary inflicts strain on the  opponent, the opponent suffers 3 additional strain.",examples:"Sentient rivals and nemeses designed for social encounters",powerLevels:{combat:0,social:1,general:0}},{name:"Loyal Followers",description:"Once per round when this adversary is targeted by a combat check, they may choose one ally within short range, and the attack then targets the ally instead of this adversary.",examples:"Nemesis leaders with fanatical or devoted followers",powerLevels:{combat:1,social:0,general:0}},{name:"Mechanical",description:"This adversary does not need to breathe, eat, or drink, and can survive in a vacuum and underwater. They are immune to poisons and toxins.",examples:"Robots or drones",powerLevels:{combat:0,social:0,general:2}},{name:"Undead",description:"This adversary does not need to breathe, eat, or drink, and can survive in a vacuum and underwater. They are immune to poisons and toxins.",examples:"Undead adversaries",powerLevels:{combat:0,social:0,general:2}},{name:"Mental Weakness",description:"If an opponent knows the adversary's (pick one type) Motivation, when the opponent inflicts strain on the adversary, the adversary suffers 2 additional strain.",examples:"Any character with a pronounced character flaw",powerLevels:{combat:0,social:-1,general:0}},{name:"Ominous Reputation",description:"When an opponent targets this adversary with a check, the opponent suffers 2 strain",examples:"Powerful nemeses with a fearsome reputation",powerLevels:{combat:1,social:2,general:0}},{name:"One Step Ahead",description:"Once per round, after an opponent performs an action or maneuver, you may spend one Story Point to have this adversary perform an action or maneuver as an out-of-turn incidental.",examples:"Powerful nemeses who combat the PCs alone",powerLevels:{combat:2,social:1,general:0}},{name:"Pack Fighter",description:"If this adversary makes a successful combat check, the next ally making a combat check against the same target during the same round Combat +1, Social +0, General +0 adds [advantage][advantage] to the results.",examples:"Creatures that fight in groups",powerLevels:{combat:1,social:0,general:0}},{name:"Pounce",description:"Once per turn, while at short range this adversary may perform the move maneuver to engage a target as an incidental.",examples:"Fast creatures that can leap or lunge at foes",powerLevels:{combat:0,social:0,general:0}},{name:"Swarm",description:"Halve the damage dealt to this adversary before applying soak, unless the attack has the Blast or Burn quality (regardless of whether the quality is activated).",examples:"A single profile representing a swarm of bugs or vermin",powerLevels:{combat:1,social:0,general:0}},{name:"Tactical Direction",description:"This adversary may spend a maneuver to direct one friendly minion group within medium range. That group may immediately perform a maneuver as an out-of-turn incidental or add [boost] to the next check they make.",examples:"Rivals and nemeses who lead or direct small groups",powerLevels:{combat:0,social:0,general:0}},{name:"Environmental Vulnerability",description:"When exposed to extreme heat, cold, or another environmental effect (pick one), this adversary adds [setback][setback] to all skill checks it makes.",examples:"Creatures adapted to living in certain climates",powerLevels:{combat:-1,social:-1,general:-1}},{name:"Terrifying",description:"At the start of the encounter, all opponents must make a Hard ([difficulty][difficulty][difficulty]) fear check as an out-of-turn incidental, as per page 243 of the Genesys Core Rulebook. If there are multiple sources of fear  in the encounter, the opponents only make one fear check against the most terrifying enemy.",examples:"Large monsters, creatures, and individuals who are incredibly frightening",powerLevels:{combat:1,social:1,general:1}}],Q=a(51),Z=a.n(Q),$=[{name:"Small Beast or Creature",items:["Teeth and claws (Brawl; Damage +2; Critical 3; Range [Engaged]; Vicious 1) or hooves and tusks (Brawl; Damage +2; Critical 4; Range [Engaged]; Knockdown, Stun 2)."]},{name:"Large Beast or Creature",items:["Gaping maw or razor claws (Brawl; Damage +4; Critical 2; Range [Engaged]; Vicious 3)","Tentacles or thundering hooves (Brawl; Damage +5; Critical 4; Range [Engaged]; Knockdown, Concussive 1)."]},{name:"Manual Laborer",items:["Large farming implement (Melee [Heavy]; Damage +3; Critical 5; Range [Engaged]; Cumbersome 3, Inferior).","Heavy clothes (+1 soak)"]}],X=function(e){function t(e){var a;Object(r.a)(this,t),a=Object(o.a)(this,Object(m.a)(t).call(this,e));var i=localStorage.getItem("editing_adversary"),n=null;i&&(n=JSON.parse(i));var l=new J(n),s=localStorage.getItem("values_as_dice"),c=!1;s&&+s>0&&(c=!0);var d=l.equipment.join("\n");return a.state={updated:!1,workingEdit:l,soakDefWoundStrainSelect:null,skillPackageSelect:null,talentSelect:null,specialAbilitiesSelect:null,valuesAsDice:c,equipmentText:d,equipmentSelect:""},a.updateName=a.updateName.bind(Object(u.a)(a)),a.updateType=a.updateType.bind(Object(u.a)(a)),a.updateCharacteristicArray=a.updateCharacteristicArray.bind(Object(u.a)(a)),a.updateSoakDefWoundStrainSelect=a.updateSoakDefWoundStrainSelect.bind(Object(u.a)(a)),a.updateDescription=a.updateDescription.bind(Object(u.a)(a)),a.addSelectedSoakDefWoundStrain=a.addSelectedSoakDefWoundStrain.bind(Object(u.a)(a)),a.addSelectedSkillPackage=a.addSelectedSkillPackage.bind(Object(u.a)(a)),a.updateSkillPackageSelect=a.updateSkillPackageSelect.bind(Object(u.a)(a)),a.updateSoakDefWoundStrainSelect=a.updateSoakDefWoundStrainSelect.bind(Object(u.a)(a)),a.addSelectedTalent=a.addSelectedTalent.bind(Object(u.a)(a)),a.updateTalentSelect=a.updateTalentSelect.bind(Object(u.a)(a)),a.addSelectedSpecialAbility=a.addSelectedSpecialAbility.bind(Object(u.a)(a)),a.updateSpecialAbilitySelect=a.updateSpecialAbilitySelect.bind(Object(u.a)(a)),a.removeSpecialAbility=a.removeSpecialAbility.bind(Object(u.a)(a)),a.removeSoakDefWoundStrain=a.removeSoakDefWoundStrain.bind(Object(u.a)(a)),a.removeSkillPackage=a.removeSkillPackage.bind(Object(u.a)(a)),a.removeTalent=a.removeTalent.bind(Object(u.a)(a)),a.toggleValuesAsDice=a.toggleValuesAsDice.bind(Object(u.a)(a)),a.updateEquipmentText=a.updateEquipmentText.bind(Object(u.a)(a)),a.updateEquipmentSelect=a.updateEquipmentSelect.bind(Object(u.a)(a)),a.setEquipment=a.setEquipment.bind(Object(u.a)(a)),a._refreshImages=a._refreshImages.bind(Object(u.a)(a)),a.props.appGlobals.makeDocumentTitle("AdversaryCreator"),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"setEquipment",value:function(){var e=this.state.workingEdit,t=!0,a=!1,i=void 0;try{for(var n,l=$[Symbol.iterator]();!(t=(n=l.next()).done);t=!0){var s=n.value;s.name===this.state.equipmentSelect&&(e.equipment=s.items,this.saveLS())}}catch(r){a=!0,i=r}finally{try{t||null==l.return||l.return()}finally{if(a)throw i}}this.setState({workingEdit:e,equipmentText:e.equipment.join("\n")})}},{key:"updateEquipmentSelect",value:function(e){this.setState({equipmentSelect:e.currentTarget.value})}},{key:"updateEquipmentText",value:function(e){return R.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:this.setState({equipmentText:e.currentTarget.value}),this.state.workingEdit.equipment=e.currentTarget.value.split("\n"),this.saveLS();case 4:case"end":return t.stop()}}),null,this)}},{key:"componentDidMount",value:function(){this._refreshImages()}},{key:"toggleValuesAsDice",value:function(){var e=!this.state.valuesAsDice;e?localStorage.setItem("values_as_dice","1"):localStorage.setItem("values_as_dice","0"),this.setState({valuesAsDice:e})}},{key:"removeSpecialAbility",value:function(e){if(this.state.workingEdit.selectedSpecialAbilities.length>e){var t=this.state.workingEdit;t.selectedSpecialAbilities.splice(e,1),t.calc(),this.saveLS(),this.setState({workingEdit:t})}}},{key:"removeSoakDefWoundStrain",value:function(e){if(this.state.workingEdit.selectedSoakDefWoundStrain.length>e){var t=this.state.workingEdit;t.selectedSoakDefWoundStrain.splice(e,1),t.calc(),this.saveLS(),this.setState({workingEdit:t})}}},{key:"removeSkillPackage",value:function(e){if(this.state.workingEdit.selectedSkillPackages.length>e){var t=this.state.workingEdit;t.selectedSkillPackages.splice(e,1),t.calc(),this.saveLS(),this.setState({workingEdit:t})}}},{key:"removeTalent",value:function(e){if(this.state.workingEdit.selectedTalents.length>e){var t=this.state.workingEdit;t.selectedTalents.splice(e,1),t.calc(),this.saveLS(),this.setState({workingEdit:t})}}},{key:"saveLS",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];!1===e&&this._refreshImages();var t=JSON.stringify(this.state.workingEdit.exportData());localStorage.setItem("editing_adversary",t)}},{key:"updateName",value:function(e){var t=this.state.workingEdit;t.name=e.currentTarget.value,this.saveLS(!0),this.setState({workingEdit:t})}},{key:"_sortByName",value:function(e,t){return e.name>t.name?1:e.name<t.name?-1:0}},{key:"updateDescription",value:function(e){var t=this.state.workingEdit;t.description=e.currentTarget.value.split("\n"),this.saveLS(!0),this.setState({workingEdit:t})}},{key:"updateType",value:function(e){var t=this.state.workingEdit;t.adversaryType=e.currentTarget.value,t.calc(),this.saveLS(),this.setState({workingEdit:t})}},{key:"updateCharacteristicArray",value:function(e){var t=this.state.workingEdit,a=!0,i=!1,n=void 0;try{for(var l,s=W[Symbol.iterator]();!(a=(l=s.next()).done);a=!0){var r=l.value;r.name===e.currentTarget.value&&(t.selectedAdversaryCharacteristicArray=r)}}catch(c){i=!0,n=c}finally{try{a||null==s.return||s.return()}finally{if(i)throw n}}t.calc(),this.saveLS(),this.setState({workingEdit:t})}},{key:"updateSpecialAbilitySelect",value:function(e){var t=z[0],a=!0,i=!1,n=void 0;try{for(var l,s=z[Symbol.iterator]();!(a=(l=s.next()).done);a=!0){var r=l.value;r.name===e.currentTarget.value&&(t=r)}}catch(c){i=!0,n=c}finally{try{a||null==s.return||s.return()}finally{if(i)throw n}}this.setState({specialAbilitiesSelect:t})}},{key:"updateSkillPackageSelect",value:function(e){var t=U[0],a=!0,i=!1,n=void 0;try{for(var l,s=U[Symbol.iterator]();!(a=(l=s.next()).done);a=!0){var r=l.value;r.name===e.currentTarget.value&&(t=r)}}catch(c){i=!0,n=c}finally{try{a||null==s.return||s.return()}finally{if(i)throw n}}this.setState({skillPackageSelect:t})}},{key:"updateTalentSelect",value:function(e){var t=Y[0],a=!0,i=!1,n=void 0;try{for(var l,s=Y[Symbol.iterator]();!(a=(l=s.next()).done);a=!0){var r=l.value;r.name===e.currentTarget.value&&(t=r)}}catch(c){i=!0,n=c}finally{try{a||null==s.return||s.return()}finally{if(i)throw n}}this.setState({talentSelect:t})}},{key:"updateSoakDefWoundStrainSelect",value:function(e){var t=K[0],a=!0,i=!1,n=void 0;try{for(var l,s=K[Symbol.iterator]();!(a=(l=s.next()).done);a=!0){var r=l.value;r.name===e.currentTarget.value&&(t=r)}}catch(c){i=!0,n=c}finally{try{a||null==s.return||s.return()}finally{if(i)throw n}}this.setState({soakDefWoundStrainSelect:t})}},{key:"addSelectedSpecialAbility",value:function(){var e=this.state.workingEdit;this.state.specialAbilitiesSelect&&(e.selectedSpecialAbilities.push(this.state.specialAbilitiesSelect),e.calc(),this.saveLS(),this.setState({workingEdit:e}))}},{key:"addSelectedSkillPackage",value:function(){var e=this.state.workingEdit;this.state.skillPackageSelect&&(e.selectedSkillPackages.push(this.state.skillPackageSelect),e.calc(),this.saveLS(),this.setState({workingEdit:e}))}},{key:"addSelectedTalent",value:function(){var e=this.state.workingEdit;this.state.talentSelect&&(e.addTalent(this.state.talentSelect),e.calc(),this.saveLS(),this.setState({workingEdit:e}))}},{key:"addSelectedSoakDefWoundStrain",value:function(){var e=this.state.workingEdit;this.state.soakDefWoundStrainSelect&&(e.selectedSoakDefWoundStrain.push(this.state.soakDefWoundStrainSelect),e.calc(),this.saveLS(),this.setState({workingEdit:e}))}},{key:"_refreshImages",value:function(){var e=document.getElementById("statblock");e&&Z.a.toPng(e).then((function(e){var t=document.getElementById("statblock-image");t&&(t.src=e)}));var t=document.getElementById("power-level-box");t&&Z.a.toPng(t).then((function(e){var t=document.getElementById("power-level-image");t&&(t.src=e)}))}},{key:"render",value:function(){var e=this;return n.a.createElement(E,{current:"adversary-creator",appGlobals:this.props.appGlobals},n.a.createElement("p",{className:"text-center"},"Using the ",n.a.createElement("a",{target:"buyme",href:"https://www.fantasyflightgames.com/en/products/genesys/products/expanded-players-guide/"},"Expanded Players Guide"),", this tool aims to make the calculations for creating and balancing your own adversaries quick and painless."),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md"},n.a.createElement("label",null,n.a.createElement("input",{type:"checkbox",checked:this.state.valuesAsDice,onChange:this.toggleValuesAsDice}),"\xa0Values As Dice"),n.a.createElement("div",{className:"relative"},n.a.createElement("div",{className:"card-container"},n.a.createElement("div",{className:"adversary-card front"},n.a.createElement("img",{id:"power-level-image",alt:"Power Level Block",src:""}),n.a.createElement("h1",null,this.state.workingEdit.name," [",this.state.workingEdit.adversaryType,"]"),this.state.workingEdit.description.map((function(e,t){return n.a.createElement("p",{key:t},e)})),n.a.createElement("div",{className:"text-center"},n.a.createElement("img",{id:"statblock-image",alt:"Stat Block",src:""})),this.state.workingEdit.getSkillList()?n.a.createElement("div",null,n.a.createElement("strong",null,"Skills:\xa0"),n.a.createElement(v,{html:_(this.state.workingEdit.getSkillList(this.state.valuesAsDice),!1,"png","16"),raw:!0})):n.a.createElement(n.a.Fragment,null),this.state.workingEdit.getTalentList()?n.a.createElement("div",null,n.a.createElement("strong",null,"Talents: "),"\xa0",n.a.createElement(v,{html:_(this.state.workingEdit.getTalentList(),!1,"png","16"),raw:!0})):n.a.createElement(n.a.Fragment,null),this.state.workingEdit.getAbilitiesList()?n.a.createElement("div",null,n.a.createElement("strong",null,"Abilities: "),"\xa0",n.a.createElement(v,{html:_(this.state.workingEdit.getAbilitiesList(),!1,"png","16"),raw:!0})):n.a.createElement(n.a.Fragment,null),this.state.workingEdit.getWeaponList().length>0?n.a.createElement("div",null,n.a.createElement("strong",null,"Weapons: "),"\xa0",n.a.createElement(v,{html:_(this.state.workingEdit.getWeaponList(),!1,"png","16"),raw:!0})):n.a.createElement(n.a.Fragment,null),this.state.workingEdit.getEquipmentList().length>0?n.a.createElement("div",null,n.a.createElement("strong",null,"Equipment: "),"\xa0",n.a.createElement(v,{html:_(this.state.workingEdit.getEquipmentList(),!1,"png","16"),raw:!0})):n.a.createElement(n.a.Fragment,null))),n.a.createElement("div",{className:"hidden"},n.a.createElement("div",{id:"power-level-box",className:"power-level-box"},n.a.createElement("div",{className:"pl-value pl-value1"},this.state.workingEdit.getPowerLevel().combat),n.a.createElement("div",{className:"pl-value pl-value2"},this.state.workingEdit.getPowerLevel().social),n.a.createElement("div",{className:"pl-value pl-value3"},this.state.workingEdit.getPowerLevel().general)),n.a.createElement("div",{id:"statblock"},n.a.createElement("div",{className:"Nemesis"===this.state.workingEdit.adversaryType?"statblock nemesis":"statblock minion-rival"},n.a.createElement("div",{className:"label label1"},"brawn"),n.a.createElement("div",{className:"label label2"},"agility"),n.a.createElement("div",{className:"label label3"},"intellect"),n.a.createElement("div",{className:"label label4"},"cunning"),n.a.createElement("div",{className:"label label5"},"willpower"),n.a.createElement("div",{className:"label label6"},"presence"),n.a.createElement("div",{className:"value value1"},this.state.workingEdit.getBrawn()),n.a.createElement("div",{className:"value value2"},this.state.workingEdit.getAgility()),n.a.createElement("div",{className:"value value3"},this.state.workingEdit.getIntellect()),n.a.createElement("div",{className:"value value4"},this.state.workingEdit.getCunning()),n.a.createElement("div",{className:"value value5"},this.state.workingEdit.getWillpower()),n.a.createElement("div",{className:"value value6"},this.state.workingEdit.getPresence()),"Nemesis"===this.state.workingEdit.adversaryType?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"nemesis-label nemesis-label1"},"SOAK VALUE"),n.a.createElement("div",{className:"nemesis-label nemesis-label2"},"WOUND THRESHOLD"),n.a.createElement("div",{className:"nemesis-label nemesis-label3"},"STRAIN THRESHOLD"),n.a.createElement("div",{className:"nemesis-label nemesis-label4"},"M/R DEFENSE"),n.a.createElement("div",{className:"nemesis-value nemesis-value1"},this.state.workingEdit.getSoak()),n.a.createElement("div",{className:"nemesis-value nemesis-value2"},this.state.workingEdit.getWoundThreshold()),n.a.createElement("div",{className:"nemesis-value nemesis-value3"},this.state.workingEdit.getStrainThreshold()),n.a.createElement("div",{className:"nemesis-value nemesis-value4 half"},this.state.workingEdit.getMeleeDefense()),n.a.createElement("div",{className:"nemesis-value nemesis-value5 half"},this.state.workingEdit.getRangedDefense())):n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"minion-rival-label minion-rival-label1"},"SOAK VALUE"),n.a.createElement("div",{className:"minion-rival-label minion-rival-label2"},"WOUND THRESHOLD"),n.a.createElement("div",{className:"minion-rival-label minion-rival-label3"},"M/R DEFENSE"),n.a.createElement("div",{className:"minion-rival-value minion-rival-value1"},this.state.workingEdit.getSoak()),n.a.createElement("div",{className:"minion-rival-value minion-rival-value2"},this.state.workingEdit.getWoundThreshold()),n.a.createElement("div",{className:"minion-rival-value minion-rival-value3 half"},this.state.workingEdit.getMeleeDefense()),n.a.createElement("div",{className:"minion-rival-value minion-rival-value4 half"},this.state.workingEdit.getRangedDefense()))))))),n.a.createElement("div",{className:"col-md"},n.a.createElement("div",{className:"form"},n.a.createElement("label",null,"Name:\xa0",n.a.createElement("input",{type:"text",value:this.state.workingEdit.name,onChange:this.updateName})),n.a.createElement("label",null,"Type:\xa0",n.a.createElement("select",{value:this.state.workingEdit.adversaryType,onChange:this.updateType},q.map((function(e){return n.a.createElement("option",{key:e},e)})))),n.a.createElement("label",null,"Description:",n.a.createElement("textarea",{value:this.state.workingEdit.description.join("\n"),onChange:this.updateDescription})),n.a.createElement("label",null,"Characteristic Array:\xa0",n.a.createElement("select",{value:this.state.workingEdit.selectedAdversaryCharacteristicArray.name,onChange:this.updateCharacteristicArray},W.sort(this._sortByName).map((function(e,t){return n.a.createElement("option",{key:t,value:e.name},e.name)})))),n.a.createElement("fieldset",{className:"fieldset"},n.a.createElement("label",{className:"inline-block"},"Soak, Defense, Wounds, Strain:\xa0",n.a.createElement("select",{value:this.state.soakDefWoundStrainSelect?this.state.soakDefWoundStrainSelect.name:"",onChange:this.updateSoakDefWoundStrainSelect},n.a.createElement("option",{value:""},"- Select -"),K.sort(this._sortByName).map((function(e,t){return n.a.createElement("option",{key:t,value:e.name},e.name)})))),n.a.createElement("button",{className:"btn-primary btn btn-sm",onClick:this.addSelectedSoakDefWoundStrain},"Add"),n.a.createElement("br",null),this.state.workingEdit.selectedSoakDefWoundStrain.length>0?n.a.createElement(n.a.Fragment,null,n.a.createElement("ul",{className:"styleless"},this.state.workingEdit.selectedSoakDefWoundStrain.sort(this._sortByName).map((function(t,a){return n.a.createElement("li",{key:a},n.a.createElement("button",{className:"btn btn-xs btn-primary",onClick:function(){return e.removeSoakDefWoundStrain(a)}},n.a.createElement(f.a,{icon:b.j})),t.name)})))):n.a.createElement(n.a.Fragment,null,"None Selected")),n.a.createElement("fieldset",{className:"fieldset"},n.a.createElement("label",{className:"inline-block"},"Skills:\xa0",n.a.createElement("select",{value:this.state.skillPackageSelect?this.state.skillPackageSelect.name:"",onChange:this.updateSkillPackageSelect},n.a.createElement("option",{value:""},"- Select -"),U.sort(this._sortByName).map((function(e,t){return n.a.createElement("option",{key:t,value:e.name},e.name)})))),n.a.createElement("button",{className:"btn-primary btn btn-sm",onClick:this.addSelectedSkillPackage},"Add"),n.a.createElement("br",null),this.state.workingEdit.selectedSkillPackages.length>0?n.a.createElement(n.a.Fragment,null,n.a.createElement("ul",{className:"styleless"},this.state.workingEdit.selectedSkillPackages.map((function(t,a){return n.a.createElement("li",{key:a},n.a.createElement("button",{className:"btn btn-xs btn-primary",onClick:function(){return e.removeSkillPackage(a)}},n.a.createElement(f.a,{icon:b.j})),t.name)})))):n.a.createElement(n.a.Fragment,null,"None Selected")),n.a.createElement("fieldset",{className:"fieldset"},n.a.createElement("label",{className:"inline-block"},"Talents:\xa0",n.a.createElement("select",{value:this.state.talentSelect?this.state.talentSelect.name:"",onChange:this.updateTalentSelect},n.a.createElement("option",{value:""},"- Select -"),Y.sort(this._sortByName).map((function(e,t){return n.a.createElement("option",{key:t,value:e.name},e.name)})))),n.a.createElement("button",{className:"btn-primary btn btn-sm",onClick:this.addSelectedTalent},"Add"),n.a.createElement("br",null),this.state.workingEdit.selectedTalents.length>0?n.a.createElement(n.a.Fragment,null,n.a.createElement("ul",{className:"styleless"},this.state.workingEdit.selectedTalents.map((function(t,a){return n.a.createElement("li",{key:a},n.a.createElement("button",{className:"btn btn-xs btn-primary",onClick:function(){return e.removeTalent(a)}},n.a.createElement(f.a,{icon:b.j})),n.a.createElement("span",null,t.name))})))):n.a.createElement(n.a.Fragment,null,"None Selected")),n.a.createElement("fieldset",{className:"fieldset"},n.a.createElement("label",{className:"inline-block"},"Special Abilities:\xa0",n.a.createElement("select",{value:this.state.specialAbilitiesSelect?this.state.specialAbilitiesSelect.name:"",onChange:this.updateSpecialAbilitySelect},n.a.createElement("option",{value:""},"- Select -"),z.sort(this._sortByName).map((function(e,t){return n.a.createElement("option",{key:t,value:e.name},e.name)})))),n.a.createElement("button",{className:"btn-primary btn btn-sm",onClick:this.addSelectedSpecialAbility},"Add"),n.a.createElement("br",null),this.state.workingEdit.selectedSpecialAbilities.length>0?n.a.createElement(n.a.Fragment,null,n.a.createElement("ul",{className:"styleless"},this.state.workingEdit.selectedSpecialAbilities.map((function(t,a){return n.a.createElement("li",{key:a},n.a.createElement("button",{className:"btn btn-xs btn-primary",onClick:function(){return e.removeSpecialAbility(a)}},n.a.createElement(f.a,{icon:b.j})),t.name)})))):n.a.createElement(n.a.Fragment,null,"None Selected")),n.a.createElement("fieldset",{className:"fieldset"},n.a.createElement("div",{id:"power-level-box",className:"power-level-box pull-right"},n.a.createElement("div",{className:"pl-value pl-value1"},this.state.workingEdit.getEquipmentPowerLevel().combat),n.a.createElement("div",{className:"pl-value pl-value2"},this.state.workingEdit.getEquipmentPowerLevel().social),n.a.createElement("div",{className:"pl-value pl-value3"},this.state.workingEdit.getEquipmentPowerLevel().general)),n.a.createElement("label",{htmlFor:"equipment"},"Equipment:",n.a.createElement("br",null)),n.a.createElement("select",{value:this.state.equipmentSelect,onChange:this.updateEquipmentSelect},n.a.createElement("option",{value:""},"- Select -"),$.sort(this._sortByName).map((function(e,t){return n.a.createElement("option",{key:t,value:e.name},e.name)}))),n.a.createElement("button",{className:"btn btn-sm btn-primary",onClick:this.setEquipment},"Set"),n.a.createElement("p",{className:"small-text"},"One option per line. The parser can handle simple ands and ors on the line."),n.a.createElement("textarea",{name:"equipment",id:"equipment",value:this.state.equipmentText,onChange:this.updateEquipmentText}),"Shortcodes:",n.a.createElement("div",{className:"flex"},["[ability]","[proficiency]","[boost]","[difficulty]","[challenge]","[setback]","[force]"].map((function(e,t){return n.a.createElement("div",{key:t},n.a.createElement(v,{raw:!0,html:_(e)}),"\xa0",e)}))),n.a.createElement("div",{className:"flex"},["[advantage]","[threat]","[triumph]","[despair]","[success]","[failure]"].map((function(e,t){return n.a.createElement("div",{key:t},n.a.createElement(v,{raw:!0,html:_(e)}),"\xa0",e)}))))))))}}]),t}(n.a.Component),ee=function(e){function t(e){var a;Object(r.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).makeDocumentTitle=a.makeDocumentTitle.bind(Object(u.a)(a)),a.openConfirmDialog=a.openConfirmDialog.bind(Object(u.a)(a)),a.closeConfirmDialog=a.closeConfirmDialog.bind(Object(u.a)(a)),a.confirmConfirmDialog=a.confirmConfirmDialog.bind(Object(u.a)(a)),a.refreshGlobalState=a.refreshGlobalState.bind(Object(u.a)(a)),a.toggleMobile=a.toggleMobile.bind(Object(u.a)(a)),a.closeMobile=a.closeMobile.bind(Object(u.a)(a)),a.saveSettings=a.saveSettings.bind(Object(u.a)(a));var i="",n=localStorage.getItem("uiTheme");n?(i=n,document.body.className=i):document.body.className="";var l="genesys",s=localStorage.getItem("dieIconClass");return s&&(l=s),a.state={updated:!1,appGlobals:{settings:{uiTheme:i,dieIconClass:l},currentPageTitle:"",siteAlerts:new I(Object(u.a)(a)),showMobile:!1,confirmDialogMessage:"",confirmDialogTitle:"",confirmDialogYesLabel:"",confirmDialogNoLabel:"",showConfirmDialog:!1,confirmDialogConfirm:null,makeDocumentTitle:a.makeDocumentTitle,openConfirmDialog:a.openConfirmDialog,refreshGlobalState:a.refreshGlobalState,toggleMobile:a.toggleMobile,closeMobile:a.closeMobile,saveSettings:a.saveSettings}},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"saveSettings",value:function(e){var t=this.state.appGlobals;t.settings=e,this.setState({appGlobals:t}),e.uiTheme.trim()?document.body.className=e.uiTheme:document.body.className="",localStorage.setItem("uiTheme",e.uiTheme),localStorage.setItem("dieIconClass",e.dieIconClass)}},{key:"toggleMobile",value:function(){var e=this.state.appGlobals;e.showMobile=!e.showMobile,this.setState({appGlobals:e,updated:!0})}},{key:"closeMobile",value:function(){var e=this.state.appGlobals;e.showMobile=!1,this.setState({appGlobals:e,updated:!0})}},{key:"makeDocumentTitle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.state.appGlobals;e?(document.title=e+" | "+L,t.currentPageTitle=e,this.setState({appGlobals:t})):(document.title=L,t.currentPageTitle=e,this.setState({appGlobals:t}))}},{key:"refreshGlobalState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?this.setState({updated:!0,appGlobals:e}):this.setState({updated:!0})}},{key:"closeConfirmDialog",value:function(){var e=this.state.appGlobals;e.showConfirmDialog=!1,this.setState({appGlobals:e})}},{key:"confirmConfirmDialog",value:function(){if(this.state.appGlobals){this.state.appGlobals.confirmDialogConfirm&&this.state.appGlobals.confirmDialogConfirm();var e=this.state.appGlobals;e.showConfirmDialog=!1,this.setState({appGlobals:e})}}},{key:"openConfirmDialog",value:function(e,t,a,i,n){var l=this.state.appGlobals;l.confirmDialogMessage=t,l.confirmDialogTitle=e,l.confirmDialogYesLabel=a,l.confirmDialogNoLabel=i,l.showConfirmDialog=!0,l.confirmDialogConfirm=n,this.setState({appGlobals:l})}},{key:"render",value:function(){return n.a.createElement(h.a,null,n.a.createElement(C.a,{show:this.state.appGlobals.showConfirmDialog,onHide:this.closeConfirmDialog},n.a.createElement(C.a.Header,{closeButton:!0},n.a.createElement(C.a.Title,null,this.state.appGlobals.confirmDialogTitle)),n.a.createElement(C.a.Body,null,n.a.createElement("div",{className:"form"},n.a.createElement("div",null,n.a.createElement(v,{html:this.state.appGlobals.confirmDialogMessage})))),n.a.createElement(C.a.Footer,null,n.a.createElement(D.a,{variant:"secondary",onClick:this.closeConfirmDialog},this.state.appGlobals.confirmDialogNoLabel),n.a.createElement(D.a,{variant:"primary",onClick:this.confirmConfirmDialog},this.state.appGlobals.confirmDialogYesLabel))),n.a.createElement(p.c,null,n.a.createElement(p.a,{path:"".concat("/ffg-sw-genesys-helpers","/"),exact:!0},n.a.createElement(w,{appGlobals:this.state.appGlobals})),n.a.createElement(p.a,{path:"".concat("/ffg-sw-genesys-helpers","/initiative"),exact:!0},n.a.createElement(O,{appGlobals:this.state.appGlobals})),n.a.createElement(p.a,{path:"".concat("/ffg-sw-genesys-helpers","/about"),exact:!0},n.a.createElement(T,{appGlobals:this.state.appGlobals})),n.a.createElement(p.a,{path:"".concat("/ffg-sw-genesys-helpers","/temp"),exact:!0},n.a.createElement(F,{appGlobals:this.state.appGlobals})),n.a.createElement(p.a,{path:"".concat("/ffg-sw-genesys-helpers","/dice"),exact:!0},n.a.createElement(P,{appGlobals:this.state.appGlobals})),n.a.createElement(p.a,{path:"".concat("/ffg-sw-genesys-helpers","/adversary-creator"),exact:!0},n.a.createElement(X,{appGlobals:this.state.appGlobals})),n.a.createElement(p.a,{path:"".concat("/ffg-sw-genesys-helpers","/settings"),exact:!0},n.a.createElement(j,{appGlobals:this.state.appGlobals})),n.a.createElement(p.a,null,n.a.createElement(S,{appGlobals:this.state.appGlobals}))))}}]),t}(n.a.Component);s.a.render(n.a.createElement(ee,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},90:function(e,t,a){e.exports=a(196)},96:function(e,t,a){},97:function(e,t,a){}},[[90,1,2]]]);
//# sourceMappingURL=main.672af74c.chunk.js.map